(self.webpackChunkapp=self.webpackChunkapp||[]).push([[212],{5781:(N,E,d)=>{"use strict";d.d(E,{Cr:()=>R,Rq:()=>P,br:()=>A,e6:()=>h});var m=d(5972);function A(t){var f,v,_,c,g,i,e,n,r,u,M;t.params=t.params||{},t.params.page=t.params.page||1,t.params.limit=t.params.limit||1,(0,m.hm)({url:"api/Media/Search",params:{getby:null!==(f=t.params.userid)&&void 0!==f?f:null,global:null!==(v=t.params.global)&&void 0!==v?v:null,media_id:null!==(_=t.params.media_id)&&void 0!==_?_:null,media_title:null!==(c=t.params.media_title)&&void 0!==c?c:null,v_mediatype:null!==(g=t.params.v_mediatype)&&void 0!==g?g:null,v_mediatypes:null!==(i=t.params.v_mediatypes)&&void 0!==i?i:null,topic_id:null!==(e=t.params.topic_id)&&void 0!==e?e:null,category_id:null!==(n=t.params.category_id)&&void 0!==n?n:null,tags:null!==(r=t.params.tags)&&void 0!==r?r:null,createdby:t.params.createdby||null,sortfield:null!==(u=t.params.sortfield)&&void 0!==u?u:null,sorttype:null!==(M=t.params.sorttype)&&void 0!==M?M:null,posstart:(t.params.page-1)*t.params.limit,numofrow:t.params.limit},success:b=>{var o;"function"==typeof t.callback&&t.callback(null!==(o=b.data)&&void 0!==o?o:null)},error:b=>{"function"==typeof t.callback&&t.callback(),console.error(b)},loading:t.loading,loadingController:t.loadingController})}function h(t){var f,v;t.params=t.params||{},(0,m.hm)({url:"api/Media/Detail",params:{getby:null!==(f=t.params.userid)&&void 0!==f?f:null,media_id:null!==(v=t.params.media_id)&&void 0!==v?v:null},success:_=>{var c;"function"==typeof t.callback&&t.callback(null!==(c=_.data)&&void 0!==c?c:null)},error:_=>{"function"==typeof t.callback&&t.callback(),console.error(_)},loading:t.loading,loadingController:t.loadingController})}function P(t){var f,v,_,c,g,i,e,n,r,u,M,b,o,I,w,D,j;t.params=t.params||{},(0,m.Ll)({url:"api/Media/AddUpdate",params:{media_id:null!==(f=t.params.media_id)&&void 0!==f?f:null,media_title:null!==(v=t.params.media_title)&&void 0!==v?v:null,media_description:null!==(_=t.params.media_description)&&void 0!==_?_:null,media_content:null!==(c=t.params.media_content)&&void 0!==c?c:null,filepath:null!==(g=t.params.filepath)&&void 0!==g?g:null,filepath_extract:null!==(i=t.params.filepath_extract)&&void 0!==i?i:null,link_file:null!==(e=t.params.link_file)&&void 0!==e?e:null,link_share:null!==(n=t.params.link_share)&&void 0!==n?n:null,cover:null!==(r=t.params.cover)&&void 0!==r?r:null,v_mediatype:null!==(u=t.params.v_mediatype)&&void 0!==u?u:null,v_osstype:null!==(M=t.params.v_osstype)&&void 0!==M?M:null,v_sharingmode:null!==(b=t.params.v_sharingmode)&&void 0!==b?b:null,topic_id:null!==(o=t.params.topic_id)&&void 0!==o?o:null,category_id:null!==(I=t.params.category_id)&&void 0!==I?I:null,tags:null!==(w=t.params.tags)&&void 0!==w?w:null,createdby:null!==(D=t.params.userid)&&void 0!==D?D:null,modifiedby:null!==(j=t.params.userid)&&void 0!==j?j:null},success:T=>{var F;"function"==typeof t.callback&&t.callback(null!==(F=T.data)&&void 0!==F?F:null)},error:T=>{"function"==typeof t.callback&&t.callback(),console.error(T)},loading:t.loading,loadingController:t.loadingController})}function R(t){var f,v,_;t.params=t.params||{},(0,m.sj)({url:"api/Media/Delete",params:{deletedby:null!==(f=t.params.userid)&&void 0!==f?f:null,media_id:null!==(v=t.params.media_id)&&void 0!==v?v:null,createdby:null!==(_=t.params.userid)&&void 0!==_?_:null},success:c=>{var g;"function"==typeof t.callback&&t.callback(null!==(g=c.data)&&void 0!==g?g:null)},error:c=>{"function"==typeof t.callback&&t.callback(),console.error(c)},loading:t.loading,loadingController:t.loadingController})}},5453:(N,E,d)=>{"use strict";d.d(E,{Ao:()=>P,BA:()=>R,Bt:()=>v,Ey:()=>t,FG:()=>g,KQ:()=>f,jt:()=>i});var m=d(5972),A=d(1038),h=d(4552);const P=e=>{e.params=e.params||{},(0,m.pN)({authorization:!1,api_url:"https://api.trogiupluat.vn/",path:"api/OpenAI/v1.0/download-image",headers:{api_key:"YjMxZTQwMWENRlYzENTkwNmYZjFlZTFkMRiOTMzNzkzZjgMjUNjJjNDJiMUNTJhYjYYzllYmUZg"},params:{url:e.params.url||null},success:n=>{var r;"function"==typeof e.callback&&(null!=n&&null!==(r=n.data)&&void 0!==r&&r.StatusCode?e.callback():e.callback(URL.createObjectURL(null==n?void 0:n.data)))},error:n=>{"function"==typeof e.callback&&e.callback(),console.error(n)},loading:e.loading,loadingController:e.loadingController})},R=e=>{var n,r,u;e.params=e.params||{};let M=null!==(n=e.callback)&&void 0!==n?n:I=>{console.log(I)},b=null===(r=e.params.url)||void 0===r?void 0:r.replace(/(\?|\#)(\w|\_|\-|\*|.)+$/gm,""),o=(null==b||null===(u=b.split("/"))||void 0===u||null===(u=u.pop())||void 0===u?void 0:u.toLocaleLowerCase())||"image.png";P({params:{url:b},callback:I=>{I?(0,h.xx)(I,o,"image/x-png",w=>{w?(0,A.v)({params:{file:w,subFolder:"material/aitool",fileType:"image"},callback:D=>{0==(null==D?void 0:D.ReturnCode)?M(D):M()},loading:e.loading,loadingController:e.loadingController}):M()}):M()},loading:e.loading,loadingController:e.loadingController})},t=e=>{if(e.params=e.params||{},"2.0"==e.params.version)return _(e);(0,m.Ll)({authorization:!1,api_url:"https://api.trogiupluat.vn/",path:"api/OpenAI/v1.0/generate-text2image",headers:{api_key:"YjMxZTQwMWENRlYzENTkwNmYZjFlZTFkMRiOTMzNzkzZjgMjUNjJjNDJiMUNTJhYjYYzllYmUZg"},params:{Prompt:e.params.prompt||"Superheroes flying in the sky with chibi style",Size:e.params.size||"256x256"},success:n=>{"function"==typeof e.callback&&e.callback(n.data||null)},error:n=>{"function"==typeof e.callback&&e.callback(),console.error(n)},loading:e.loading,loadingController:e.loadingController})},f=e=>{if(e.params=e.params||{},"2.0"==e.params.version)return c(e);const n=new FormData;n.append("file",e.params.file||null),n.append("size",e.params.size||"256x256"),(0,m.ZD)({authorization:!1,api_url:"https://api.trogiupluat.vn/",path:"api/OpenAI/v1.0/generate-image2image",headers:{api_key:"YjMxZTQwMWENRlYzENTkwNmYZjFlZTFkMRiOTMzNzkzZjgMjUNjJjNDJiMUNTJhYjYYzllYmUZg"},params:n,success:r=>{"function"==typeof e.callback&&e.callback(r.data||null)},error:r=>{"function"==typeof e.callback&&e.callback(),console.error(r)},loading:e.loading,loadingController:e.loadingController})},v=e=>{e.params=e.params||{};const n=new FormData;n.append("prompt",e.params.prompt||null),n.append("sourceText",e.params.sourceText||null),n.append("temperature","1.0"),(0,m.Ll)({authorization:!1,api_url:"https://api.trogiupluat.vn/",path:"api/OpenAI/v1.0/get-gpt-action",headers:{api_key:"YjMxZTQwMWENRlYzENTkwNmYZjFlZTFkMRiOTMzNzkzZjgMjUNjJjNDJiMUNTJhYjYYzllYmUZg"},params:n,success:r=>{"function"==typeof e.callback&&e.callback(r.data||null)},error:r=>{"function"==typeof e.callback&&e.callback(),console.error(r)},loading:e.loading,loadingController:e.loadingController})},_=e=>{if(e.params=e.params||{},e.params.size){let n=e.params.size.split("x");e.params.width=parseInt(n[0]),e.params.height=parseInt(n[1])}(0,m.Ll)({authorization:!1,api_url:"https://api.trogiupluat.vn/",path:"api/OpenAI/v2.0/generate-text2image",headers:{api_key:"YjMxZTQwMWENRlYzENTkwNmYZjFlZTFkMRiOTMzNzkzZjgMjUNjJjNDJiMUNTJhYjYYzllYmUZg"},params:{prompt:e.params.prompt||"Superheroes flying in the sky with chibi style",width:e.params.width||512,height:e.params.height||512,steps:20},success:n=>{"function"==typeof e.callback&&e.callback(n.data||null)},error:n=>{"function"==typeof e.callback&&e.callback(),console.error(n)},loading:e.loading,loadingController:e.loadingController})},c=e=>{e.params=e.params||{};const n=new FormData;if(n.append("prompt",e.params.prompt||null),n.append("file",e.params.file||null),e.params.size){let r=e.params.size.split("x");n.append("width",r[0]||512),n.append("height",r[1]||512)}(0,m.ZD)({authorization:!1,api_url:"https://api.trogiupluat.vn/",path:"api/OpenAI/v2.0/generate-image2image",headers:{api_key:"YjMxZTQwMWENRlYzENTkwNmYZjFlZTFkMRiOTMzNzkzZjgMjUNjJjNDJiMUNTJhYjYYzllYmUZg"},params:n,success:r=>{"function"==typeof e.callback&&e.callback(r.data||null)},error:r=>{"function"==typeof e.callback&&e.callback(),console.error(r)},loading:e.loading,loadingController:e.loadingController})},g=e=>{e.params=e.params||{};const n=new FormData;n.append("AudioFile",e.params.AudioFile||null),(0,m.ZD)({authorization:!1,api_url:"https://api.trogiupluat.vn/",path:"api/STT/v2.0",headers:{api_key:"YjMxZTQwMWENRlYzENTkwNmYZjFlZTFkMRiOTMzNzkzZjgMjUNjJjNDJiMUNTJhYjYYzllYmUZg"},params:n,success:r=>{"function"==typeof e.callback&&e.callback(r.data||null)},error:r=>{"function"==typeof e.callback&&e.callback(),console.error(r)},loading:e.loading,loadingController:e.loadingController})},i=e=>{var n,r,u,M;e.params=e.params||{},(0,m.hm)({authorization:!1,api_url:"https://api.trogiupluat.vn/",path:"api/TTS/v2.0",headers:{api_key:"YjMxZTQwMWENRlYzENTkwNmYZjFlZTFkMRiOTMzNzkzZjgMjUNjJjNDJiMUNTJhYjYYzllYmUZg"},params:{Text:null!==(n=e.params.Text)&&void 0!==n?n:"Ch\xe0o m\u1eebng b\u1ea1n \u0111\u1ebfn v\u1edbi Tabca",Language:null!==(r=e.params.Language)&&void 0!==r?r:"vi",Gender:null!==(u=e.params.Gender)&&void 0!==u?u:"male",Rate:null!==(M=e.params.VoiceSpeed)&&void 0!==M?M:0},success:b=>{"function"==typeof e.callback&&e.callback(b.data||null)},error:b=>{"function"==typeof e.callback&&e.callback(),console.error(b)},loading:e.loading,loadingController:e.loadingController})}},4569:(N,E,d)=>{"use strict";d.d(E,{K:()=>Z});var m=d(467),A=d(2527),h=d.n(A),P=d(7586),R=d.n(P),t=d(5972),f=d(5781),v=d(5453),_=d(2635),c=d(4552),g=d(5414),i=d(1607),e=d(4438),n=d(6637),r=d(177),u=d(9417),M=d(31);function b(s,O){if(1&s&&e.eu8(0,19),2&s){e.XpG();const p=e.sdS(36);e.Y8G("ngTemplateOutlet",p)}}function o(s,O){if(1&s&&e.eu8(0,19),2&s){e.XpG();const p=e.sdS(38);e.Y8G("ngTemplateOutlet",p)}}function I(s,O){1&s&&(e.j41(0,"div",20),e.nrm(1,"ion-img",21),e.k0s())}function w(s,O){if(1&s){const p=e.RV6();e.j41(0,"div",24)(1,"button",25),e.bIt("click",function(){e.eBV(p);const l=e.XpG(2);return e.Njj(l.download())}),e.nrm(2,"ion-icon",26),e.k0s()()}}function D(s,O){if(1&s&&(e.j41(0,"div",20),e.nrm(1,"ion-img",22),e.DNE(2,w,3,0,"div",23),e.k0s()),2&s){let p;const a=e.XpG();e.R7$(),e.HbH(null!=a.response&&a.response.Data?"img-response":"img-default"),e.Y8G("src",null!==(p=null==a.response?null:a.response.Data)&&void 0!==p?p:"assets/image/no-image.svg"),e.R7$(),e.Y8G("ngIf",null==a.response?null:a.response.Data)}}function j(s,O){if(1&s&&(e.j41(0,"option",42),e.EFF(1),e.k0s()),2&s){const p=O.$implicit;e.Y8G("value",p),e.R7$(),e.JRh(p)}}function T(s,O){if(1&s&&(e.j41(0,"option",42),e.EFF(1),e.k0s()),2&s){const p=O.$implicit;e.Y8G("value",p),e.R7$(),e.JRh(p)}}function F(s,O){if(1&s){const p=e.RV6();e.j41(0,"div")(1,"button",43),e.bIt("click",function(){e.eBV(p);const l=e.XpG(2);return e.Njj(l.submitText2Image())}),e.nrm(2,"ion-icon",44),e.j41(3,"span"),e.EFF(4),e.nI1(5,"translate"),e.k0s()()()}2&s&&(e.R7$(4),e.JRh(e.bMT(5,1,"DrawPictures")))}function U(s,O){1&s&&(e.j41(0,"div"),e.nrm(1,"ion-spinner",45),e.k0s())}function K(s,O){if(1&s){const p=e.RV6();e.j41(0,"div",27)(1,"div",28)(2,"div",29)(3,"label"),e.EFF(4),e.nI1(5,"translate"),e.j41(6,"span",30),e.EFF(7,"*"),e.k0s()(),e.j41(8,"div",31)(9,"div",32)(10,"div",33)(11,"textarea",34),e.nI1(12,"translate"),e.bIt("change",function(l){e.eBV(p);const C=e.XpG();return e.Njj(C.changePrompt(l))}),e.k0s()()()()(),e.j41(13,"div",29)(14,"div",35)(15,"div",36)(16,"label",37),e.EFF(17),e.nI1(18,"translate"),e.k0s()(),e.j41(19,"select",38),e.bIt("ngModelChange",function(l){e.eBV(p);const C=e.XpG();return e.Njj(C.changeSize(l))}),e.DNE(20,j,2,2,"option",39),e.k0s()()(),e.j41(21,"div",29)(22,"div",35)(23,"div",36)(24,"label",37),e.EFF(25),e.nI1(26,"translate"),e.k0s()(),e.j41(27,"select",38),e.bIt("ngModelChange",function(l){e.eBV(p);const C=e.XpG();return e.Njj(C.changeVersion(l))}),e.DNE(28,T,2,2,"option",39),e.k0s()()()(),e.j41(29,"div")(30,"div",40),e.DNE(31,F,6,3,"div",41)(32,U,2,0,"div",41),e.k0s()()()}if(2&s){let p;const a=e.XpG();e.R7$(4),e.SpI("",e.bMT(5,11,"Suggest")," "),e.R7$(7),e.FS9("placeholder",e.bMT(12,13,"WriteYourDescriptionAITechnologyWillHelpYouPerfectYourIdeas")),e.Y8G("ngModel",null!==(p=a.dataForm.prompt)&&void 0!==p?p:""),e.R7$(6),e.JRh(e.bMT(18,15,"ImageSize")),e.R7$(2),e.Y8G("ngModel",a.dataForm.size),e.R7$(),e.Y8G("ngForOf",a.sizes),e.R7$(5),e.JRh(e.bMT(26,17,"VersionAI")),e.R7$(2),e.Y8G("ngModel",a.dataForm.version),e.R7$(),e.Y8G("ngForOf",a.versions),e.R7$(3),e.Y8G("ngIf",!a.dataForm.isloading),e.R7$(),e.Y8G("ngIf",a.dataForm.isloading)}}function B(s,O){if(1&s&&(e.j41(0,"option",42),e.EFF(1),e.k0s()),2&s){const p=O.$implicit;e.Y8G("value",p),e.R7$(),e.JRh(p)}}function z(s,O){if(1&s&&(e.j41(0,"option",42),e.EFF(1),e.k0s()),2&s){const p=O.$implicit;e.Y8G("value",p),e.R7$(),e.JRh(p)}}function G(s,O){if(1&s){const p=e.RV6();e.j41(0,"div")(1,"button",43),e.bIt("click",function(){e.eBV(p);const l=e.XpG(2);return e.Njj(l.submitImage2Image())}),e.nrm(2,"ion-icon",44),e.j41(3,"span"),e.EFF(4),e.nI1(5,"translate"),e.k0s()()()}2&s&&(e.R7$(4),e.JRh(e.bMT(5,1,"DrawPictures")))}function W(s,O){1&s&&(e.j41(0,"div"),e.nrm(1,"ion-spinner",45),e.k0s())}function V(s,O){if(1&s){const p=e.RV6();e.j41(0,"div",27)(1,"div",28)(2,"div",29)(3,"label"),e.EFF(4),e.nI1(5,"translate"),e.j41(6,"span",30),e.EFF(7,"*"),e.k0s()(),e.j41(8,"div",46)(9,"div",47)(10,"div",32)(11,"div",33),e.nrm(12,"img",5),e.j41(13,"div",48)(14,"div",49)(15,"div")(16,"div",50),e.nrm(17,"ion-icon",51),e.k0s(),e.j41(18,"div",52)(19,"i"),e.EFF(20),e.nI1(21,"translate"),e.k0s()()()()()()()()()(),e.j41(22,"div",53)(23,"div",35)(24,"div",36)(25,"label",37),e.EFF(26),e.nI1(27,"translate"),e.j41(28,"span",30),e.EFF(29,"*"),e.k0s()()(),e.j41(30,"div",54)(31,"input",55),e.bIt("change",function(l){e.eBV(p);const C=e.XpG();return e.Njj(C.changeFile(l))}),e.k0s(),e.j41(32,"label",56),e.EFF(33),e.k0s()()()(),e.j41(34,"div",29)(35,"label"),e.EFF(36),e.nI1(37,"translate"),e.k0s(),e.j41(38,"div",31)(39,"textarea",57),e.nI1(40,"translate"),e.bIt("change",function(l){e.eBV(p);const C=e.XpG();return e.Njj(C.changePrompt(l))}),e.k0s()()(),e.j41(41,"div",29)(42,"div",35)(43,"div",36)(44,"label",37),e.EFF(45),e.nI1(46,"translate"),e.k0s()(),e.j41(47,"select",38),e.bIt("ngModelChange",function(l){e.eBV(p);const C=e.XpG();return e.Njj(C.changeSize(l))}),e.DNE(48,B,2,2,"option",39),e.k0s()()(),e.j41(49,"div",29)(50,"div",35)(51,"div",36)(52,"label",37),e.EFF(53),e.nI1(54,"translate"),e.k0s()(),e.j41(55,"select",38),e.bIt("ngModelChange",function(l){e.eBV(p);const C=e.XpG();return e.Njj(C.changeVersion(l))}),e.DNE(56,z,2,2,"option",39),e.k0s()()()(),e.j41(57,"div")(58,"div",40),e.DNE(59,G,6,3,"div",41)(60,W,2,0,"div",41),e.k0s()()()}if(2&s){let p,a;const l=e.XpG();e.R7$(4),e.SpI("",e.bMT(5,16,"SendUsPhotos")," "),e.R7$(8),e.Y8G("src",null!==(p=l.dataForm.fileUrlViewer)&&void 0!==p?p:"",e.B4B),e.R7$(8),e.JRh(e.bMT(21,18,"AITechnologyWillHelpYouPerfectYourIdeas")),e.R7$(6),e.SpI("",e.bMT(27,20,"OriginalImage")," "),e.R7$(7),e.JRh(null==l.dataForm.file?null:l.dataForm.file.name),e.R7$(3),e.JRh(e.bMT(37,22,"Suggest")),e.R7$(3),e.FS9("placeholder",e.bMT(40,24,"WriteYourDescriptionAITechnologyWillHelpYouPerfectYourIdeas")),e.Y8G("ngModel",null!==(a=l.dataForm.prompt)&&void 0!==a?a:""),e.R7$(6),e.JRh(e.bMT(46,26,"ImageSize")),e.R7$(2),e.Y8G("ngModel",l.dataForm.size),e.R7$(),e.Y8G("ngForOf",l.sizes),e.R7$(5),e.JRh(e.bMT(54,28,"VersionAI")),e.R7$(2),e.Y8G("ngModel",l.dataForm.version),e.R7$(),e.Y8G("ngForOf",l.versions),e.R7$(3),e.Y8G("ngIf",!l.dataForm.isloading),e.R7$(),e.Y8G("ngIf",l.dataForm.isloading)}}let Z=(()=>{var s;class O{constructor(a,l,C){this.modalController=a,this.toastController=l,this.loadingController=C,this.versions=["1.0","2.0"],this.sizes=["256x256","512x512","1024x1024","1024x1792","1792x1024"],this.dataForm={version:"2.0",size:"512x512"},this.response={},this.appsettings={}}ngOnInit(){var a=this;this.isfullscreen=window.document.body.classList.contains("modal-fullscreen"),(0,m.A)(function*(){a.appsettings=yield(0,t.AC)(),a.appsettings.madonvi&&(a.user=yield(0,_.Nk)())})()}toggleFullScreen(){this.isfullscreen?window.document.body.classList.remove("modal-fullscreen"):window.document.body.classList.add("modal-fullscreen"),this.isfullscreen=window.document.body.classList.contains("modal-fullscreen")}close(){return this.modalController.dismiss(null,"cancel")}changeIsFile(a){this.dataForm.isloading||(this.isFile=a)}download(){var a=this;return(0,m.A)(function*(){var l,C;null!==(l=a.response)&&void 0!==l&&l.Data&&(0,v.Ao)({params:{url:null===(C=a.response)||void 0===C?void 0:C.Data},callback:y=>{if(y){var k;let $=(null===(k=a.response)||void 0===k||null===(k=k.Data)||void 0===k||null===(k=k.replace(/(\?|\#)(\w|\_|\-|\*|.)+$/gm,""))||void 0===k||null===(k=k.split("/"))||void 0===k||null===(k=k.pop())||void 0===k?void 0:k.toLocaleLowerCase())||"image.png";(0,c.xx)(y,$,"image/x-png",L=>{L?h()(L,$,"image/x-png"):(0,g.c)(a.toastController,{message:"Kh\xf4ng th\u1ec3 t\u1ea3i xu\u1ed1ng t\u1eadp tin!"}).then(x=>{x.present()})})}else(0,g.c)(a.toastController,{message:"Kh\xf4ng th\u1ec3 t\u1ea3i xu\u1ed1ng t\u1eadp tin!"}).then($=>{$.present()})}})})()}save(){var a=this;return(0,m.A)(function*(){var l,C;return a.dataForm.isloading?(0,g.c)(a.toastController,{message:"H\xe3y \u0111\u1ee3i h\u1ec7 th\u1ed1ng ho\xe0n t\u1ea5t qu\xe1 tr\xecnh t\u1ea1o d\u1eef li\u1ec7u!"}).then(y=>{y.present()}):null!==(l=a.response)&&void 0!==l&&l.Data?void(0,v.BA)({loadingController:a.loadingController,params:{url:null===(C=a.response)||void 0===C?void 0:C.Data},callback:y=>{if(y){var k,$,L;let x={};return x.filepath=y.path+"/"+(null===(k=y.file)||void 0===k?void 0:k.name),x.link_file=a.appsettings.readfileuploadurl+y.path+"/"+(null===($=y.file)||void 0===$?void 0:$.name),x.media_title=`AI-${R()(new Date).format("YYYYMMDDHHmm(SSS)")}`,x.media_description=a.dataForm.size,x.media_content=a.isFile?void 0:a.dataForm.prompt,x.v_mediatype=i.S.IMAGE,void(0,f.Rq)({loadingController:a.loadingController,params:Object.assign(x,{userid:null===(L=a.user)||void 0===L?void 0:L.userid}),callback:Y=>{(0,g.c)(a.toastController,{},Y).then(J=>{J.present()}),0==(null==Y?void 0:Y.returncode)&&a.modalController.dismiss(null==Y?void 0:Y.id,"confirm")}})}(0,g.c)(a.toastController,{message:"Kh\xf4ng th\u1ec3 t\u1ea3i l\xean t\u1eadp tin!"}).then(x=>{x.present()})}}):(0,g.c)(a.toastController,{message:"Kh\xf4ng t\xecm th\u1ea5y d\u1eef li\u1ec7u kh\u1edfi t\u1ea1o!"}).then(y=>{y.present()})})()}changeSize(a){this.dataForm.size=a}changeVersion(a){this.dataForm.version=a}changePrompt(a){var l;this.dataForm.prompt=null==a||null===(l=a.target)||void 0===l||null===(l=l.value)||void 0===l?void 0:l.trim().replace(/\s+/g," ")}changeFile(a){this.dataForm.file=void 0,a.target.files.length&&(this.dataForm.file=a.target.files[0]),this.dataForm.fileUrlViewer=this.dataForm.file?URL.createObjectURL(this.dataForm.file):void 0}submitText2Image(){var a=this;return(0,m.A)(function*(){if(!a.dataForm.prompt)return(0,g.c)(a.toastController,{message:"H\xe3y vi\u1ebft m\xf4 t\u1ea3 c\u1ee7a b\u1ea1n, c\xf4ng ngh\u1ec7 AI s\u1ebd gi\xfap b\u1ea1n ho\xe0n thi\u1ec7n \xfd t\u01b0\u1edfng!"}).then(l=>{l.present()});(0,v.Ey)({loading:l=>{a.dataForm.isloading=l},params:a.dataForm,callback:l=>{a.response=l}})})()}submitImage2Image(){var a=this;return(0,m.A)(function*(){if(!a.dataForm.file)return(0,g.c)(a.toastController,{message:"G\u1eedi \u1ea3nh cho ch\xfang t\xf4i, c\xf4ng ngh\u1ec7 AI s\u1ebd gi\xfap b\u1ea1n ho\xe0n thi\u1ec7n \xfd t\u01b0\u1edfng!"}).then(l=>{l.present()});(0,v.KQ)({loading:l=>{a.dataForm.isloading=l},params:a.dataForm,callback:l=>{a.response=l}})})()}}return(s=O).\u0275fac=function(a){return new(a||s)(e.rXU(n.W3),e.rXU(n.K_),e.rXU(n.Xi))},s.\u0275cmp=e.VBU({type:s,selectors:[["app-modal-ai-image"]],decls:39,vars:21,consts:[["typelink",""],["typefile",""],["slot","end","mode","ios","color","light","fill","outline",3,"click"],["slot","end"],["color","dark",1,"d-none","d-md-block",3,"click"],[3,"src"],["color","dark",3,"click"],["src","../../../assets/icon/16x16/close.svg"],[1,"h-100","d-flex","flex-wrap","align-stretch","user-select-none"],[1,"col-12","col-lg-5","p-3","pr-lg-0"],[1,"prompt"],[1,"d-flex","h-100","flex-column"],[1,"nav","nav-tabs","nav-fill"],[1,"nav-item"],[1,"nav-link",3,"click"],[1,"flex-grow-1","overflow-auto"],[3,"ngTemplateOutlet",4,"ngIf"],[1,"col-12","col-lg-7","p-3"],["class","response",4,"ngIf"],[3,"ngTemplateOutlet"],[1,"response"],["src","../../../assets/image/gif/ai-loading.gif",1,"w-100","h-100","no-fit"],[1,"w-100","h-100",3,"src"],["class","download-box",4,"ngIf"],[1,"download-box"],["type","button",3,"click"],["src","../../../assets/icon/16x16/download.svg"],[1,"d-flex","h-100","flex-column","justify-content-between"],[1,"px-3","mt-2"],[1,"form-group"],[1,"ml-1","text-danger"],[1,"prompt-box"],[1,"embed-responsive","embed-responsive-21by9"],[1,"embed-responsive-item"],[1,"form-control","h-100","overflow-auto",3,"change","placeholder","ngModel"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"custom-select",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"form-group","text-center"],[4,"ngIf"],[3,"value"],[1,"btn",3,"click"],["src","../../../assets/icon/16x16/magic.svg"],["name","dots","color","dark",1,"align-middle"],[1,"ondrop-image"],["onclick","document.getElementById('inputFileAiImage').click()",1,"media-box"],[1,"placeholder"],[1,"d-flex","flex-wrap","w-100","h-100","align-items-center","justify-content-center","text-center"],[1,"placeholder-icon"],["src","../../../assets/image-svg/uploadImage2.svg"],[1,"placeholder-text"],[1,"form-group","hide"],[1,"custom-file"],["type","file","id","inputFileAiImage","multiple","",1,"custom-file-input",3,"change"],["for","inputFileAiImage",1,"custom-file-label"],["rows","3",1,"form-control","h-100","overflow-auto",3,"change","placeholder","ngModel"]],template:function(a,l){if(1&a){const C=e.RV6();e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ion-button",2),e.bIt("click",function(){return e.eBV(C),e.Njj(l.save())}),e.j41(6,"ion-label"),e.EFF(7),e.nI1(8,"translate"),e.k0s()(),e.j41(9,"ion-buttons",3)(10,"ion-button",4),e.bIt("click",function(){return e.eBV(C),e.Njj(l.toggleFullScreen())}),e.nrm(11,"ion-icon",5),e.k0s(),e.j41(12,"ion-button",6),e.bIt("click",function(){return e.eBV(C),e.Njj(l.close())}),e.nrm(13,"ion-icon",7),e.k0s()()()(),e.j41(14,"ion-content")(15,"div",8)(16,"div",9)(17,"div",10)(18,"div",11)(19,"div")(20,"ul",12)(21,"li",13)(22,"a",14),e.bIt("click",function(){return e.eBV(C),e.Njj(l.changeIsFile(!1))}),e.EFF(23),e.nI1(24,"translate"),e.k0s()(),e.j41(25,"li",13)(26,"a",14),e.bIt("click",function(){return e.eBV(C),e.Njj(l.changeIsFile(!0))}),e.EFF(27),e.nI1(28,"translate"),e.k0s()()()(),e.j41(29,"div",15),e.DNE(30,b,1,1,"ng-container",16)(31,o,1,1,"ng-container",16),e.k0s()()()(),e.j41(32,"div",17),e.DNE(33,I,2,0,"div",18)(34,D,3,4,"div",18),e.k0s()()(),e.DNE(35,K,33,19,"ng-template",null,0,e.C5r)(37,V,61,30,"ng-template",null,1,e.C5r)}2&a&&(e.R7$(3),e.JRh(e.bMT(4,13,"CreateImageWithAI")),e.R7$(4),e.JRh(e.bMT(8,15,"AddToMaterialRepository")),e.R7$(4),e.Y8G("src",l.isfullscreen?"assets/icon/16x16/fullscreen-exit.svg":"assets/icon/16x16/fullscreen.svg"),e.R7$(11),e.HbH(l.isFile?"":"active"),e.R7$(),e.JRh(e.bMT(24,17,"DrawPhotosWithAI")),e.R7$(3),e.HbH(l.isFile?"active":""),e.R7$(),e.JRh(e.bMT(28,19,"CreateSimilarImagesWithAI")),e.R7$(3),e.Y8G("ngIf",!l.isFile),e.R7$(),e.Y8G("ngIf",l.isFile),e.R7$(2),e.Y8G("ngIf",l.dataForm.isloading),e.R7$(),e.Y8G("ngIf",!l.dataForm.isloading))},dependencies:[r.Sq,r.bT,r.T3,u.xH,u.y7,u.me,u.wz,u.BC,u.vS,n.Jm,n.QW,n.W9,n.eU,n.iq,n.KW,n.he,n.w2,n.BC,n.ai,M.D9],styles:['button[_ngcontent-%COMP%], select[_ngcontent-%COMP%], input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important}input[_ngcontent-%COMP%]::placeholder, textarea[_ngcontent-%COMP%]::placeholder{color:#999;font-style:italic}.hide[_ngcontent-%COMP%]{display:none!important}.ondrop-image[_ngcontent-%COMP%]{--color: #eee}.ondrop-image[_ngcontent-%COMP%]   .media-box[_ngcontent-%COMP%]{border-radius:4px;border:1px dashed rgba(51,53,74,.2);background:#fff}.ondrop-image[_ngcontent-%COMP%]   .media-box[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{display:none;width:100%;height:100%}.ondrop-image[_ngcontent-%COMP%]   .media-box[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]   .placeholder-icon[_ngcontent-%COMP%]{line-height:0;font-size:60px}.ondrop-image[_ngcontent-%COMP%]   .media-box[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]{color:#33333380}.ondrop-image[_ngcontent-%COMP%]   .media-box[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]   .placeholder-icon[_ngcontent-%COMP%] + .placeholder-text[_ngcontent-%COMP%]{margin-top:.25rem}.ondrop-image[_ngcontent-%COMP%]   .media-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}.ondrop-image[_ngcontent-%COMP%]   .media-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:not([src]), .ondrop-image[_ngcontent-%COMP%]   .media-box[_ngcontent-%COMP%]   img[src=""][_ngcontent-%COMP%]{display:none}.ondrop-image[_ngcontent-%COMP%]   .media-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:not([src]) + .placeholder[_ngcontent-%COMP%], .ondrop-image[_ngcontent-%COMP%]   .media-box[_ngcontent-%COMP%]   img[src=""][_ngcontent-%COMP%] + .placeholder[_ngcontent-%COMP%]{display:block}.prompt[_ngcontent-%COMP%]{overflow:hidden;width:100%;height:100%;border-radius:15px;background:#fff;color:#333;box-shadow:0 0 12px #0000001a}.prompt[_ngcontent-%COMP%]   .prompt-box[_ngcontent-%COMP%]{border:1px solid transparent}.prompt[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .input-group-prepend[_ngcontent-%COMP%]{min-width:33%}.prompt[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .input-group-prepend[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{border:0;background:transparent;padding-left:0}.prompt[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .prompt[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]{border-radius:.25rem;border-color:#eee}.prompt[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]{color:var(--ion-color-primary-shade, #000)}.prompt[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000}.prompt[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:160px;height:3rem;padding:0;border-radius:1.5rem;vertical-align:middle;text-align:center;font-size:14px;font-weight:400;text-transform:initial;background:#ff6a61;color:#fff}.prompt[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.5rem;vertical-align:middle;display:inline-block}.prompt[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{margin-left:.5rem}.prompt[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1rem;vertical-align:middle;display:inline-block}.prompt[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{cursor:pointer}.prompt[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{border:0;color:inherit}.prompt[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:not(.active){background-color:#e9e8e9}.response[_ngcontent-%COMP%]{position:relative;overflow:hidden;width:100%;height:100%;border-radius:15px;background:#fff;box-shadow:0 0 12px #0000001a;line-height:0}.response[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:100%;height:100%}.response[_ngcontent-%COMP%]   ion-img.no-fit[_ngcontent-%COMP%]{object-fit:none}.response[_ngcontent-%COMP%]   ion-img.img-default[_ngcontent-%COMP%]{object-fit:cover}.response[_ngcontent-%COMP%]   ion-img.img-response[_ngcontent-%COMP%]{object-fit:contain}.response[_ngcontent-%COMP%]   .download-box[_ngcontent-%COMP%]{position:absolute;left:50%;bottom:1rem;width:3rem;height:3rem;margin-left:-1.5rem;line-height:0;border-radius:50%;box-shadow:0 4px 4px #00000026}.response[_ngcontent-%COMP%]   .download-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#fff;border-radius:inherit}.response[_ngcontent-%COMP%]   .download-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#000;font-size:26px}']}),O})()},6539:(N,E,d)=>{"use strict";d.d(E,{JD:()=>t,sx:()=>R});var m=d(467),A=d(2635),h=d(8833),P=d(5972);const R=function(){var _=(0,m.A)(function*(){return yield(0,A.Nk)()});return function(){return _.apply(this,arguments)}}(),t=function(){var _=(0,m.A)(function*(c){let g=null!=c?c:yield(0,P.AC)(),i=yield(0,A.Nk)();return(!g.madonvi||!i.userid||g.madonvi!=(null==i?void 0:i.madonvi))&&window.location.replace(h._.LANDING_PAGE+`?require=signin&returnurl=${encodeURIComponent(window.location.href)}`),i});return function(g){return _.apply(this,arguments)}}()},1312:(N,E,d)=>{"use strict";d.d(E,{Kd:()=>R,Rv:()=>v,Rw:()=>g,_Y:()=>_,gs:()=>c,iO:()=>f,oG:()=>t});var m=d(7586),A=d.n(m),h=d(5312),P=d(4552);const R=(i,e,n)=>{var r,u,M,b,o;(o=h.c.site)&&(e.updateTag({property:"og:site_name",content:o}),e.updateTag({name:"twitter:site",content:o})),(o=>{if(!o)return;let I=document.querySelector('[rel="canonical"]');I?I.setAttribute("href",o):(I=document.createElement("link"),I.setAttribute("rel","canonical"),I.setAttribute("href",o),document.head.append(I)),e.updateTag({property:"og:url",content:o})})(null!==(r=n.url)&&void 0!==r?r:h.c.url),(o=>{o&&(e.updateTag({name:"twitter:creator",content:null==o?void 0:o.email}),e.updateTag({name:"twitter:label1",content:"Created by"}),e.updateTag({name:"twitter:data1",content:null==o?void 0:o.name}),e.updateTag({name:"twitter:label2",content:"Created by Email"}),e.updateTag({name:"twitter:data2",content:null==o?void 0:o.email}))})(h.c.author),(o=>{o&&(e.updateTag({property:"og:updated_time",content:o}),e.updateTag({property:"article:modified_time",content:o}),e.updateTag({property:"article:published_time",content:"2024-01-01T00:00:00+07:00"}))})(h.c.updated),(o=>{o&&(i.setTitle(o),e.updateTag({property:"og:title",content:o}),e.updateTag({name:"twitter:title",content:o}))})(null!==(u=n.title)&&void 0!==u?u:h.c.title),(o=>{o&&(e.updateTag({name:"description",content:o}),e.updateTag({property:"og:description",content:o}),e.updateTag({name:"twitter:description",content:o}))})(null!==(M=n.description)&&void 0!==M?M:h.c.description),(o=>{o&&(e.updateTag({property:"og:image",content:null==o?void 0:o.url}),e.updateTag({property:"og:image:secure_url",content:null==o?void 0:o.url}),e.updateTag({property:"og:image:width",content:null==o?void 0:o.width}),e.updateTag({property:"og:image:height",content:null==o?void 0:o.height}),e.updateTag({property:"og:image:alt",content:null==o?void 0:o.alt}),e.updateTag({property:"og:image:type",content:null==o?void 0:o.type}),e.updateTag({name:"twitter:card",content:"summary_large_image"}),e.updateTag({name:"twitter:image",content:null==o?void 0:o.url}))})(null!==(b=n.image)&&void 0!==b?b:h.c.image)},t=(i,e)=>{var n=document.createElement("input");n.type="file",n.accept=i.accept,n.multiple=!!i.multiple,n.style.display="none",n.style.visibility="hidden",n.addEventListener("change",r=>{var u;r.preventDefault();let M=(null===(u=r.target)||void 0===u?void 0:u.files)||[];M.length>0&&e(M),document.body.removeChild(n)}),document.body.appendChild(n),n.click()},f=i=>!i||i<=1?`${null!=i?i:0} byte`:i>=1073741824?`${(i/1073741824).toFixed(2)} GB`:i>=1048576?`${(i/1048576).toFixed(2)} MB`:i>=1024?`${(i/1024).toFixed(2)} KB`:`${i} bytes`,v=(i,e)=>A()(i).format(null!=e?e:"HH:mm, DD/MM/YYYY"),_=i=>(0,P.XT)(i),c=i=>(null!=i?i:0).toLocaleString("vi"),g=(i,e)=>{var n;return"number"!=typeof i?0:(e=null!==(n=e)&&void 0!==n?n:100,Math.round((i+Number.EPSILON)*e)/e)}},1951:(N,E,d)=>{"use strict";d.d(E,{j:()=>A});const A=(h,P)=>{switch(null==h?void 0:h.v_datatype){case 800:if(null!=P&&h.datavalue==P)return!0;break;case 801:if(null!=P&&h.datavalue==P)return!0;if("1"==h.datavalue||"true"==h.datavalue||"TRUE"==h.datavalue||"True"==h.datavalue)return!0;break;case 802:if(null!=P&&h.datavalue==P)return!0;if(1==parseInt(h.datavalue))return!0}return!1}},1400:(N,E,d)=>{"use strict";d.d(E,{r:()=>m});const m={XemTatCaBaiGiangDaDuocPheDuyet:10301,SoLuongBaiGiangToiDaTrongDanhMuc:10302,SoLuongHocLieuToiDaTrongDanhMuc:10303,VungLuuTruDuLieu:10304,GenAITaoNoiDungTuDong:10311,GenAITaoHinhAnh:10312,GenAITaoHinhAnhgioiHanSoLuongMoiNgay:10313,GenAITaoBaiKiemTra:10314,GenAIChuyenLoiNoiThanhVanBan:10315,GenAIChuyenVanBanThanhGiongNoi:10316,NhapXuatDuLieuBaiGiangLVB:10321,XuatDuLieuBaiGiangVoiDinhDangSCORM:10322,XuatDuLieuDongGoiBaiGiangVoiDinhDangZIP:10323,NhapDuLieuBaiGiangVoiDinhDangJSON:10342,NhapDuLieuBaiGiangVoiDinhDangPDF:10343,NhapDuLieuBaiGiangVoiDinhDangPPT:10344,NhapDuLieuBaiGiangVoiDinhDangSVG:10346,GhepBaiGiang:10345}},1607:(N,E,d)=>{"use strict";d.d(E,{S:()=>m});const m={TEXT:900,IMAGE:901,AUDIO:902,VIDEO:903,LINK:904,ZIP:905,HTML:906,TRACK:907,OFFICE:908,PDF:909,PHET:910,IMAGE_ANIMATION:911,SCORM:912}},4296:(N,E,d)=>{"use strict";d.d(E,{N:()=>m});const m={ONEDRIVE:1e3,GOOGLEDRIVE:1001,YOUTUBE:1002,SCORM:1003,PHET:1005,OTHER:1004}},2527:function(N,E){var d,A;void 0!==(A="function"==typeof(d=function(){return function h(P,R,t){var u,M,f=window,v="application/octet-stream",_=t||v,c=P,g=!R&&!t&&c,i=document.createElement("a"),e=function(T){return String(T)},n=f.Blob||f.MozBlob||f.WebKitBlob||e,r=R||"download";if(n=n.call?n.bind(f):Blob,"true"===String(this)&&(_=(c=[c,_])[0],c=c[1]),g&&g.length<2048&&(r=g.split("/").pop().split("?")[0],i.href=g,-1!==i.href.indexOf(g))){var b=new XMLHttpRequest;return b.open("GET",g,!0),b.responseType="blob",b.onload=function(T){h(T.target.response,r,v)},setTimeout(function(){b.send()},0),b}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(c)){if(!(c.length>2096103.424&&n!==e))return navigator.msSaveBlob?navigator.msSaveBlob(D(c),r):j(c);_=(c=D(c)).type||v}else if(/([\x80-\xff])/.test(c)){for(var o=0,I=new Uint8Array(c.length),w=I.length;o<w;++o)I[o]=c.charCodeAt(o);c=new n([I],{type:_})}function D(T){for(var F=T.split(/[:;,]/),U=F[1],B=("base64"==F[2]?atob:decodeURIComponent)(F.pop()),z=B.length,G=0,W=new Uint8Array(z);G<z;++G)W[G]=B.charCodeAt(G);return new n([W],{type:U})}function j(T,F){if("download"in i)return i.href=T,i.setAttribute("download",r),i.className="download-js-link",i.innerHTML="downloading...",i.style.display="none",document.body.appendChild(i),setTimeout(function(){i.click(),document.body.removeChild(i),!0===F&&setTimeout(function(){f.URL.revokeObjectURL(i.href)},250)},66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(T)&&(T="data:"+T.replace(/^data:([\w\/\-\+]+)/,v)),window.open(T)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=T),!0;var U=document.createElement("iframe");document.body.appendChild(U),!F&&/^data:/.test(T)&&(T="data:"+T.replace(/^data:([\w\/\-\+]+)/,v)),U.src=T,setTimeout(function(){document.body.removeChild(U)},333)}if(u=c instanceof n?c:new n([c],{type:_}),navigator.msSaveBlob)return navigator.msSaveBlob(u,r);if(f.URL)j(f.URL.createObjectURL(u),!0);else{if("string"==typeof u||u.constructor===e)try{return j("data:"+_+";base64,"+f.btoa(u))}catch{return j("data:"+_+","+encodeURIComponent(u))}(M=new FileReader).onload=function(T){j(this.result)},M.readAsDataURL(u)}return!0}})?d.apply(E,[]):d)&&(N.exports=A)}}]);