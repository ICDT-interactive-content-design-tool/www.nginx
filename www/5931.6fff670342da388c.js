"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5931],{8247:(w,P,_)=>{_.d(P,{D:()=>b});var h=_(4459);function b(m){m.params=m.params||{},(0,h.cd)({url:"api/Lookup/get",params:{lookup_key:m.params.lookup_key||null},success:k=>{"function"==typeof m.callback&&m.callback(null==k?void 0:k.data)},error:k=>{"function"==typeof m.callback&&m.callback(null),console.error(m,k)},loading:m.loading})}},5970:(w,P,_)=>{_.d(P,{P:()=>rn});var h=_(5861),b=_(4459),m=_(7090),k=_(3377),S=_(8247),n=_(2948),p=_(1773),Z=_(6814),O=_(2088);function U(e,d){1&e&&(n.ynx(0),n.TgZ(1,"ion-content")(2,"div",2)(3,"div",3),n._UZ(4,"ion-spinner",4),n.qZA()()(),n.BQk())}function Q(e,d){if(1&e){const a=n.EpF();n.ynx(0),n.TgZ(1,"ion-item",9),n.NdJ("click",function(){const r=n.CHM(a).$implicit,l=n.oxw(3);return n.KtG(l.filterChange(r.lookup_value))}),n.TgZ(2,"ion-label"),n._uU(3),n.qZA()(),n.BQk()}if(2&e){const a=d.$implicit,o=n.oxw(3);n.xp6(1),n.uIk("color",a.lookup_value==o.selectedId?"primary":""),n.xp6(2),n.Oqu(a.lookup_title)}}function s(e,d){if(1&e&&(n.TgZ(0,"ion-list",7),n.YNc(1,Q,4,2,"ng-container",8),n.qZA()),2&e){const a=n.oxw(2);n.xp6(1),n.Q6J("ngForOf",a.lookups)}}function c(e,d){1&e&&(n.TgZ(0,"div",3)(1,"i"),n._uU(2),n.ALo(3,"translate"),n.qZA()()),2&e&&(n.xp6(2),n.Oqu(n.lcZ(3,1,"DataNotFound")))}function g(e,d){if(1&e){const a=n.EpF();n.ynx(0),n.TgZ(1,"ion-item",9),n.NdJ("click",function(){const r=n.CHM(a).$implicit,l=n.oxw(3);return n.KtG(l.filterChange(r.lookup_value))}),n.TgZ(2,"ion-label",10),n._uU(3),n.qZA()(),n.BQk()}if(2&e){const a=d.$implicit,o=n.oxw(3);n.xp6(1),n.uIk("color",a.lookup_value==o.selectedId?"primary":""),n.xp6(1),n.Q6J("color",a.color),n.xp6(1),n.Oqu(a.lookup_title)}}function M(e,d){if(1&e&&(n.ynx(0),n._UZ(1,"hr"),n.TgZ(2,"ion-list",7),n.YNc(3,g,4,3,"ng-container",8),n.qZA(),n.BQk()),2&e){const a=n.oxw(2);n.xp6(3),n.Q6J("ngForOf",a.lookups_d2)}}function C(e,d){if(1&e&&(n.ynx(0),n.YNc(1,s,2,1,"ion-list",5),n.YNc(2,c,4,3,"div",6),n.YNc(3,M,4,1,"ng-container",1),n.BQk()),2&e){const a=n.oxw();n.xp6(1),n.Q6J("ngIf",a.lookups.length),n.xp6(1),n.Q6J("ngIf",!a.lookups.length),n.xp6(1),n.Q6J("ngIf",a.lookups_d2.length)}}let x=(()=>{var e;class d{constructor(o){this.popoverController=o,this.selectedId=0,this.lookup_key="",this.lookups_d2=[],this.dataInit={loading:!0},this.lookups=[]}ngOnInit(){var o=this;(0,h.Z)(function*(){o.user=yield(0,k.iA)(),o.loadLookup()})()}loadLookup(){var o;(0,S.D)({loading:t=>{this.dataInit.loading=t},params:{userid:null===(o=this.user)||void 0===o?void 0:o.userid,lookup_key:this.lookup_key},callback:t=>{this.lookups=t||[]}})}filterChange(o){var t;this.popoverController.dismiss(null!==(t=this.lookups.find(r=>r.lookup_value==o))&&void 0!==t?t:this.lookups_d2.find(r=>r.lookup_value==o),"confirm")}}return(e=d).\u0275fac=function(o){return new(o||e)(n.Y36(p.Dh))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-popover-lookup"]],inputs:{selectedId:"selectedId",lookup_key:"lookup_key",lookups_d2:"lookups_d2"},decls:3,vars:2,consts:[[1,"menu-lookup","overflow-auto"],[4,"ngIf"],[1,"d-flex","w-100","h-100","align-items-center","justify-content-center"],[1,"px-3","py-1"],["name","dots","color","dark",1,"align-middle"],["lines","full",4,"ngIf"],["class","px-3 py-1",4,"ngIf"],["lines","full"],[4,"ngFor","ngForOf"],["button","","detail","false",3,"click"],[3,"color"]],template:function(o,t){1&o&&(n.TgZ(0,"div",0),n.YNc(1,U,5,0,"ng-container",1),n.YNc(2,C,4,3,"ng-container",1),n.qZA()),2&o&&(n.xp6(1),n.Q6J("ngIf",t.dataInit.loading),n.xp6(1),n.Q6J("ngIf",!t.dataInit.loading))},dependencies:[Z.sg,Z.O5,p.W2,p.Ie,p.Q$,p.q_,p.PQ,O.X$],styles:[".menu-lookup[_ngcontent-%COMP%]{width:240px;max-height:480px;border-top:3px solid #5F6CE1}hr[_ngcontent-%COMP%]{margin:0}"]}),d})();var T=_(9451);function y(e){e.params=e.params||{},(0,b.T1)({url:"api/BoardShareUser/AddUpdate",params:{board_id:e.params.board_id||null,emailaddr:e.params.emailaddr||null,v_sharepermission:e.params.v_sharepermission||null,createdby:e.params.userid||null,modifiedby:e.params.userid||null},success:d=>{"function"==typeof e.callback&&e.callback(d.data||null)},error:d=>{"function"==typeof e.callback&&e.callback(),console.error(d)},loading:e.loading})}var B=_(8186),F=_(2695),D=_(1862);const q={ONLY_ME:10400,ONLY_MEMBER:10401,EVERYONE_HAS_LINK:10402};var A=_(6223);function R(e,d){1&e&&(n.ynx(0),n.TgZ(1,"ion-content")(2,"div",1)(3,"div"),n._UZ(4,"ion-spinner",2),n.qZA()()(),n.BQk())}function K(e,d){1&e&&(n.ynx(0),n.TgZ(1,"div",1)(2,"div"),n._UZ(3,"ion-spinner",18),n.qZA()(),n.BQk())}function z(e,d){1&e&&(n.ynx(0),n._UZ(1,"ion-icon",21),n.TgZ(2,"span"),n._uU(3),n.ALo(4,"translate"),n.qZA(),n.BQk()),2&e&&(n.xp6(3),n.Oqu(n.lcZ(4,1,"OnlyMe")))}function H(e,d){1&e&&(n.ynx(0),n._UZ(1,"ion-icon",21),n.BQk())}function j(e,d){1&e&&(n.ynx(0),n._UZ(1,"ion-icon",22),n.BQk())}function W(e,d){1&e&&(n.ynx(0),n._UZ(1,"ion-icon",23),n.BQk())}function X(e,d){if(1&e&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&e){const a=n.oxw(3);n.xp6(1),n.Oqu(a.boardShare.v_share_title)}}function V(e,d){if(1&e){const a=n.EpF();n.ynx(0),n.TgZ(1,"button",19),n.NdJ("click",function(t){n.CHM(a);const r=n.oxw(2);return n.KtG(r.presentPopoverLookupShare(t))}),n.YNc(2,z,5,3,"ng-container",0),n.YNc(3,H,2,0,"ng-container",0),n.YNc(4,j,2,0,"ng-container",0),n.YNc(5,W,2,0,"ng-container",0),n.YNc(6,X,2,1,"span",0),n._UZ(7,"ion-icon",20),n.qZA(),n.BQk()}if(2&e){const a=n.oxw(2);n.xp6(2),n.Q6J("ngIf",!a.boardShare.v_share),n.xp6(1),n.Q6J("ngIf",a.boardShare.v_share==a.v_share.ONLY_ME),n.xp6(1),n.Q6J("ngIf",a.boardShare.v_share==a.v_share.ONLY_MEMBER),n.xp6(1),n.Q6J("ngIf",a.boardShare.v_share==a.v_share.EVERYONE_HAS_LINK),n.xp6(1),n.Q6J("ngIf",!!a.boardShare.v_share_title)}}function nn(e,d){1&e&&(n.ynx(0),n.TgZ(1,"div",1)(2,"div"),n._UZ(3,"ion-spinner",18),n.qZA()(),n.BQk())}function en(e,d){if(1&e){const a=n.EpF();n.ynx(0),n.TgZ(1,"ion-item",26)(2,"ion-avatar"),n._UZ(3,"img",27),n.qZA(),n.TgZ(4,"ion-label",28),n._uU(5),n.qZA(),n.TgZ(6,"ion-item",29),n.NdJ("click",function(t){const l=n.CHM(a).$implicit,u=n.oxw(3);return n.KtG(u.presentPopoverLookupSharePermission(t,l.emailaddr))}),n.TgZ(7,"ion-label"),n._uU(8),n.qZA(),n._UZ(9,"ion-icon",20),n.qZA()(),n.BQk()}if(2&e){const a=d.$implicit,o=n.oxw(3);let t,r;n.xp6(3),n.Q6J("src",null!==(t=a.profilephoto?o.readfileuploadurl+a.profilephoto:null)&&void 0!==t?t:"../../../assets/image/user-avatar-default.png",n.LSH),n.xp6(2),n.Oqu(null!==(r=a.fullname)&&void 0!==r?r:a.emailaddr),n.xp6(3),n.Oqu(a.v_sharepermission_title)}}function on(e,d){if(1&e&&(n.ynx(0),n.TgZ(1,"ion-list",24),n.YNc(2,en,10,3,"ng-container",25),n.qZA(),n.BQk()),2&e){const a=n.oxw(2);n.xp6(2),n.Q6J("ngForOf",a.boardShareUsers)}}function tn(e,d){if(1&e){const a=n.EpF();n.ynx(0),n.TgZ(1,"ion-header")(2,"ion-toolbar")(3,"ion-title"),n._uU(4),n.ALo(5,"translate"),n.qZA(),n.TgZ(6,"ion-buttons",3)(7,"ion-button",4),n.NdJ("click",function(){n.CHM(a);const t=n.oxw();return n.KtG(t.toggleFullScreen())}),n._UZ(8,"ion-icon",5),n.qZA(),n.TgZ(9,"ion-button",6),n.NdJ("click",function(){n.CHM(a);const t=n.oxw();return n.KtG(t.close())}),n._UZ(10,"ion-icon",7),n.qZA()()(),n.TgZ(11,"ion-toolbar")(12,"div",8)(13,"div",9)(14,"input",10),n.NdJ("change",function(t){n.CHM(a);const r=n.oxw();return n.KtG(r.changeEmails(t))})("keypress",function(t){n.CHM(a);const r=n.oxw();return n.KtG(r.keypressEmails(t))}),n.qZA(),n.TgZ(15,"div",11)(16,"button",12),n.NdJ("click",function(t){n.CHM(a);const r=n.oxw();return n.KtG(r.submitEmails(t))}),n._uU(17),n.ALo(18,"translate"),n.qZA()()(),n.TgZ(19,"div",13),n.YNc(20,K,4,0,"ng-container",0),n.YNc(21,V,8,5,"ng-container",0),n.qZA(),n._UZ(22,"hr"),n.TgZ(23,"label",14),n._uU(24),n.ALo(25,"translate"),n.qZA()()()(),n.TgZ(26,"ion-content"),n.YNc(27,nn,4,0,"ng-container",0),n.YNc(28,on,3,1,"ng-container",0),n.qZA(),n.TgZ(29,"ion-footer")(30,"button",15),n.NdJ("click",function(t){n.CHM(a);const r=n.oxw();return n.KtG(r.copyLink(t))}),n._UZ(31,"ion-icon",16),n.TgZ(32,"span"),n._uU(33),n.ALo(34,"translate"),n.qZA()(),n.TgZ(35,"button",15),n.NdJ("click",function(t){n.CHM(a);const r=n.oxw();return n.KtG(r.copyEmbed(t))}),n._UZ(36,"ion-icon",17),n.TgZ(37,"span"),n._uU(38),n.ALo(39,"translate"),n.qZA()()(),n.BQk()}if(2&e){const a=n.oxw();n.xp6(4),n.Oqu(n.lcZ(5,12,"Share")),n.xp6(4),n.Q6J("src",a.isfullscreen?"assets/icon/16x16/fullscreen-exit.svg":"assets/icon/16x16/fullscreen.svg"),n.xp6(6),n.Q6J("ngModel",a.dataForm.emailaddrs),n.xp6(3),n.Oqu(n.lcZ(18,14,"Add")),n.xp6(3),n.Q6J("ngIf",a.dataInit.loadingBoardShare),n.xp6(1),n.Q6J("ngIf",!a.dataInit.loadingBoardShare),n.xp6(3),n.AsE("",n.lcZ(25,16,"SharedMembership")," (",a.boardShareUsers.length,")"),n.xp6(3),n.Q6J("ngIf",a.dataInit.loadingBoardShareUser),n.xp6(1),n.Q6J("ngIf",!a.dataInit.loadingBoardShareUser),n.xp6(5),n.Oqu(n.lcZ(34,18,"CopyLink")),n.xp6(5),n.Oqu(n.lcZ(39,20,"CopyEmbed"))}}let rn=(()=>{var e;class d{constructor(o,t,r){this.modalController=o,this.popoverController=t,this.toastController=r,this.b=0,this.dataInit={loadingBoard:!0,loadingBoardShare:!0,loadingBoardShareUser:!0},this.v_share=q,this.dataForm={},this.board={},this.boardShare={},this.boardShareUsers=[],this.isfullscreen=!1,this.readfileuploadurl="",this.fileurl="",this.appsettings={}}ngOnInit(){var o=this;this.isfullscreen=window.document.body.classList.contains("modal-fullscreen"),(0,h.Z)(function*(){o.appsettings=yield(0,b.H0)(),o.appsettings.madonvi&&(o.user=yield(0,k.iA)(),o.readfileuploadurl=o.appsettings.readfileuploadurl||"",o.refreshData())})()}refreshData(){var o;(0,m.T6)({loading:t=>{this.dataInit.loadingBoard=t},params:{userid:null===(o=this.user)||void 0===o?void 0:o.userid,board_id:this.b},callback:t=>{this.board=t||{},this.board.board_id&&(this.GetBoardShare(),this.GetBoardShareUser())}})}toggleFullScreen(){this.isfullscreen?window.document.body.classList.remove("modal-fullscreen"):window.document.body.classList.add("modal-fullscreen"),this.isfullscreen=window.document.body.classList.contains("modal-fullscreen")}close(){return this.modalController.dismiss(null,"cancel")}changeEmails(o){var t;this.dataForm.emailaddrs=((null==o||null===(t=o.target)||void 0===t?void 0:t.value)||"").replace(/[^a-zA-Z0-9\@\;\ \-\_\.]+/g,"").replace(/\s+/," ").trim().replace(/\ \;/g,";").replace(/\;\ /g,";").replace(/\ /g,";").replace(/\;+/g,";").split(";").map(r=>{let l=r.match(/^[a-zA-Z0-9\.\-\_]+@[a-zA-Z0-9\-\_]+\.[a-zA-Z0-9\-\_]+((\.[a-zA-Z0-9\-\_]+)+)?$/);return l?l[0]:null}).filter(r=>!!r).filter((r,l,u)=>u.indexOf(r)==l).join("; ")}keypressEmails(o){var t,l,r=o.keyCode||o.which||o.charCode||0;r!=T.s.Enter&&r!=T.s.Escape||(null===(l=o.target)||void 0===l||l.blur(),this.submitEmails()),null!==(t=o.key)&&void 0!==t&&t.match(/[^a-zA-Z0-9\@\;\ \-\_\.]/)&&(null==o||o.preventDefault(),null==o||o.stopPropagation())}submitEmails(o){this.dataForm.emailaddrs&&(this.AddUpdateBoardShareUser_Recursive(this.dataForm.emailaddrs.replace(/\s+/g,"").split(";")),this.dataForm.emailaddrs="")}presentPopoverLookupShare(o){var t=this;return(0,h.Z)(function*(){const r=yield t.popoverController.create({component:x,componentProps:{selectedId:t.boardShare.v_share,lookup_key:"v_share"},event:o,dismissOnSelect:!1,animated:!1});r.onDidDismiss().then(l=>{var u,f,v;"confirm"==l.role&&(Object.assign(t.boardShare,{v_share:null===(u=l.data)||void 0===u?void 0:u.lookup_value,v_share_title:null===(f=l.data)||void 0===f?void 0:f.lookup_title}),t.AddUpdateBoardShare(null===(v=l.data)||void 0===v?void 0:v.lookup_value))}),r.present()})()}presentPopoverLookupSharePermission(o,t){var r=this;return(0,h.Z)(function*(){var l;const f=yield r.popoverController.create({component:x,componentProps:{selectedId:null===(l=r.boardShareUsers.find(v=>v.emailaddr==t))||void 0===l?void 0:l.v_sharepermission,lookup_key:"v_sharepermission",lookups_d2:[{lookup_value:-1,lookup_title:"X\xf3a",color:"danger"}]},event:o,dismissOnSelect:!1,animated:!1,alignment:"end",side:"bottom"});f.onDidDismiss().then(v=>{var I;"confirm"==v.role&&(r.boardShareUsers.filter(E=>E.emailaddr==t).forEach(E=>{var N,L;Object.assign(E,{v_sharepermission:null===(N=v.data)||void 0===N?void 0:N.lookup_value,v_sharepermission_title:null===(L=v.data)||void 0===L?void 0:L.lookup_title})}),r.AddUpdateBoardShareUser(t,null===(I=v.data)||void 0===I?void 0:I.lookup_value))}),f.present()})()}GetBoardShare(){var o=this;return(0,h.Z)(function*(){var t;!function Y(e){e.params=e.params||{},(0,b.cd)({url:"api/BoardShare/Get",params:{getby:e.params.userid||null,boardshare_id:e.params.boardshare_id||null,board_id:e.params.board_id||null,v_share:e.params.v_share||null},success:d=>{"function"==typeof e.callback&&e.callback(d.data||null)},error:d=>{"function"==typeof e.callback&&e.callback(),console.error(d)},loading:e.loading})}({loading:r=>{o.dataInit.loadingBoardShare=r},params:{userid:null===(t=o.user)||void 0===t?void 0:t.userid,board_id:o.b},callback:r=>{o.boardShare=r||{}}})})()}AddUpdateBoardShare(o){var t=this;return(0,h.Z)(function*(){var r;if(!o||o<=0)return t.DeleteBoardShare();!function $(e){e.params=e.params||{},(0,b.T1)({url:"api/BoardShare/AddUpdate",params:{board_id:e.params.board_id||null,v_share:e.params.v_share||null,createdby:e.params.userid||null,modifiedby:e.params.userid||null},success:d=>{"function"==typeof e.callback&&e.callback(d.data||null)},error:d=>{"function"==typeof e.callback&&e.callback(),console.error(d)},loading:e.loading})}({loading:l=>{t.dataInit.loadingBoardShare=l},params:{userid:null===(r=t.user)||void 0===r?void 0:r.userid,board_id:t.b,v_share:o},callback:l=>{0==(null==l?void 0:l.returncode)?t.GetBoardShare():(0,B.B)(t.toastController,{},l).then(u=>u.present())}})})()}DeleteBoardShare(){var o=this;return(0,h.Z)(function*(){var t;!function G(e){e.params=e.params||{},(0,b.tD)({url:"api/BoardShare/Delete",params:{deleteby:e.params.userid||null,boardshare_id:e.params.boardshare_id||null,board_id:e.params.board_id||null},success:d=>{"function"==typeof e.callback&&e.callback(d.data||null)},error:d=>{"function"==typeof e.callback&&e.callback(),console.error(d)},loading:e.loading})}({loading:r=>{o.dataInit.loadingBoardShare=r},params:{userid:null===(t=o.user)||void 0===t?void 0:t.userid,board_id:o.b},callback:r=>{0==(null==r?void 0:r.returncode)?o.GetBoardShare():(0,B.B)(o.toastController,{},r).then(l=>l.present())}})})()}GetBoardShareUser(){var o=this;return(0,h.Z)(function*(){var t;!function i(e){e.params=e.params||{},(0,b.cd)({url:"api/BoardShareUser/Get",params:{getby:e.params.userid||null,boardshareuser_id:e.params.boardshareuser_id||null,board_id:e.params.board_id||null,emailaddr:e.params.emailaddr||null,v_sharepermission:e.params.v_sharepermission||null},success:d=>{"function"==typeof e.callback&&e.callback(d.data||null)},error:d=>{"function"==typeof e.callback&&e.callback(),console.error(d)},loading:e.loading})}({loading:r=>{o.dataInit.loadingBoardShareUser=r},params:{userid:null===(t=o.user)||void 0===t?void 0:t.userid,board_id:o.b},callback:r=>{o.boardShareUsers=r||[]}})})()}AddUpdateBoardShareUser_Recursive(o){var t=this;return(0,h.Z)(function*(){let r=l=>{var u;l&&y({loading:f=>{t.dataInit.loadingBoardShareUser=f},params:{userid:null===(u=t.user)||void 0===u?void 0:u.userid,board_id:t.b,emailaddr:l,v_sharepermission:1},callback:f=>{o.length?r(null==o?void 0:o.shift()):0==(null==f?void 0:f.returncode)?t.GetBoardShareUser():(0,B.B)(t.toastController,{},f).then(v=>v.present())}})};r(o.shift())})()}AddUpdateBoardShareUser(o,t){var r=this;return(0,h.Z)(function*(){var l;if(o){if(!t||t<=0)return r.DeleteBoardShareUser(o);y({loading:u=>{r.dataInit.loadingBoardShareUser=u},params:{userid:null===(l=r.user)||void 0===l?void 0:l.userid,board_id:r.b,emailaddr:o,v_sharepermission:t},callback:u=>{0==(null==u?void 0:u.returncode)?r.GetBoardShareUser():(0,B.B)(r.toastController,{},u).then(f=>f.present())}})}})()}DeleteBoardShareUser(o){var t=this;return(0,h.Z)(function*(){var r;o&&function J(e){e.params=e.params||{},(0,b.tD)({url:"api/BoardShareUser/Delete",params:{deleteby:e.params.userid||null,boardshareuser_id:e.params.boardshareuser_id||null,board_id:e.params.board_id||null,emailaddr:e.params.emailaddr||null},success:d=>{"function"==typeof e.callback&&e.callback(d.data||null)},error:d=>{"function"==typeof e.callback&&e.callback(),console.error(d)},loading:e.loading})}({loading:l=>{t.dataInit.loadingBoardShareUser=l},params:{userid:null===(r=t.user)||void 0===r?void 0:r.userid,board_id:t.b,emailaddr:o},callback:l=>{0==(null==l?void 0:l.returncode)?t.GetBoardShareUser():(0,B.B)(t.toastController,{},l).then(u=>u.present())}})})()}copyLink(o){var t=this;return(0,h.Z)(function*(){let r=t.appsettings.weburl+F.z.VIEWER+"?"+jQuery.param({b:t.b});(0,B.B)(t.toastController,{message:(0,D.vQ)(r)?"\u0110\xe3 sao ch\xe9p!":"Sao ch\xe9p l\u1ed7i!"}).then(l=>l.present())})()}copyEmbed(o){var t=this;return(0,h.Z)(function*(){var r,l;let f=`<iframe src="${t.appsettings.weburl+F.z.EMBED+"?"+jQuery.param({b:t.b})}" width="${null!==(r=t.board.size_width)&&void 0!==r?r:1080}" height="${null!==(l=t.board.size_height)&&void 0!==l?l:1080}" frameborder="0" allowfullscreen webkitallowfullscreen allowtransparency="true" allow="autoplay; fullscreen" style="display: block; margin: auto; border: 1px dashed rgba(0,0,0,0.1);"></iframe>`;(0,B.B)(t.toastController,{message:(0,D.vQ)(f)?"\u0110\xe3 sao ch\xe9p!":"Sao ch\xe9p l\u1ed7i!"}).then(v=>v.present())})()}}return(e=d).\u0275fac=function(o){return new(o||e)(n.Y36(p.IN),n.Y36(p.Dh),n.Y36(p.yF))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-modal-board-share"]],inputs:{b:"b"},decls:2,vars:2,consts:[[4,"ngIf"],[1,"d-flex","w-100","h-100","align-items-center","justify-content-center"],["name","dots","color","dark",1,"align-middle"],["slot","end"],["color","dark",1,"d-none","d-md-block",3,"click"],[3,"src"],["color","dark",3,"click"],["src","../../../assets/icon/16x16/close.svg"],[1,"p-3"],[1,"input-group"],["type","text","placeholder","email@example.com; email2@example.com; ...",1,"form-control",3,"ngModel","change","keypress"],[1,"input-group-append"],[1,"btn",3,"click"],[1,"py-4"],[1,"mb-0","mt-3"],[1,"btn","btn-link",3,"click"],["src","../../../assets/icon/24x24/attach.svg"],["src","../../../assets/icon/24x24/embed.svg"],["name","circles","color","dark",1,"align-middle"],[1,"btn-share","btn-popover",3,"click"],["src","../../../assets/icon/16x16/chevron-down.svg"],["src","../../../assets/icon/16x16/private.svg"],["name","people-outline"],["name","globe-outline"],["lines","none"],[4,"ngFor","ngForOf"],["button","","detail","false"],["onerror","errorAvatar(this)",3,"src"],[1,"ml-3"],["slot","end","button","","detail","false",1,"share-member-action","btn-popover",3,"click"]],template:function(o,t){1&o&&(n.YNc(0,R,5,0,"ng-container",0),n.YNc(1,tn,40,22,"ng-container",0)),2&o&&(n.Q6J("ngIf",t.dataInit.loadingBoard),n.xp6(1),n.Q6J("ngIf",!t.dataInit.loadingBoard))},dependencies:[Z.sg,Z.O5,A.Fj,A.JJ,A.On,p.BJ,p.YG,p.Sm,p.W2,p.fr,p.Gu,p.gu,p.Ie,p.Q$,p.q_,p.PQ,p.wd,p.sr,O.X$],styles:[".input-group[_ngcontent-%COMP%]{--color: #eee}.input-group[_ngcontent-%COMP%]   .input-group-append[_ngcontent-%COMP%]{margin-left:.5rem}.input-group[_ngcontent-%COMP%]   .input-group-append[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:3rem;min-height:3rem;padding:0 1rem;border:0;border-radius:.25rem;text-align:center;line-height:0;vertical-align:middle;background-color:var(--ion-color-tertiary);color:var(--ion-color-tertiary-contrast)}.input-group[_ngcontent-%COMP%]   .input-group-append[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:var(--ion-color-tertiary-shade)}.input-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .input-group[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]{height:3rem;padding:.25rem .5rem;border-color:var(--color, #4D4F60);color:var(--ion-text-color, #000);background-color:var(--ion-background-color, #fff)}.input-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .input-group[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#5f6ce1}.btn-share[_ngcontent-%COMP%]{padding:.25rem 0;margin:0;border:0;font-size:1rem;background-color:transparent;color:var(--ion-text-color, #000);outline:none;box-shadow:none}.btn-share[_ngcontent-%COMP%] > ion-icon[_ngcontent-%COMP%]{vertical-align:middle;font-size:1.5rem}.btn-share[_ngcontent-%COMP%] > ion-icon[_ngcontent-%COMP%]:last-child{font-size:1rem}.btn-share[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin:0 .5rem;vertical-align:middle}.share-member-action[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%], .share-member-action[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1rem}.share-member-action[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%] + ion-icon[_ngcontent-%COMP%]{margin-left:.5rem}hr[_ngcontent-%COMP%]{margin:0}ion-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin:.5rem 0 .5rem 1rem;outline:none;box-shadow:none}ion-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.5rem;vertical-align:middle}ion-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1rem;vertical-align:middle}ion-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{margin-left:.5rem}"]}),d})()},8291:(w,P,_)=>{_.d(P,{EC:()=>Z,M0:()=>S,Qi:()=>p,c_:()=>n,qn:()=>O,ts:()=>U});var h=_(6676),b=_.n(h),m=_(553),k=_(1862);const S=(s,c,g)=>{var M,C,x,T,i;(i=m.N.site)&&(c.updateTag({property:"og:site_name",content:i}),c.updateTag({name:"twitter:site",content:i})),(i=>{if(!i)return;let y=document.querySelector('[rel="canonical"]');y?y.setAttribute("href",i):(y=document.createElement("link"),y.setAttribute("rel","canonical"),y.setAttribute("href",i),document.head.append(y)),c.updateTag({property:"og:url",content:i})})(null!==(M=g.url)&&void 0!==M?M:m.N.url),(i=>{i&&(c.updateTag({name:"twitter:creator",content:null==i?void 0:i.email}),c.updateTag({name:"twitter:label1",content:"Created by"}),c.updateTag({name:"twitter:data1",content:null==i?void 0:i.name}),c.updateTag({name:"twitter:label2",content:"Created by Email"}),c.updateTag({name:"twitter:data2",content:null==i?void 0:i.email}))})(m.N.author),(i=>{i&&(c.updateTag({property:"og:updated_time",content:i}),c.updateTag({property:"article:modified_time",content:i}),c.updateTag({property:"article:published_time",content:"2024-01-01T00:00:00+07:00"}))})(m.N.updated),(i=>{i&&(s.setTitle(i),c.updateTag({property:"og:title",content:i}),c.updateTag({name:"twitter:title",content:i}))})(null!==(C=g.title)&&void 0!==C?C:m.N.title),(i=>{i&&(c.updateTag({name:"description",content:i}),c.updateTag({property:"og:description",content:i}),c.updateTag({name:"twitter:description",content:i}))})(null!==(x=g.description)&&void 0!==x?x:m.N.description),(i=>{i&&(c.updateTag({property:"og:image",content:null==i?void 0:i.url}),c.updateTag({property:"og:image:secure_url",content:null==i?void 0:i.url}),c.updateTag({property:"og:image:width",content:null==i?void 0:i.width}),c.updateTag({property:"og:image:height",content:null==i?void 0:i.height}),c.updateTag({property:"og:image:alt",content:null==i?void 0:i.alt}),c.updateTag({property:"og:image:type",content:null==i?void 0:i.type}),c.updateTag({name:"twitter:card",content:"summary_large_image"}),c.updateTag({name:"twitter:image",content:null==i?void 0:i.url}))})(null!==(T=g.image)&&void 0!==T?T:m.N.image)},n=(s,c)=>{var g=document.createElement("input");g.type="file",g.accept=s.accept,g.multiple=!!s.multiple,g.style.display="none",g.style.visibility="hidden",g.addEventListener("change",M=>{var C;M.preventDefault();let x=(null===(C=M.target)||void 0===C?void 0:C.files)||[];x.length>0&&c(x),document.body.removeChild(g)}),document.body.appendChild(g),g.click()},p=s=>!s||s<=1?`${null!=s?s:0} byte`:s>=1073741824?`${(s/1073741824).toFixed(2)} GB`:s>=1048576?`${(s/1048576).toFixed(2)} MB`:s>=1024?`${(s/1024).toFixed(2)} KB`:`${s} bytes`,Z=(s,c)=>b()(s).format(null!=c?c:"HH:mm, DD/MM/YYYY"),O=s=>(0,k.jB)(s),U=s=>(null!=s?s:0).toLocaleString("vi")}}]);