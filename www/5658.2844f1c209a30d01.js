"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5658],{8671:(E,R,d)=>{d.d(R,{$:()=>D});var b=d(5972);function D(s){s.params=s.params||{},(0,b.hm)({url:"api/Lookup/get",params:{lookup_key:s.params.lookup_key||null},success:o=>{"function"==typeof s.callback&&s.callback(null==o?void 0:o.data)},error:o=>{"function"==typeof s.callback&&s.callback(),console.error(s,o)},loading:s.loading,loadingController:s.loadingController})}},8599:(E,R,d)=>{d.r(R),d.d(R,{MediaDetailPageModule:()=>jn});var b=d(177),D=d(9417),s=d(6637),o=d(3658),g=d(467),$=d(5972),I=d(5781),O=d(8833),x=d(1632),T=d(8684),j=d(5414),F=d(7586),y=d.n(F),G=d(1312),L=d(4552),u=d(5312),C=d(8963),p=d(6539),v=d(2527),M=d.n(v),k=d(4835),X=d(1400),W=d(2492),K=d(2241),Z=d(1607),Q=d(7868),q=d(1951),n=d(4438),H=d(345),nn=d(7704),en=d(9780),tn=d(2706),on=d(31);const J=a=>({$implicit:a});function an(a,m){if(1&a&&(n.j41(0,"div",39),n.nrm(1,"ion-icon",40),n.j41(2,"span",41),n.EFF(3),n.k0s()()),2&a){let i;const t=n.XpG(2);n.Y8G("title",null==t.media?null:t.media.topic_titles),n.R7$(3),n.JRh(null==t.media||null==t.media.topic_titles||null==(i=t.media.topic_titles.split(";"))||null==(i=i.reverse())?null:i.join(" / "))}}function ln(a,m){if(1&a&&(n.j41(0,"div",39),n.nrm(1,"ion-icon",42),n.j41(2,"span",41),n.EFF(3),n.k0s()()),2&a){let i;const t=n.XpG(2);n.Y8G("title",null==t.media?null:t.media.category_titles),n.R7$(3),n.JRh(null==t.media||null==t.media.category_titles||null==(i=t.media.category_titles.split(";"))||null==(i=i.reverse())?null:i.join(" / "))}}function rn(a,m){if(1&a&&(n.j41(0,"div",39),n.nrm(1,"ion-icon",43),n.j41(2,"span",41),n.EFF(3),n.k0s()()),2&a){let i;const t=n.XpG(2);n.Y8G("title",null==t.media?null:t.media.directory_titles),n.R7$(3),n.JRh(null==t.media||null==t.media.directory_titles||null==(i=t.media.directory_titles.split(";"))||null==(i=i.reverse())?null:i.join(" / "))}}function dn(a,m){if(1&a&&(n.j41(0,"div",10),n.DNE(1,an,4,2,"div",39)(2,ln,4,2,"div",39)(3,rn,4,2,"div",39),n.k0s()),2&a){const i=n.XpG();n.R7$(),n.vxM(1,null!=i.media&&i.media.topic_titles?1:-1),n.R7$(),n.vxM(2,null!=i.media&&i.media.category_titles?2:-1),n.R7$(),n.vxM(3,null!=i.media&&i.media.directory_titles?3:-1)}}function cn(a,m){if(1&a){const i=n.RV6();n.j41(0,"iframe",44),n.nI1(1,"safe"),n.bIt("load",function(e){n.eBV(i);const l=n.XpG();return n.Njj(l.loadIframe(e))}),n.k0s()}if(2&a){const i=n.XpG();n.Y8G("src",n.i5U(1,1,i.iframeSrc,"resourceUrl"),n.f$h)}}function mn(a,m){if(1&a){const i=n.RV6();n.j41(0,"ion-button",45),n.nI1(1,"translate"),n.bIt("click",function(){n.eBV(i);const e=n.XpG();return n.Njj(e.downloadMedia())}),n.j41(2,"ion-label"),n.EFF(3),n.nI1(4,"translate"),n.k0s()()}2&a&&(n.Y8G("title",n.bMT(1,2,"Download")),n.R7$(3),n.JRh(n.bMT(4,4,"Download")))}function sn(a,m){if(1&a){const i=n.RV6();n.j41(0,"ion-button",46),n.nI1(1,"translate"),n.bIt("click",function(){n.eBV(i);const e=n.XpG();return n.Njj(e.AI_recommend())}),n.j41(2,"ion-label"),n.EFF(3),n.nI1(4,"translate"),n.k0s(),n.nrm(5,"ion-icon",47),n.k0s()}2&a&&(n.Y8G("title",n.bMT(1,2,"UpgradeTabcaProNow")),n.R7$(3),n.JRh(n.bMT(4,4,"Download")))}function _n(a,m){1&a&&(n.j41(0,"ion-button",48)(1,"ion-label"),n.EFF(2),n.nI1(3,"translate"),n.k0s()()),2&a&&(n.Y8G("disabled",!0),n.R7$(2),n.JRh(n.bMT(3,2,"Download")))}function un(a,m){if(1&a){const i=n.RV6();n.j41(0,"ion-button",49),n.nI1(1,"translate"),n.bIt("click",function(e){n.eBV(i);const l=n.XpG();return n.Njj(l.presentModalMediaShare(e))}),n.nrm(2,"ion-icon",50),n.k0s()}2&a&&n.Y8G("title",n.bMT(1,1,"Share"))}function gn(a,m){if(1&a){const i=n.RV6();n.j41(0,"ion-chip",51),n.bIt("click",function(){const e=n.eBV(i).$implicit,l=n.XpG();return n.Njj(l.switchMedia(e.media_id))}),n.nrm(1,"ion-icon",52),n.j41(2,"ion-label"),n.EFF(3),n.k0s()()}if(2&a){const i=m.$implicit,t=n.XpG();n.HbH((null==t.media?null:t.media.media_id)==i.media_id?"active":""),n.R7$(),n.Y8G("name",(null==t.media?null:t.media.media_id)==i.media_id?"ellipse":"ellipse-outline"),n.R7$(2),n.JRh(i.media_title)}}function pn(a,m){if(1&a){const i=n.RV6();n.j41(0,"ion-infinite-scroll",53),n.bIt("ionInfinite",function(e){n.eBV(i);const l=n.XpG();return n.Njj(l.onIonInfinite_MediaRelated(e))}),n.nrm(1,"ion-infinite-scroll-content"),n.k0s()}}function vn(a,m){if(1&a){const i=n.RV6();n.j41(0,"ion-chip",51),n.bIt("click",function(){const e=n.eBV(i).$implicit,l=n.XpG();return n.Njj(l.switchMedia(e.media_id))}),n.nrm(1,"ion-icon",52),n.j41(2,"ion-label"),n.EFF(3),n.k0s()()}if(2&a){const i=m.$implicit,t=n.XpG();n.HbH((null==t.media?null:t.media.media_id)==i.media_id?"active":""),n.R7$(),n.Y8G("name",(null==t.media?null:t.media.media_id)==i.media_id?"ellipse":"ellipse-outline"),n.R7$(2),n.JRh(i.media_title)}}function fn(a,m){1&a&&(n.j41(0,"div",57),n.EFF(1),n.nI1(2,"translate"),n.k0s()),2&a&&(n.R7$(),n.JRh(n.bMT(2,1,"NoData")))}function hn(a,m){if(1&a&&(n.j41(0,"div",58),n.nrm(1,"div",59),n.k0s()),2&a){const i=n.XpG(2);n.R7$(),n.Y8G("innerHTML",null==i.media?null:i.media.media_description,n.npT)}}function Mn(a,m){if(1&a&&(n.j41(0,"div",27)(1,"h5",54),n.EFF(2),n.nI1(3,"translate"),n.k0s(),n.j41(4,"div",55)(5,"div",11),n.nrm(6,"div",56),n.DNE(7,fn,3,3,"div",57),n.k0s(),n.DNE(8,hn,2,1,"div",58),n.k0s()()),2&a){const i=n.XpG();n.R7$(2),n.JRh(n.bMT(3,4,"Introduce")),n.R7$(4),n.Y8G("innerHTML",null==i.media?null:i.media.media_content,n.npT),n.R7$(),n.vxM(7,null!=i.media&&i.media.media_content?-1:7),n.R7$(),n.vxM(8,null!=i.media&&i.media.media_description?8:-1)}}function Cn(a,m){if(1&a&&(n.j41(0,"div",61),n.nrm(1,"ion-icon",62),n.j41(2,"span",63),n.EFF(3),n.k0s()()),2&a){const i=m.$implicit;n.Y8G("title",i),n.R7$(3),n.JRh(i)}}function Pn(a,m){if(1&a&&(n.j41(0,"div",28)(1,"h5",54),n.EFF(2),n.nI1(3,"translate"),n.k0s(),n.j41(4,"div",55)(5,"div",11)(6,"div",60),n.Z7z(7,Cn,4,2,"div",61,n.fX1),n.k0s()()()()),2&a){const i=n.XpG();n.R7$(2),n.JRh(n.bMT(3,1,"Tag")),n.R7$(5),n.Dyx(null==i.media?null:i.media.tag_arrs)}}function bn(a,m){if(1&a&&n.eu8(0,64),2&a){const i=m.$implicit;n.XpG();const t=n.sdS(59);n.Y8G("ngTemplateOutlet",t)("ngTemplateOutletContext",n.eq3(2,J,i))}}function kn(a,m){if(1&a){const i=n.RV6();n.j41(0,"ion-item-options",73)(1,"ion-item-option",74),n.bIt("click",function(e){n.eBV(i);const l=n.XpG(2).$implicit,r=n.XpG();return n.Njj(r.editComment(e,l.comment_id))}),n.EFF(2),n.nI1(3,"translate"),n.k0s(),n.j41(4,"ion-item-option",75),n.bIt("click",function(e){n.eBV(i);const l=n.XpG(2).$implicit,r=n.XpG();return n.Njj(r.deleteComment(e,l.comment_id))}),n.EFF(5),n.nI1(6,"translate"),n.k0s()()}2&a&&(n.R7$(2),n.JRh(n.bMT(3,2,"Edit")),n.R7$(3),n.JRh(n.bMT(6,4,"Delete")))}function Rn(a,m){if(1&a){const i=n.RV6();n.j41(0,"ion-item-sliding")(1,"ion-item")(2,"ion-thumbnail",67),n.nrm(3,"img",9),n.k0s(),n.j41(4,"ion-label")(5,"div",68),n.EFF(6),n.nI1(7,"translate"),n.j41(8,"small"),n.EFF(9),n.k0s()(),n.j41(10,"div",69),n.EFF(11),n.k0s(),n.j41(12,"div",70)(13,"small",71),n.bIt("click",function(e){n.eBV(i);const l=n.XpG().$implicit,r=n.XpG();return n.Njj(r.replyComment(e,l.comment_id))}),n.EFF(14),n.nI1(15,"translate"),n.k0s()()()(),n.DNE(16,kn,7,6,"ion-item-options",72),n.k0s()}if(2&a){let i;const t=n.XpG().$implicit,e=n.XpG();n.R7$(3),n.Y8G("src",t.createdby_avatar?e.readfileuploadurl+t.createdby_avatar:"assets/image/user-avatar-default.png",n.B4B),n.R7$(3),n.JRh(null!==(i=t.createdby_name)&&void 0!==i?i:n.bMT(7,6,"Guest")),n.R7$(3),n.JRh(e.formatDatetime(t.createddate)),n.R7$(2),n.JRh(t.comment_content),n.R7$(3),n.JRh(n.bMT(15,8,"Reply")),n.R7$(2),n.Y8G("ngIf",(null==e.user?null:e.user.userid)==t.createdby)}}function On(a,m){if(1&a){const i=n.RV6();n.j41(0,"ion-item",76)(1,"ion-input",77),n.nI1(2,"translate"),n.bIt("ionChange",function(e){n.eBV(i);const l=n.XpG(2);return n.Njj(l.changeComment2(e))})("keyup",function(e){n.eBV(i);const l=n.XpG(2);return n.Njj(l.keyupComment2(e))}),n.k0s(),n.j41(3,"ion-button",78),n.bIt("click",function(e){n.eBV(i);const l=n.XpG(2);return n.Njj(l.sendComment(e,l.comment2))}),n.nrm(4,"ion-icon",35),n.k0s()()}if(2&a){let i;const t=n.XpG(2);n.R7$(),n.FS9("placeholder",n.bMT(2,3,"EnterReply")),n.Y8G("autofocus",!0)("value",null!==(i=t.comment2.comment_content)&&void 0!==i?i:"")}}function yn(a,m){if(1&a&&n.eu8(0,64),2&a){const i=m.$implicit;n.XpG(2);const t=n.sdS(59);n.Y8G("ngTemplateOutlet",t)("ngTemplateOutletContext",n.eq3(2,J,i))}}function Dn(a,m){if(1&a&&(n.j41(0,"li"),n.DNE(1,Rn,17,10,"ion-item-sliding",65)(2,On,5,5,"ion-item",66),n.j41(3,"ul"),n.DNE(4,yn,1,4,"ng-container",38),n.k0s()()),2&a){const i=m.$implicit,t=n.XpG();n.R7$(),n.Y8G("ngIf",t.comment2.comment_id!=i.comment_id),n.R7$(),n.Y8G("ngIf",t.comment2.comment_pid==i.comment_id),n.R7$(2),n.Y8G("ngForOf",t.filterComments(i.comment_id))}}const Tn=[{path:"",component:(()=>{var a;class m{constructor(t,e,l,r,c,f,P){this.titleService=t,this.metaService=e,this.router=l,this.activatedRoute=r,this.toastController=c,this.modalController=f,this.loadingController=P,this.APP_ROUTE=O._,this.appsettings={},this.medias=[],this.paging_media={page:1,limit:20,active:!0},this.filter_media={},this.comment={},this.comment2={},this.comments=[],this.paging={page:1,limit:10,active:!0},this.readfileuploadurl="",this.iframeSrc="",this.svgRatio=56.25,this.onFullScreen=()=>{var _,h;(h=null!==(_=document.getElementById("sieunhangaoo"))&&void 0!==_?_:document.body).requestFullscreen?h.requestFullscreen():h.mozRequestFullScreen?h.mozRequestFullScreen():h.webkitRequestFullscreen?h.webkitRequestFullscreen():h.msRequestFullscreen&&h.msRequestFullscreen(),setTimeout(()=>{this.isfullscreen=(h=>!!(h.fullscreen||h.fullscreenElement||h.webkitFullscreenElement||h.mozFullScreenElement||h.msFullscreenElement))(document)},600)},this.offFullScreen=()=>{var _;(_=document).exitFullscreen?_.exitFullscreen():_.mozCancelFullScreen?_.mozCancelFullScreen():_.webkitExitFullscreen?_.webkitExitFullscreen():_.msExitFullscreen&&_.msExitFullscreen(),setTimeout(()=>{this.isfullscreen=(_=>!!(_.fullscreen||_.fullscreenElement||_.webkitFullscreenElement||_.mozFullScreenElement||_.msFullscreenElement))(document)},600)}}ngOnInit(){var t=this;this.IsOnInit=!0,(0,g.A)(function*(){var e;t.appsettings=yield(0,$.AC)(),t.appsettings.madonvi&&(t.user=yield(0,p.sx)(),t.readfileuploadurl=null!==(e=t.appsettings.readfileuploadurl)&&void 0!==e?e:"",t.loadParams(()=>{t.refreshData()}))})(),(0,C.j)()}ionViewDidEnter(){this.IsOnInit?this.IsOnInit=!1:this.loadParams(()=>{this.refreshData()})}ngAfterViewInit(){}onIonRefresher(t){this.refreshData(()=>{t.target.complete()})}onIonInfinite(t){this.loadMore(()=>{t.target.complete()})}onIonInfinite_MediaRelated(t){this.loadMore_MediaRelated(()=>{t.target.complete()})}loadParams(t){var e=this;return(0,g.A)(function*(){var l;let r=null!==(l=e.activatedRoute.snapshot.params.id)&&void 0!==l?l:"";var c;r?(e.media_id=parseInt(r),e.loadMedia(()=>{var f,P,_;e.paging_media.page=1,e.paging_media.active=!0,e.filter_media={topic_id:null===(f=e.media)||void 0===f?void 0:f.topic_id,category_id:null===(P=e.media)||void 0===P?void 0:P.category_id,directory_id:null===(_=e.media)||void 0===_?void 0:_.directory_id},e.loadData_Paging_MediaRelated()}),(0,Q.EW)({params:{userid:null===(c=e.user)||void 0===c?void 0:c.userid,v_functionlimit:X.r.TaiVeCacHocLieuHeThongCungCap},callback:f=>{var P;e.membership={TaiVeCacHocLieuHeThongCungCap:(0,q.j)(null==f||null===(P=f.contents)||void 0===P?void 0:P.find(_=>_.v_functionlimit==X.r.TaiVeCacHocLieuHeThongCungCap))}}}),t&&t()):e.navigateToHome()})()}resetData(){this.medias.length=0,this.comments.length=0}refreshData(t){this.paging.page=1,this.paging.active=!0,this.resetData(),this.loadData_Paging(t)}loadMore(t){this.paging.page+=1,this.loadData_Paging(t)}loadData_Paging(t){var e=this;return(0,g.A)(function*(){var l;(0,T.Ct)({loading:r=>{e.paging.loading=r},params:{userid:null===(l=e.user)||void 0===l?void 0:l.userid,doctype:1106,docid:e.media_id,numchild:e.paging.limit,posstart:(e.paging.page-1)*e.paging.limit+1,numofrow:e.paging.limit,sortfield:234,sorttype:"desc"},callback:r=>{e.comments=e.comments.concat(r||[]),(!(null!=r&&r.length)||(null==r?void 0:r.length)<e.paging.limit)&&(e.paging.active=!1),t&&t()}})})()}loadMedia(t){var e=this;return(0,g.A)(function*(){var l;(0,I.e6)({loadingController:e.loadingController,params:{userid:null===(l=e.user)||void 0===l?void 0:l.userid,media_id:e.media_id},callback:r=>{var c,f,P,_,h,N,A,V,B,w,Y;if(null==r||!r.media_id)return void e.navigateToHome();e.media=r,e.media.tag_arrs=null===(c=e.media.tags||null)||void 0===c?void 0:c.split(";"),e.media.isdownload=!(e.media.v_mediatype==Z.S.LINK||!e.media.filepath);let z=(0,W.z)((null!==(f=e.media.height)&&void 0!==f?f:720)/(null!==(P=e.media.width)&&void 0!==P?P:1280)*100,100);var U,S;e.svgRatio!=z&&(e.svgRatio=z),e.iframeSrc=(0,K._)({readfileuploadurl:e.appsettings.readfileuploadurl,type:null===(_=e.media)||void 0===_?void 0:_.v_mediatype,oss:null===(h=e.media)||void 0===h?void 0:h.v_osstype,path:null!==(N=null===(A=e.media)||void 0===A?void 0:A.filepath_extract)&&void 0!==N?N:null===(V=e.media)||void 0===V?void 0:V.filepath,url:null!==(B=null===(w=e.media)||void 0===w?void 0:w.link_file)&&void 0!==B?B:null===(Y=e.media)||void 0===Y?void 0:Y.link_share}),r&&(0,G.Kd)(e.titleService,e.metaService,{title:r.media_title,description:(0,L.YW)(r.media_description),image:r.cover?{url:e.appsettings.readfileuploadurl+r.cover,alt:r.media_title}:null,url:u.c.url+O._.MEDIA_DETAIL.replace(":id",null!==(U=null===(S=r.media_id)||void 0===S?void 0:S.toString())&&void 0!==U?U:"")}),t&&t()}})})()}loadMore_MediaRelated(t){this.paging_media.page+=1,this.loadData_Paging_MediaRelated(t)}loadData_Paging_MediaRelated(t){var e=this;return(0,g.A)(function*(){var l;(0,I.br)({loading:r=>{e.paging_media.loading=r},params:{userid:null===(l=e.user)||void 0===l?void 0:l.userid,topic_id:e.filter_media.topic_id,category_id:e.filter_media.category_id,directory_id:e.filter_media.directory_id,sortfield:e.paging_media.sortfield,sorttype:e.paging_media.sorttype,page:e.paging_media.page,limit:e.paging_media.limit},callback:r=>{e.medias=e.medias.concat(null!=r?r:[]),(!(null!=r&&r.length)||(null==r?void 0:r.length)<e.paging_media.limit)&&(e.paging_media.active=!1),t&&t()}})})()}switchMedia(t){var e=this;return(0,g.A)(function*(){e.media_id=null!=t?t:0,e.router.navigate(["/",O._.MEDIA_DETAIL.replace("/:id",""),e.media_id.toString()],{replaceUrl:!0})})()}presentModalMediaShare(t){var e=this;return(0,g.A)(function*(){var l;(yield e.modalController.create({component:x.U,componentProps:{m:null===(l=e.media)||void 0===l?void 0:l.media_id},mode:"md",cssClass:"ion-modal",backdropDismiss:!0,keyboardClose:!0})).present()})()}filterComments(t){return t?this.comments.filter(e=>e.comment_pid==t).sort((e,l)=>{var r,c;return(null!==(r=l.comment_id)&&void 0!==r?r:0)-(null!==(c=e.comment_id)&&void 0!==c?c:0)}):this.comments.filter(e=>!e.comment_pid).sort((e,l)=>{var r,c;return(null!==(r=l.comment_id)&&void 0!==r?r:0)-(null!==(c=e.comment_id)&&void 0!==c?c:0)})}formatDatetime(t,e){return y()().diff(y()(t),"days")<1?y()(t).fromNow():y()(t).format(null!=e?e:"HH:mm, DD/MM/YYYY")}keyupComment(t){var e=this;return(0,g.A)(function*(){13==t.keyCode&&e.sendComment(t,e.comment)})()}changeComment(t){var e=this;return(0,g.A)(function*(){var l;e.comment.comment_content=null!==(l=t.detail.value)&&void 0!==l?l:""})()}keyupComment2(t){var e=this;return(0,g.A)(function*(){13==t.keyCode&&e.sendComment(t,e.comment2)})()}changeComment2(t){var e=this;return(0,g.A)(function*(){var l;e.comment2.comment_content=null!==(l=t.detail.value)&&void 0!==l?l:""})()}replyComment(t,e){var l=this;return(0,g.A)(function*(){l.comment2={comment_pid:e}})()}editComment(t,e){var l=this;return(0,g.A)(function*(){var r;l.comment2=null!==(r=l.comments.find(c=>c.comment_id==e))&&void 0!==r?r:{}})()}sendComment(t,e){var l=this;return(0,g.A)(function*(){var r;e.comment_content&&(0,T.uy)({loadingController:l.loadingController,params:{userid:null===(r=l.user)||void 0===r?void 0:r.userid,doctype:1106,docid:l.media_id,comment_id:e.comment_id,comment_pid:e.comment_pid,comment_content:e.comment_content},callback:c=>{0==(null==c?void 0:c.returncode)?(e.comment_id?l.comments.filter(f=>f.comment_id!=e.comment_id).forEach(f=>e):(e.comment_id=null==c?void 0:c.id,l.comments.push(e)),l.comment={},l.comment2={}):(0,j.c)(l.toastController,{},c).then(f=>{f.present()})}})})()}deleteComment(t,e){var l=this;return(0,g.A)(function*(){var r;(0,T.TT)({loadingController:l.loadingController,params:{userid:null===(r=l.user)||void 0===r?void 0:r.userid,comment_id:e},callback:c=>{0==(null==c?void 0:c.returncode)?l.comments=l.comments.filter(f=>f.comment_id!=e&&f.comment_pid!=e):(0,j.c)(l.toastController,{},c).then(f=>{f.present()})}})})()}navigateByUrl(t){this.router.navigateByUrl(t)}navigateToHome(){var t=this;return(0,g.A)(function*(){(yield(0,p.lJ)())?t.navigateByUrl(O._.DASHBOARD_MATERIAL):t.navigateByUrl(O._.LANDING_PAGE)})()}downloadMedia(){var t,e;null!==(t=this.media)&&void 0!==t&&t.isdownload&&M()(`${this.appsettings.readfileuploadurl}${null===(e=this.media)||void 0===e?void 0:e.filepath}`)}AI_recommend(){var t=this;return(0,g.A)(function*(){(0,k.QB)(t.modalController,X.r.TaiVeCacHocLieuHeThongCungCap)})()}loadIframe(t){this.iframe=t.target}}return(a=m).\u0275fac=function(t){return new(t||a)(n.rXU(H.hE),n.rXU(H.W8),n.rXU(o.Ix),n.rXU(o.nX),n.rXU(s.K_),n.rXU(s.W3),n.rXU(s.Xi))},a.\u0275cmp=n.VBU({type:a,selectors:[["app-media-detail"]],decls:60,vars:20,consts:[["templateCommentLI",""],[1,"bg-cover","pb-5"],[1,"container","pt-3","pt-xxl-5","pb-5"],[1,"row","align-items-stretch"],[1,"col-12","col-lg-8","info"],[1,"mt-0","mb-2","mb-xxl-3"],[1,"d-flex","align-items-center","justify-content-between","mt-0","mb-2","mb-xxl-4"],[1,"flex-grow-1","mr-3","text-nowrap"],[1,"min-w-24"],["onerror","errorAvatar(this)",3,"src"],[1,"d-block","d-md-flex","flex-nowrap","align-items-center","text-ellipsis"],[1,"col-12","col-lg-8","mb-3"],[1,"position-relative","w-0","h-0","content"],[1,"position-absolute","top-0","left-0","right-0","bottom-0"],[1,"iframe-box"],["frameborder","0","allowfullscreen","","webkitallowfullscreen","","allowtransparency","true","allow","autoplay; fullscreen",3,"src","load",4,"ngIf"],[1,"col-12","col-lg-4","mb-3","playlist"],[1,"d-flex","flex-column","w-100","h-100"],[1,"d-flex","w-100","mb-3"],[1,"col","pl-0"],["mode","ios","expand","block",3,"title"],[1,"col-auto","px-0"],["mode","ios","color","light",1,"mr-3",3,"title"],[1,"flex-grow-1","media-related-ion-content","d-none","d-lg-block"],["mode","ios",3,"class"],[3,"ionInfinite",4,"ngIf"],[1,"flex-grow-1","media-related","d-block","d-lg-none"],[1,"container","introduce","mb-4",2,"margin-top","-3rem"],[1,"container","introduce","mb-4"],[1,"container","container-comment","pb-5","mb-5"],[1,"row","mb-4"],[1,"col-12","col-lg-8"],["lines","full","mode","ios"],[3,"ionChange","keyup","placeholder","value"],["slot","end","mode","ios","size","default","shape","clear",3,"click"],["name","paper-plane-outline"],[1,"col-12","col-lg-8","pl-0"],["lines","none"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngFor","ngForOf"],[1,"text-ellipsis","d-flex","align-items-center","mr-2",3,"title"],["src","../../../assets/icon-svg/dashboard/topic.svg",1,"fs-20"],[1,"fs-12","text-ellipsis"],["src","../../../assets/icon-svg/dashboard/category.svg",1,"fs-20"],["src","../../../assets/icon-svg/dashboard/template.svg",1,"fs-20"],["frameborder","0","allowfullscreen","","webkitallowfullscreen","","allowtransparency","true","allow","autoplay; fullscreen",3,"load","src"],["mode","ios","expand","block",3,"click","title"],["mode","ios","expand","block",1,"btn-download-vip",3,"click","title"],["slot","end","src","../../../assets/image/tabca-pro-2.svg",1,"fs-22","icon-tabca-pro"],["mode","ios","expand","block",3,"disabled"],["mode","ios","color","light",1,"mr-3",3,"click","title"],["name","share-social-outline"],["mode","ios",3,"click"],[3,"name"],[3,"ionInfinite"],[1,"mb-4"],[1,"row"],[3,"innerHTML"],[1,"text-muted"],[1,"col-12","col-lg-4","mb-3"],[1,"alert","mb-0",3,"innerHTML"],[1,"d-flex","flex-wrap"],[1,"text-ellipsis","d-flex","align-items-center","mr-3","mb-3",3,"title"],["src","../../../assets/icon-svg/dashboard/tag.svg",1,"fs-20"],[1,"fs-14","text-ellipsis"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf"],["lines","full",4,"ngIf"],["slot","start"],[1,"comment-name"],[1,"comment-content"],[1,"comment-action"],[3,"click"],["side","end",4,"ngIf"],["side","end"],["color","secondary",3,"click"],["color","danger",3,"click"],["lines","full"],[3,"ionChange","keyup","placeholder","autofocus","value"],["slot","end","mode","ios","size","large","shape","clear",3,"click"]],template:function(t,e){if(1&t){const l=n.RV6();n.nrm(0,"app-header"),n.j41(1,"ion-content")(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"h3",5),n.EFF(7),n.k0s(),n.j41(8,"div",6)(9,"div",7)(10,"ion-chip")(11,"ion-avatar",8),n.nrm(12,"img",9),n.k0s(),n.j41(13,"ion-label"),n.EFF(14),n.k0s()()(),n.DNE(15,dn,4,3,"div",10),n.k0s()(),n.j41(16,"div",11)(17,"div",12)(18,"div",13)(19,"div",14),n.DNE(20,cn,2,4,"iframe",15),n.k0s()()()(),n.j41(21,"div",16)(22,"div",17)(23,"div")(24,"div",18)(25,"div",19),n.DNE(26,mn,5,6,"ion-button",20)(27,sn,6,6)(28,_n,4,4),n.k0s(),n.j41(29,"div",21),n.DNE(30,un,3,3,"ion-button",22),n.k0s()()(),n.j41(31,"div",23)(32,"ion-content"),n.Z7z(33,gn,4,4,"ion-chip",24,n.fX1),n.DNE(35,pn,2,0,"ion-infinite-scroll",25),n.k0s()(),n.j41(36,"div",26),n.Z7z(37,vn,4,4,"ion-chip",24,n.fX1),n.k0s()()()()()(),n.DNE(39,Mn,9,6,"div",27)(40,Pn,9,3,"div",28),n.j41(41,"div",29)(42,"div",30)(43,"div",31)(44,"h5"),n.EFF(45),n.nI1(46,"translate"),n.k0s(),n.j41(47,"ion-item",32)(48,"ion-input",33),n.nI1(49,"translate"),n.bIt("ionChange",function(c){return n.eBV(l),n.Njj(e.changeComment(c))})("keyup",function(c){return n.eBV(l),n.Njj(e.keyupComment(c))}),n.k0s(),n.j41(50,"ion-button",34),n.bIt("click",function(c){return n.eBV(l),n.Njj(e.sendComment(c,e.comment))}),n.nrm(51,"ion-icon",35),n.k0s()()()(),n.j41(52,"div",30)(53,"div",36)(54,"ion-list",37)(55,"ul"),n.DNE(56,bn,1,4,"ng-container",38),n.k0s()()()()(),n.nrm(57,"app-footer"),n.k0s(),n.DNE(58,Dn,5,3,"ng-template",null,0,n.C5r)}if(2&t){let l;n.R7$(7),n.JRh(null==e.media?null:e.media.media_title),n.R7$(5),n.Y8G("src",null!=e.media&&e.media.createdby_avatar?e.readfileuploadurl+(null==e.media?null:e.media.createdby_avatar):"assets/image/user-avatar-default.png",n.B4B),n.R7$(2),n.JRh(null==e.media?null:e.media.createdby_name),n.R7$(),n.vxM(15,null!=e.media&&e.media.topic_titles||null!=e.media&&e.media.category_titles||null!=e.media&&e.media.directory_titles?15:-1),n.R7$(2),n.BMQ("style","padding-bottom:"+e.svgRatio+"%",n.$dS),n.R7$(3),n.Y8G("ngIf",e.iframeSrc),n.R7$(6),n.vxM(26,null!=e.media&&e.media.isdownload&&(null!=e.media&&e.media.isowner||null!=e.media&&e.media.ispublic&&null!=e.membership&&e.membership.TaiVeCacHocLieuHeThongCungCap)?26:null==e.media||!e.media.isdownload||null==e.media||!e.media.ispublic||null!=e.membership&&e.membership.TaiVeCacHocLieuHeThongCungCap?28:27),n.R7$(4),n.vxM(30,null!=e.media&&e.media.isowner?30:-1),n.R7$(3),n.Dyx(e.medias),n.R7$(2),n.Y8G("ngIf",e.paging_media.active&&!e.paging_media.loading),n.R7$(2),n.Dyx(e.medias),n.R7$(2),n.vxM(39,null!=e.media&&e.media.media_description||null!=e.media&&e.media.media_content?39:-1),n.R7$(),n.vxM(40,null!=e.media&&null!=e.media.tag_arrs&&e.media.tag_arrs.length?40:-1),n.R7$(5),n.Lme("",n.bMT(46,16,"Comment")," (",e.comments.length,")"),n.R7$(3),n.FS9("placeholder",n.bMT(49,18,"EnterComment")),n.Y8G("value",null!==(l=e.comment.comment_content)&&void 0!==l?l:""),n.R7$(8),n.Y8G("ngForOf",e.filterComments())}},dependencies:[b.Sq,b.bT,b.T3,s.mC,s.Jm,s.ZB,s.W9,s.iq,s.Ax,s.Hp,s.$w,s.uz,s.LU,s.CE,s.A7,s.he,s.nf,s.Zx,s.Gw,nn.l,en.n,tn.m,on.D9],styles:[".bg-contain[_ngcontent-%COMP%]{background-image:url(bg.33cb60bd32718d53.svg);background-repeat:no-repeat;background-position:top center;background-size:contain}.bg-cover[_ngcontent-%COMP%]{background-image:url(bg.33cb60bd32718d53.svg);background-repeat:no-repeat;background-position:bottom center;background-size:cover}.info[_ngcontent-%COMP%]   ion-chip[_ngcontent-%COMP%]{margin:0;--background: transparent}.info[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin:0}.content[_ngcontent-%COMP%]{border-radius:.75rem;overflow:hidden;box-shadow:4px 4px 12px #01010133}.nav-action[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:inherit;font-size:1.25rem}.nav-action[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] + a[_ngcontent-%COMP%]{margin-left:3rem}.introduce[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{border-radius:.75rem;background-color:#fff3b6;color:#000}.iframe-box[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;background:var(--ion-toolbar-background, var(--ion-color-step-50, #f7f7f7));display:flex;align-items:center;justify-content:center}.iframe-box[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{display:block;width:100%;height:100%;padding:0;margin:0;border:0;outline:none;background-color:#fff}.group-action[_ngcontent-%COMP%]{position:absolute;bottom:.5rem;right:1rem;line-height:0;-webkit-user-select:none;user-select:none}.group-action[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap}.group-action[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] + div[_ngcontent-%COMP%]{margin-left:1rem}.group-action[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;padding:0 1rem;vertical-align:middle;font-size:18px;color:#fab11d}.group-action[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{vertical-align:middle;width:34px;height:34px}.group-action[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{height:34px}.container-comment[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:block;padding:0;margin:1rem 0}.container-comment[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]:empty{display:none}.container-comment[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:block;margin:0 0 .5rem}.container-comment[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:4rem}.container-comment[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]{--size: 3rem;--border-radius: 50%;margin-top:0;margin-bottom:0;align-self:flex-start}.container-comment[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0}.container-comment[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   .comment-name[_ngcontent-%COMP%]{line-height:1.5rem;font-weight:500}.container-comment[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   .comment-name[_ngcontent-%COMP%] > small[_ngcontent-%COMP%]{margin-left:.5rem;font-size:.75rem;color:var(--ion-color-medium);vertical-align:top}.container-comment[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   .comment-content[_ngcontent-%COMP%]{line-height:1.5rem;white-space:wrap;text-align:justify}.container-comment[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   .comment-action[_ngcontent-%COMP%]{line-height:1.5rem}.container-comment[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   .comment-action[_ngcontent-%COMP%] > small[_ngcontent-%COMP%]{line-height:1;vertical-align:middle;font-size:.75rem;color:var(--ion-color-primary);cursor:pointer}.container-comment[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem;--padding-top: 0;--padding-bottom: 0;--padding-start: 0;--padding-end: 0;margin:0;--border-radius: .5rem;--background: var(--ion-color-secondary)}.container-comment[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.5rem}.container-comment[_ngcontent-%COMP%]   ion-item-option[_ngcontent-%COMP%]{text-transform:initial}.playlist[_ngcontent-%COMP%]   .media-related-ion-content[_ngcontent-%COMP%]{min-height:250px}.playlist[_ngcontent-%COMP%]   .media-related-ion-content[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--ion-background-color: transparent}.playlist[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--border-radius: .5rem;--padding-top: 0;--padding-bottom: 0;--padding-start: .75rem;--padding-end: .75rem;margin:0}.playlist[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:not([color]){--color: var(--ion-color-linear-contrast);--background: var(--ion-color-linear);--background-activated: var(--ion-color-linear-shade);--background-focused: var(--ion-color-linear-shade);--background-hover: var(--ion-color-linear-tint)}.playlist[_ngcontent-%COMP%]   ion-chip[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:.5rem;padding:.75rem 1.25rem;--background: transparent;--color: var(--ion-color-medium);-webkit-user-select:none;user-select:none}.playlist[_ngcontent-%COMP%]   ion-chip[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:.75rem;--color: var(--ion-color-medium-tint)}.playlist[_ngcontent-%COMP%]   ion-chip[_ngcontent-%COMP%]:hover{--background: rgba(var(--ion-text-color-rgb), .1)}.playlist[_ngcontent-%COMP%]   ion-chip.active[_ngcontent-%COMP%]{--background: rgba(var(--ion-color-secondary-rgb), .4);--color: var(--ion-text-color);font-weight:500}.playlist[_ngcontent-%COMP%]   ion-chip.active[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}"]}),m})()}];let $n=(()=>{var a;class m{}return(a=m).\u0275fac=function(t){return new(t||a)},a.\u0275mod=n.$C({type:a}),a.\u0275inj=n.G2t({imports:[o.iI.forChild(Tn),o.iI]}),m})();var In=d(3890);let jn=(()=>{var a;class m{}return(a=m).\u0275fac=function(t){return new(t||a)},a.\u0275mod=n.$C({type:a}),a.\u0275inj=n.G2t({imports:[b.MD,D.YN,s.bv,$n,In.x]}),m})()},3753:(E,R,d)=>{d.d(R,{t:()=>L});var b=d(467),D=d(8671),s=d(2635),o=d(4438),g=d(6637),$=d(177),I=d(31);function O(u,C){1&u&&(o.qex(0),o.j41(1,"ion-content")(2,"div",2)(3,"div",3),o.nrm(4,"ion-spinner",4),o.k0s()()(),o.bVm())}function x(u,C){if(1&u){const p=o.RV6();o.qex(0),o.j41(1,"ion-item",9),o.bIt("click",function(){const M=o.eBV(p).$implicit,k=o.XpG(3);return o.Njj(k.filterChange(M.lookup_value))}),o.j41(2,"ion-label"),o.EFF(3),o.k0s()(),o.bVm()}if(2&u){const p=C.$implicit,v=o.XpG(3);o.R7$(),o.BMQ("color",p.lookup_value==v.selectedId?"primary":""),o.R7$(2),o.JRh(p.lookup_title)}}function T(u,C){if(1&u&&(o.j41(0,"ion-list",7),o.DNE(1,x,4,2,"ng-container",8),o.k0s()),2&u){const p=o.XpG(2);o.R7$(),o.Y8G("ngForOf",p.lookups)}}function j(u,C){1&u&&(o.j41(0,"div",3)(1,"i"),o.EFF(2),o.nI1(3,"translate"),o.k0s()()),2&u&&(o.R7$(2),o.JRh(o.bMT(3,1,"DataNotFound")))}function F(u,C){if(1&u){const p=o.RV6();o.qex(0),o.j41(1,"ion-item",9),o.bIt("click",function(){const M=o.eBV(p).$implicit,k=o.XpG(3);return o.Njj(k.filterChange(M.lookup_value))}),o.j41(2,"ion-label",10),o.EFF(3),o.k0s()(),o.bVm()}if(2&u){const p=C.$implicit,v=o.XpG(3);o.R7$(),o.BMQ("color",p.lookup_value==v.selectedId?"primary":""),o.R7$(),o.Y8G("color",p.color),o.R7$(),o.JRh(p.lookup_title)}}function y(u,C){if(1&u&&(o.qex(0),o.nrm(1,"hr"),o.j41(2,"ion-list",7),o.DNE(3,F,4,3,"ng-container",8),o.k0s(),o.bVm()),2&u){const p=o.XpG(2);o.R7$(3),o.Y8G("ngForOf",p.lookups_d2)}}function G(u,C){if(1&u&&(o.qex(0),o.DNE(1,T,2,1,"ion-list",5)(2,j,4,3,"div",6)(3,y,4,1,"ng-container",1),o.bVm()),2&u){const p=o.XpG();o.R7$(),o.Y8G("ngIf",p.lookups.length),o.R7$(),o.Y8G("ngIf",!p.lookups.length),o.R7$(),o.Y8G("ngIf",p.lookups_d2.length)}}let L=(()=>{var u;class C{constructor(v){this.popoverController=v,this.selectedId=0,this.lookup_key="",this.lookups_d2=[],this.dataInit={loading:!0},this.lookups=[]}ngOnInit(){var v=this;(0,b.A)(function*(){v.user=yield(0,s.Nk)(),v.loadLookup()})()}loadLookup(){var v;(0,D.$)({loading:M=>{this.dataInit.loading=M},params:{userid:null===(v=this.user)||void 0===v?void 0:v.userid,lookup_key:this.lookup_key},callback:M=>{this.lookups=M||[]}})}filterChange(v){var M;this.popoverController.dismiss(null!==(M=this.lookups.find(k=>k.lookup_value==v))&&void 0!==M?M:this.lookups_d2.find(k=>k.lookup_value==v),"confirm")}}return(u=C).\u0275fac=function(v){return new(v||u)(o.rXU(g.IE))},u.\u0275cmp=o.VBU({type:u,selectors:[["app-popover-lookup"]],inputs:{selectedId:"selectedId",lookup_key:"lookup_key",lookups_d2:"lookups_d2"},decls:3,vars:2,consts:[[1,"menu-lookup","overflow-auto"],[4,"ngIf"],[1,"d-flex","w-100","h-100","align-items-center","justify-content-center"],[1,"px-3","py-1"],["name","dots","color","dark",1,"align-middle"],["lines","full",4,"ngIf"],["class","px-3 py-1",4,"ngIf"],["lines","full"],[4,"ngFor","ngForOf"],["button","","detail","false",3,"click"],[3,"color"]],template:function(v,M){1&v&&(o.j41(0,"div",0),o.DNE(1,O,5,0,"ng-container",1)(2,G,4,3,"ng-container",1),o.k0s()),2&v&&(o.R7$(),o.Y8G("ngIf",M.dataInit.loading),o.R7$(),o.Y8G("ngIf",!M.dataInit.loading))},dependencies:[$.Sq,$.bT,g.W9,g.uz,g.he,g.nf,g.w2,I.D9],styles:[".menu-lookup[_ngcontent-%COMP%]{width:240px;max-height:480px;border-top:3px solid #5F6CE1}hr[_ngcontent-%COMP%]{margin:0}"]}),C})()},4668:(E,R,d)=>{d.d(R,{z:()=>b});const b={ONLY_ME:10400,ONLY_MEMBER:10401,EVERYONE_HAS_LINK:10402}}}]);