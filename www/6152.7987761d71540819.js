"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6152],{8671:(Y,O,r)=>{r.d(O,{$:()=>D});var R=r(5972);function D(s){s.params=s.params||{},(0,R.hm)({url:"api/Lookup/get",params:{lookup_key:s.params.lookup_key||null},success:o=>{"function"==typeof s.callback&&s.callback(null==o?void 0:o.data)},error:o=>{"function"==typeof s.callback&&s.callback(),console.error(s,o)},loading:s.loading,loadingController:s.loadingController})}},8885:(Y,O,r)=>{r.r(O),r.d(O,{MediaViewerPageModule:()=>Wi});var R=r(177),D=r(9417),s=r(6637),o=r(3658),C=r(467),L=r(4569),S=r(1632),H=r(7331),E=r(5312),J=r(1955),W=r(7853),z=r(2527),N=r.n(z),K=r(5972),Q=r(5781),m=r(7868),M=r(1174),_=r(6539),p=r(1312),f=r(8833),k=r(4552),oi=r(1951),ai=r(5414),A=r(1400),x=r(1607),i=r(4438),li=r(345),si=r(7704),ci=r(2706),mi=r(31);const pi=["canvas"];function _i(t,d){if(1&t){const n=i.RV6();i.j41(0,"ion-button",11),i.nI1(1,"translate"),i.bIt("click",function(a){i.eBV(n);const l=i.XpG(2);return i.Njj(l.presentModalAiImage(a))}),i.nrm(2,"ion-icon",12),i.k0s()}2&t&&i.Y8G("title",i.bMT(1,1,"CreatedWithAI"))}function gi(t,d){if(1&t){const n=i.RV6();i.j41(0,"ion-button",11),i.nI1(1,"translate"),i.bIt("click",function(){i.eBV(n);const a=i.XpG(2);return i.Njj(a.AI_recommend(a.v_functionlimit.GenAITaoHinhAnh))}),i.nrm(2,"ion-icon",12),i.k0s()}2&t&&i.Y8G("title",i.bMT(1,1,"CreatedWithAI"))}function ui(t,d){if(1&t&&i.DNE(0,_i,3,3,"ion-button",10)(1,gi,3,3),2&t){const n=i.XpG();i.vxM(0,n.membership.GenAITaoHinhAnh?0:1)}}function fi(t,d){if(1&t){const n=i.RV6();i.j41(0,"li",15)(1,"ion-card",16),i.bIt("click",function(){const a=i.eBV(n).$implicit,l=i.XpG(2);return i.Njj(l.switchMedia(a.media_id))}),i.nrm(2,"ion-img",17),i.j41(3,"ion-card-content")(4,"div",18),i.EFF(5),i.k0s()()(),i.j41(6,"div",19),i.EFF(7),i.k0s()()}if(2&t){let n;const e=d.$implicit,a=i.XpG(2);i.R7$(),i.Y8G("title",e.media_title),i.R7$(),i.Y8G("src",e.cover?a.readfileuploadurl+e.cover:"assets/image/media/image.svg")("alt",e.media_title)("title",e.media_title),i.R7$(2),i.Y8G("title",e.media_title),i.R7$(),i.JRh(null!==(n=null!==(n=null!==(n=e.media_title)&&void 0!==n?n:e.v_osstype_title)&&void 0!==n?n:e.v_mediatype_title)&&void 0!==n?n:""),i.R7$(2),i.JRh(e.v_mediatype_title)}}function hi(t,d){if(1&t&&(i.j41(0,"div",8)(1,"div",13),i.EFF(2,"T\xecm th\u1ea5y "),i.j41(3,"b"),i.EFF(4),i.k0s(),i.EFF(5,' m\u1ee5c v\u1edbi t\u1eeb kh\xf3a "'),i.j41(6,"b"),i.EFF(7),i.k0s(),i.EFF(8,'"'),i.k0s(),i.j41(9,"ul",14),i.Z7z(10,fi,8,7,"li",15,i.fX1),i.k0s()()),2&t){let n;const e=i.XpG();i.R7$(4),i.JRh((null!==(n=e.medias[0].total)&&void 0!==n?n:0)<=99?e.medias[0].total:"99+"),i.R7$(3),i.JRh(e.filter.search),i.R7$(3),i.Dyx(e.medias)}}function vi(t,d){if(1&t&&i.nrm(0,"img",43),2&t){const n=i.XpG(3);i.Y8G("src",n.viewOptions.url,i.B4B)("alt",n.media.media_title)}}function Ci(t,d){if(1&t&&(i.j41(0,"div",41),i.DNE(1,vi,1,2,"img",42),i.k0s()),2&t){const n=i.XpG(2);i.BMQ("style",n.media.bigcover?"--bg-img:url("+n.readfileuploadurl+n.media.bigcover+")":"",i.$dS),i.R7$(),i.Y8G("ngIf",n.viewOptions.url)}}function bi(t,d){if(1&t&&(i.j41(0,"div",41),i.nrm(1,"canvas",null,0),i.k0s()),2&t){const n=i.XpG(2);i.BMQ("style",n.media.bigcover?"--bg-img:url("+n.readfileuploadurl+n.media.bigcover+")":"",i.$dS)}}function Mi(t,d){if(1&t){const n=i.RV6();i.j41(0,"iframe",46),i.nI1(1,"safe"),i.bIt("load",function(a){i.eBV(n);const l=i.XpG(3);return i.Njj(l.loadIframe(a))}),i.k0s()}if(2&t){const n=i.XpG(3);i.Y8G("src",i.i5U(1,1,n.viewOptions.url,"resourceUrl"),i.f$h)}}function Pi(t,d){if(1&t&&(i.j41(0,"div",44),i.DNE(1,Mi,2,4,"iframe",45),i.k0s()),2&t){const n=i.XpG(2);i.BMQ("style",n.media.bigcover?"--bg-img:url("+n.readfileuploadurl+n.media.bigcover+")":"",i.$dS),i.R7$(),i.Y8G("ngIf",n.viewOptions.url)}}function xi(t,d){1&t&&(i.j41(0,"div",47),i.nrm(1,"ion-spinner",48),i.k0s())}function wi(t,d){if(1&t){const n=i.RV6();i.j41(0,"ion-button",52),i.nI1(1,"translate"),i.bIt("click",function(){i.eBV(n);const a=i.XpG(3);return i.Njj(a.downloadMedia())}),i.nrm(2,"ion-icon",53),i.j41(3,"ion-label"),i.EFF(4),i.nI1(5,"translate"),i.k0s()()}2&t&&(i.Y8G("title",i.bMT(1,2,"Download")),i.R7$(4),i.JRh(i.bMT(5,4,"Download")))}function ki(t,d){1&t&&(i.j41(0,"ion-button",54),i.nrm(1,"ion-icon",55),i.j41(2,"ion-label"),i.EFF(3),i.nI1(4,"translate"),i.k0s()()),2&t&&(i.Y8G("disabled",!0),i.R7$(3),i.JRh(i.bMT(4,2,"Download")))}function yi(t,d){if(1&t){const n=i.RV6();i.DNE(0,wi,6,6,"ion-button",49)(1,ki,5,4),i.j41(2,"ion-button",50),i.nI1(3,"translate"),i.bIt("click",function(a){i.eBV(n);const l=i.XpG(2);return i.Njj(l.presentModalMediaShare(a))}),i.nrm(4,"ion-icon",51),i.k0s()}if(2&t){const n=i.XpG(2);i.vxM(0,n.media.isdownload?0:1),i.R7$(2),i.Y8G("title",i.bMT(3,2,"Share"))}}function Oi(t,d){if(1&t){const n=i.RV6();i.j41(0,"ion-button",52),i.nI1(1,"translate"),i.bIt("click",function(){i.eBV(n);const a=i.XpG(3);return i.Njj(a.downloadMedia())}),i.nrm(2,"ion-icon",53),i.j41(3,"ion-label"),i.EFF(4),i.nI1(5,"translate"),i.k0s()()}2&t&&(i.Y8G("title",i.bMT(1,2,"Download")),i.R7$(4),i.JRh(i.bMT(5,4,"Download")))}function Ri(t,d){if(1&t){const n=i.RV6();i.j41(0,"div",57)(1,"div",58),i.nrm(2,"ion-icon",59),i.j41(3,"b",60),i.EFF(4,"Tabca Pro"),i.k0s()(),i.j41(5,"div",61),i.EFF(6,"N\xe2ng c\u1ea5p t\xe0i kho\u1ea3n Pro \u0111\u1ec3 t\u1ea3i v\u1ec1 v\xe0 t\u1ea1o h\xecnh \u1ea3nh b\u1eb1ng AI."),i.k0s(),i.j41(7,"ion-button",62),i.nI1(8,"translate"),i.bIt("click",function(){i.eBV(n);const a=i.XpG(3);return i.Njj(a.AI_recommend(a.v_functionlimit.TaiVeCacHocLieuHeThongCungCap))}),i.j41(9,"ion-label"),i.EFF(10),i.nI1(11,"translate"),i.k0s()()()}2&t&&(i.R7$(7),i.Y8G("title",i.bMT(8,2,"UpgradeTabcaProNow")),i.R7$(3),i.JRh(i.bMT(11,4,"Upgrade")))}function Ei(t,d){1&t&&(i.j41(0,"ion-button",54),i.nrm(1,"ion-icon",55),i.j41(2,"ion-label"),i.EFF(3),i.nI1(4,"translate"),i.k0s()()),2&t&&(i.Y8G("disabled",!0),i.R7$(3),i.JRh(i.bMT(4,2,"Download")))}function ji(t,d){if(1&t&&(i.DNE(0,Oi,6,6,"ion-button",49)(1,Ri,12,6)(2,Ei,5,4),i.j41(3,"ion-button",56),i.nI1(4,"translate"),i.nrm(5,"ion-icon",51),i.k0s()),2&t){const n=i.XpG(2);i.vxM(0,n.media.isdownload&&n.media.ispublic&&n.membership.TaiVeCacHocLieuHeThongCungCap?0:n.media.isdownload&&n.media.ispublic&&!n.membership.TaiVeCacHocLieuHeThongCungCap?1:2),i.R7$(3),i.Y8G("title",i.bMT(4,3,"Share"))("disabled",!0)}}function Ti(t,d){if(1&t&&(i.j41(0,"p"),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&t){const n=i.XpG(2);i.R7$(),i.E5c("",i.bMT(2,3,"Size"),": ",n.media.width," x ",n.media.height," px")}}function Ii(t,d){if(1&t&&(i.j41(0,"p"),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&t){const n=i.XpG(2);i.R7$(),i.Lme("",i.bMT(2,2,"MediaType"),": ",n.media.ext,"")}}function Vi(t,d){if(1&t&&(i.j41(0,"div",37),i.nrm(1,"ion-icon",63),i.j41(2,"span",64),i.EFF(3),i.k0s()()),2&t){const n=i.XpG(2);i.Y8G("title",n.media.topic_titles),i.R7$(3),i.JRh(n.media.topic_titles.split(";").reverse().join(" / "))}}function Gi(t,d){if(1&t&&(i.j41(0,"div",37),i.nrm(1,"ion-icon",65),i.j41(2,"span",64),i.EFF(3),i.k0s()()),2&t){const n=i.XpG(2);i.Y8G("title",n.media.category_titles),i.R7$(3),i.JRh(n.media.category_titles.split(";").reverse().join(" / "))}}function Fi(t,d){if(1&t&&(i.j41(0,"div",37),i.nrm(1,"ion-icon",66),i.j41(2,"span",64),i.EFF(3),i.k0s()()),2&t){const n=i.XpG(2);i.Y8G("title",n.media.directory_titles),i.R7$(3),i.JRh(n.media.directory_titles.split(";").reverse().join(" / "))}}function $i(t,d){if(1&t&&(i.j41(0,"ion-button",69),i.nrm(1,"ion-icon",70),i.j41(2,"ion-label",71),i.EFF(3),i.k0s()()),2&t){const n=d.$implicit;i.Y8G("title",n),i.R7$(3),i.JRh(n)}}function Di(t,d){if(1&t&&(i.j41(0,"ion-button",69),i.nrm(1,"ion-icon",72),i.j41(2,"ion-label",71),i.EFF(3),i.k0s()()),2&t){const n=d.$implicit;i.Y8G("title",n),i.R7$(3),i.JRh(n)}}function Ai(t,d){if(1&t&&(i.j41(0,"ion-button",69),i.nrm(1,"ion-icon",73),i.j41(2,"ion-label",71),i.EFF(3),i.k0s()()),2&t){const n=d.$implicit;i.Y8G("title",n),i.R7$(3),i.JRh(n)}}function Xi(t,d){if(1&t&&(i.j41(0,"ion-button",69),i.nrm(1,"ion-icon",74),i.j41(2,"ion-label",71),i.EFF(3),i.k0s()()),2&t){const n=d.$implicit;i.Y8G("title",n),i.R7$(3),i.JRh(n)}}function Bi(t,d){if(1&t&&(i.j41(0,"div",39)(1,"h5",67),i.EFF(2),i.nI1(3,"translate"),i.k0s(),i.j41(4,"div",30)(5,"div",31)(6,"div",68),i.Z7z(7,$i,4,2,"ion-button",69,i.fX1),i.Z7z(9,Di,4,2,"ion-button",69,i.fX1),i.Z7z(11,Ai,4,2,"ion-button",69,i.fX1),i.Z7z(13,Xi,4,2,"ion-button",69,i.fX1),i.k0s()()()()),2&t){let n,e,a;const l=i.XpG(2);i.R7$(2),i.JRh(i.bMT(3,1,"Tag")),i.R7$(5),i.Dyx(null==l.media.tags?null:l.media.tags.split(";")),i.R7$(2),i.Dyx(null==l.media.topic_titles||null==(n=l.media.topic_titles.split(";"))?null:n.reverse()),i.R7$(2),i.Dyx(null==l.media.category_titles||null==(e=l.media.category_titles.split(";"))?null:e.reverse()),i.R7$(2),i.Dyx(null==l.media.directory_titles||null==(a=l.media.directory_titles.split(";"))?null:a.reverse())}}function Li(t,d){if(1&t){const n=i.RV6();i.j41(0,"div",75)(1,"a",76),i.EFF(2),i.k0s(),i.j41(3,"ion-item",77),i.bIt("click",function(){const a=i.eBV(n).$implicit,l=i.XpG(3);return i.Njj(l.switchMedia(a.media_id))}),i.j41(4,"ion-thumbnail"),i.nrm(5,"img",43),i.k0s()()()}if(2&t){let n;const e=d.$implicit,a=i.XpG(3);i.R7$(),i.Y8G("href",a.siteurl+"/"+a.APP_ROUTE.VIEWER_ID.replace(":id",null!==(n=null==a.media.media_id?null:a.media.media_id.toString())&&void 0!==n?n:""),i.B4B)("title",e.media_title),i.R7$(),i.JRh(e.media_title),i.R7$(),i.Y8G("title",e.media_title),i.R7$(2),i.Y8G("src",e.cover?a.readfileuploadurl+e.cover:"assets/image/media/image.svg",i.B4B)("alt",e.media_title)}}function Ni(t,d){if(1&t&&(i.j41(0,"div",40)(1,"h5",67),i.EFF(2),i.nI1(3,"translate"),i.k0s(),i.j41(4,"div",68),i.Z7z(5,Li,6,6,"div",75,i.fX1),i.k0s()()),2&t){const n=i.XpG(2);i.R7$(2),i.JRh(i.bMT(3,1,"MediaRelated")),i.R7$(3),i.Dyx(n.medias_related)}}function Ui(t,d){if(1&t&&(i.j41(0,"div",20)(1,"div",21)(2,"div",22)(3,"div",23)(4,"div",24),i.DNE(5,Ci,2,2)(6,bi,3,1)(7,Pi,2,2)(8,xi,2,0),i.k0s()()(),i.j41(9,"div",25)(10,"div",26),i.DNE(11,yi,5,4,"ion-button",27)(12,ji,6,5),i.k0s(),i.j41(13,"div",28),i.DNE(14,Ti,3,5,"p")(15,Ii,3,4,"p"),i.j41(16,"p"),i.EFF(17),i.nI1(18,"translate"),i.nI1(19,"translate"),i.k0s()()()()(),i.j41(20,"div",29)(21,"div",30)(22,"div",31)(23,"div",32)(24,"div",33)(25,"ion-chip")(26,"ion-avatar",34),i.nrm(27,"img",35),i.k0s(),i.j41(28,"ion-label"),i.EFF(29),i.k0s()()(),i.j41(30,"div",36),i.DNE(31,Vi,4,2,"div",37)(32,Gi,4,2)(33,Fi,4,2),i.k0s()(),i.j41(34,"h2",38),i.EFF(35),i.k0s()()()(),i.DNE(36,Bi,15,3,"div",39)(37,Ni,7,3,"div",40)),2&t){let n;const e=i.XpG();i.R7$(3),i.BMQ("style","padding-bottom:"+e.viewOptions.ratio+"%",i.$dS),i.R7$(2),i.vxM(5,"img"===(n=e.viewOptions.type)?5:"canvas"===n?6:"iframe"===n?7:8),i.R7$(6),i.vxM(11,e.media.isowner?11:12),i.R7$(3),i.vxM(14,e.media.width&&e.media.height?14:-1),i.R7$(),i.vxM(15,e.media.ext?15:-1),i.R7$(2),i.Lme("",i.bMT(18,13,"Use"),": ",e.media.ispublic?"Tabca Pro":i.bMT(19,15,"Private"),""),i.R7$(10),i.Y8G("src",e.media.createdby_avatar?e.readfileuploadurl+e.media.createdby_avatar:"assets/image/user-avatar-default.png",i.B4B),i.R7$(2),i.JRh(e.media.createdby_name),i.R7$(2),i.vxM(31,e.media.topic_titles?31:e.media.category_titles?32:e.media.directory_titles?33:-1),i.R7$(4),i.JRh(e.media.media_title),i.R7$(),i.vxM(36,e.media.tags||e.media.topic_titles||e.media.category_titles||e.media.directory_titles?36:-1),i.R7$(),i.vxM(37,e.medias_related.length?37:-1)}}function Yi(t,d){if(1&t){const n=i.RV6();i.j41(0,"ion-infinite-scroll",78),i.bIt("ionInfinite",function(a){i.eBV(n);const l=i.XpG();return i.Njj(l.onIonInfinite(a))}),i.nrm(1,"ion-infinite-scroll-content"),i.k0s()}}const Si=[{path:"",component:(()=>{var t;class d{constructor(e,a,l,c,u,g,h,P){var b,v,w=this;this.activatedRoute=e,this.titleService=a,this.metaService=l,this.router=c,this.toastController=u,this.modalController=g,this.popoverController=h,this.loadingController=P,this.APP_ROUTE=f._,this.APP_FUNC_FormatDate=p.Rv,this.v_functionlimit=A.r,this.envUI_Config=E.c.ui_config,this.appsettings=null!==(b=E.c.donvis.find(X=>X.madonvi==E.c.default_donvi))&&void 0!==b?b:{},this.siteurl=E.c.url,this.readfileuploadurl=null!==(v=this.appsettings.readfileuploadurl)&&void 0!==v?v:"",this.membership={},this.medias_related=[],this.filter={},this.paging={page:1,limit:50,active:!0},this.medias=[],this.viewOptions={ratio:66.67};let y=e.snapshot.params.id;if(!y)return void this.router.navigateByUrl(f._.LANDING_PAGE);let V=e.snapshot.queryParamMap.get("auth");"1"==V||"true"==V?(0,C.A)(function*(){yield w.loadUser(),w.media_id=y,w.loadMedia(y)})():(this.loadUser(),this.media_id=y,this.loadMedia(y,!1))}ngOnInit(){}onIonRefresher(e){this.closeSearch(),this.loadMedia(void 0,!0,()=>{e.target.complete()})}onIonInfinite(e){this.loadMore(()=>{e.target.complete()})}searchChange(e){var a;this.filter.search=null===(a=e.target.value)||void 0===a?void 0:a.replace(/[\`\~\!\@\#\$\%\^\&\*\(\)\-\_\=\+\[\{\]\}\\\|\;\:\'\,\<\.\>\/\?]+/g," ").replace(/\s+/g," ").trim(),this.refreshData()}filterChange(){this.refreshData()}refreshData(e){this.filter.search?(this.paging.page=1,this.paging.active=!0,this.loadData_Paging(e)):this.closeSearch()}loadMore(e){this.paging.page+=1,this.loadData_Paging(e)}pushData(e){return 1==this.paging.page&&(this.medias.length=0),this.medias=this.medias.concat(e),this.medias}loadData_Paging(e){var a;(0,Q.br)({loadingController:1==this.paging.page?this.loadingController:void 0,params:{userid:null===(a=this.user)||void 0===a?void 0:a.userid,getfrom:1,media_title:this.filter.search,v_mediatypes:[x.S.IMAGE,x.S.IMAGE_ANIMATION,x.S.PHET,x.S.HTML,x.S.SCORM].join(","),topic_id:this.filter.topic_id,sortfield:this.paging.sortfield,sorttype:this.paging.sorttype,page:this.paging.page,limit:this.paging.limit},callback:l=>{this.pushData(l||[]).length<this.paging.limit*this.paging.page&&(this.paging.active=!1),e&&e()}})}loadUser(){var e=this;return(0,C.A)(function*(){var a,l,c;e.appsettings=yield(0,K.AC)(),e.appsettings.madonvi&&(e.user=yield(0,_.sx)(),e.readfileuploadurl=null!==(a=e.appsettings.readfileuploadurl)&&void 0!==a?a:"",e.user.userid)&&((0,m.EW)({params:{userid:null===(l=e.user)||void 0===l?void 0:l.userid,v_functionlimit:A.r.GenAITaoHinhAnh},callback:u=>{var g;e.membership.GenAITaoHinhAnh=(0,oi.j)(null==u||null===(g=u.contents)||void 0===g?void 0:g.find(h=>h.v_functionlimit==A.r.GenAITaoHinhAnh))}}),(0,m.EW)({params:{userid:null===(c=e.user)||void 0===c?void 0:c.userid,v_functionlimit:A.r.TaiVeCacHocLieuHeThongCungCap},callback:u=>{var g;e.membership.TaiVeCacHocLieuHeThongCungCap=(0,oi.j)(null==u||null===(g=u.contents)||void 0===g?void 0:g.find(h=>h.v_functionlimit==A.r.TaiVeCacHocLieuHeThongCungCap))}}))})()}loadMedia(e,a,l){var c;$.ajax({async:a,cache:!0,url:`${this.appsettings.apiurl}api/Media/Detail`,method:"GET",contentType:"application/json",data:{getby:null===(c=this.user)||void 0===c?void 0:c.userid,media_id:null!=e?e:this.media_id},dataType:"json",success:u=>{var g,h,P,b,v,w,y,V,X,Z,q,ii,ei,ti;u&&u.media_id?(this.media=u||{},(0,p.Kd)(this.titleService,this.metaService,{title:this.media.media_title,description:(0,k.YW)(this.media.media_description),keywords:null===(g=this.media.tags)||void 0===g?void 0:g.replace(/\;/g,", "),image:{url:`${this.appsettings.readfileuploadurl}${this.media.bigcover}`,type:"image/jpge",width:800,height:800,alt:this.media.media_title},url:`${E.c.url}/${f._.MEDIA_VIEWER_ID.replace(":id",null!==(h=null===(P=this.media.media_id)||void 0===P?void 0:P.toString())&&void 0!==h?h:"")}`,author:{name:this.media.createdby_name,email:E.c.author.email},updated:null!==(b=this.media.modifieddate)&&void 0!==b?b:this.media.createddate}),this.media.isdownload=!(this.media.v_mediatype==x.S.LINK||!this.media.filepath),null!==(v=this.media)&&void 0!==v&&null!==(v=v.filepath)&&void 0!==v&&v.match(/.lvm$/)?(0,W.Q)(`${this.appsettings.readfileuploadurl}${null===(w=this.media)||void 0===w?void 0:w.filepath}`).then(zi=>{let{ext:ri,file:U}=zi;switch(ri){case"gif":case"apng":this.viewOptions.type="img",this.viewOptions.file=U,this.viewOptions.url=URL.createObjectURL(U);break;case"avif":case"jpg":case"jpe":case"jpeg":case"jif":case"jfif":case"pjp":case"pjpeg":case"png":case"ico":case"cur":case"tif":case"tiff":case"bmp":case"webp":case"svg":{this.viewOptions.type="canvas",this.viewOptions.file=U;let ni=new FileReader;ni.onload=di=>{let j=new Image;j.onload=()=>{var B;let T=j.width||1,I=j.height||1;if("svg"==ri){let F=T/I;F>=1?(T=Math.max(T,800),I=T/F):(I=Math.max(I,800),T=I*F)}let G=null===(B=this.canvas)||void 0===B?void 0:B.nativeElement;if(G){G.width=T,G.height=I,G.style.maxWidth="100%",G.style.maxHeight="100%";let F=G.getContext("2d");F&&F.drawImage(j,0,0,T,I)}},j.onerror=()=>{(0,ai.c)(this.toastController,{color:"danger",message:"Kh\xf4ng t\u1ea3i \u0111\u01b0\u1ee3c th\xf4ng tin \u1ea3nh!"}).then(B=>B.present())},j.src=di.target.result},ni.onerror=di=>{(0,ai.c)(this.toastController,{color:"danger",message:"Kh\xf4ng t\u1ea3i \u0111\u01b0\u1ee3c t\u1eadp tin!"}).then(j=>j.present())},ni.readAsDataURL(U);break}}}):(this.viewOptions.type="iframe",this.viewOptions.url=(0,J._)({readfileuploadurl:this.appsettings.readfileuploadurl,type:null===(y=this.media)||void 0===y?void 0:y.v_mediatype,oss:null===(V=this.media)||void 0===V?void 0:V.v_osstype,path:null!==(X=null===(Z=this.media)||void 0===Z?void 0:Z.filepath_extract)&&void 0!==X?X:null===(q=this.media)||void 0===q?void 0:q.filepath,url:null!==(ii=null===(ei=this.media)||void 0===ei?void 0:ei.link_file)&&void 0!==ii?ii:null===(ti=this.media)||void 0===ti?void 0:ti.link_share})),this.media&&this.loadMedia_Related(a),l&&l()):this.router.navigateByUrl(f._.LANDING_PAGE)}})}loadMedia_Related(e){var a,l,c,u;this.medias_related=[];let g=[];null!==(a=this.media)&&void 0!==a&&a.tags&&g.push({type:"tags",tags:this.media.tags}),null!==(l=this.media)&&void 0!==l&&l.directory_id&&g.push({type:"directory",directory_id:this.media.directory_id}),null!==(c=this.media)&&void 0!==c&&c.topic_id&&g.push({type:"topic",topic_id:this.media.topic_id}),null!==(u=this.media)&&void 0!==u&&u.category_id&&g.push({type:"category",category_id:this.media.category_id});let h=()=>{var P;let b=g.shift();b&&$.ajax({async:e,cache:!0,url:`${this.appsettings.apiurl}api/Media/Search`,method:"GET",contentType:"application/json",data:Object.assign({getby:null===(P=this.user)||void 0===P?void 0:P.userid,getfrom:1,v_mediatypes:[x.S.IMAGE,x.S.IMAGE_ANIMATION,x.S.PHET,x.S.HTML,x.S.SCORM].join(","),sortfield:this.paging.sortfield,sorttype:this.paging.sorttype,posstart:1,numofrow:18},b),dataType:"json",success:v=>{this.medias_related=this.medias_related.concat(v||[]),this.medias_related.length<18&&h()}})};h()}closeSearch(){this.filter={},this.medias.length=0}navigateByUrl(e){e&&this.router.navigateByUrl(e)}switchMedia(e){var a=this;return(0,C.A)(function*(){e&&a.router.navigate(["/",f._.VIEWER],{relativeTo:a.activatedRoute,queryParams:{m:e},queryParamsHandling:"merge",replaceUrl:!0})})()}downloadMedia(){var e=this;return(0,C.A)(function*(){var a,l,c;null!==(a=e.media)&&void 0!==a&&a.isdownload&&(["img","canvas"].includes(null!==(l=e.viewOptions.type)&&void 0!==l?l:"")&&e.viewOptions.file?N()(e.viewOptions.file,e.media.media_title+"."+e.viewOptions.file.name.split(".").pop(),e.viewOptions.file.type):null!==(c=e.media)&&void 0!==c&&c.filepath&&N()(`${e.appsettings.readfileuploadurl}${e.media.filepath}`))})()}AI_recommend(e){var a=this;return(0,C.A)(function*(){(0,M.QB)(a.modalController,e)})()}loadIframe(e){this.iframe=e.target}presentModalAiImage(e){var a=this;return(0,C.A)(function*(){const l=yield a.modalController.create({component:L.K,mode:"md",cssClass:"ion-modal-lg modal-vip",backdropDismiss:!1,keyboardClose:!1});l.onDidDismiss().then(c=>{"confirm"==c.role&&a.switchMedia(c.data)}),l.present()})()}presentModalMediaShare(e){var a=this;return(0,C.A)(function*(){var l;(yield a.modalController.create({component:S.U,componentProps:{media_id:null===(l=a.media)||void 0===l?void 0:l.media_id},mode:"md",cssClass:"ion-modal",backdropDismiss:!0,keyboardClose:!0})).present()})()}presentPopoverTopic(e){var a=this;return(0,C.A)(function*(){const l=yield a.popoverController.create({component:H.E,componentProps:{selectedId:a.filter.topic_id},event:e,dismissOnSelect:!1,animated:!1,side:"right"});l.onDidDismiss().then(c=>{var u,g,h,P,b,v,w;"confirm"==c.role&&(Object.assign(a.filter,{topic_id:null===(u=c.data)||void 0===u?void 0:u.topic_id,topic_title:null===(g=c.data)||void 0===g?void 0:g.topic_title,topic_titles:null===(h=c.data)||void 0===h?void 0:h.topic_titles}),null!==(P=c.data)&&void 0!==P&&P.category_id&&Object.assign(a.filter,{category_id:null===(b=c.data)||void 0===b?void 0:b.category_id,category_title:null===(v=c.data)||void 0===v?void 0:v.category_title,category_titles:null===(w=c.data)||void 0===w?void 0:w.category_titles}))}),l.present()})()}}return(t=d).\u0275fac=function(e){return new(e||t)(i.rXU(o.nX),i.rXU(li.hE),i.rXU(li.W8),i.rXU(o.Ix),i.rXU(s.K_),i.rXU(s.W3),i.rXU(s.IE),i.rXU(s.Xi))},t.\u0275cmp=i.VBU({type:t,selectors:[["app-media-viewer"]],viewQuery:function(e,a){if(1&e&&i.GBs(pi,5),2&e){let l;i.mGM(l=i.lsd())&&(a.canvas=l.first)}},decls:15,vars:5,consts:[["canvas",""],["slot","fixed",3,"ionRefresh"],[1,"container","pt-2","mt-4","mb-5","max-w-800"],[1,"mt-0","mb-3","fw-500","text-center"],[1,"d-flex","align-items-center","searchbox"],["name","search-outline",1,"fs-24","ml-3"],[1,"flex-grow-1"],["mode","ios","placeholder","Nh\u1eadp n\u1ed9i dung c\u1ea7n t\xecm","search-icon"," ",2,"padding","0",3,"ionChange","debounce","value"],[1,"container","mb-4","list-media"],[3,"ionInfinite",4,"ngIf"],["mode","ios","color","tabca-pro",1,"m-1","btn-ai-image",3,"title"],["mode","ios","color","tabca-pro",1,"m-1","btn-ai-image",3,"click","title"],["src","../../../assets/icon-svg/magic-ai-2.svg",1,"fs-24"],[1,"mb-2","fs-14"],[1,"d-flex","flex-wrap","p-2","m-0"],[1,"position-relative","d-block","p-0","m-2"],[3,"click","title"],[3,"src","alt","title"],[1,"text-center","text-ellipsis",3,"title"],[1,"position-absolute","top-2","left-2","media-type"],[1,"container"],[1,"row","align-items-stretch"],[1,"col-12","col-lg-8","mb-4","media-view"],[1,"position-relative","w-0","h-0"],[1,"position-absolute","top-0","left-0","right-0","bottom-0"],[1,"col-12","col-lg-4","mb-4","media-info"],[1,"d-flex"],["mode","ios","color","dark","fill","outline",1,"btn-share","ml-3",3,"title"],[1,"mt-4"],[1,"container","mb-4","media-introduce"],[1,"row"],[1,"col-12","col-lg-8"],[1,"d-flex","align-items-center","justify-content-between"],[1,"flex-grow-1","text-nowrap"],[1,"min-w-24"],["onerror","errorAvatar(this)",3,"src"],[1,"d-block","d-md-flex","flex-nowrap","align-items-center","text-ellipsis"],[1,"text-ellipsis","d-flex","align-items-center","ml-3",3,"title"],[1,"mt-2","mb-0","fw-400"],[1,"container","mb-4","media-tag"],[1,"container","mb-4","media-related"],["oncontextmenu","return false",1,"view-box","img-box"],[3,"src","alt",4,"ngIf"],[3,"src","alt"],["oncontextmenu","return false",1,"view-box","iframe-box"],["frameborder","0","allowfullscreen","","webkitallowfullscreen","","allowtransparency","true","allow","fullscreen","oncontextmenu","return false",3,"src","load",4,"ngIf"],["frameborder","0","allowfullscreen","","webkitallowfullscreen","","allowtransparency","true","allow","fullscreen","oncontextmenu","return false",3,"load","src"],[1,"d-flex","w-100","h-100","align-items-center","justify-content-center","line-height-0"],["color","tertiary","name","bubbles"],["mode","ios","color","linear","expand","block",1,"flex-grow-1","btn-download",3,"title"],["mode","ios","color","dark","fill","outline",1,"btn-share","ml-3",3,"click","title"],["name","share-social-outline"],["mode","ios","color","linear","expand","block",1,"flex-grow-1","btn-download",3,"click","title"],["slot","start","src","../../../assets/icon/viewer/download.svg"],["mode","ios","expand","block",1,"flex-grow-1","btn-download",3,"disabled"],["slot","start","name","download-outline"],["mode","ios","color","dark","fill","outline",1,"btn-share","ml-3",3,"title","disabled"],[1,"rounded","border","p-4"],[1,"d-flex","align-items-center"],["src","../../../assets/image/tabca-pro-2.svg",1,"fs-22","icon-tabca-pro"],[1,"fw-700","fs-16","ml-3"],[1,"my-3"],["mode","ios","color","linear","expand","block",3,"click","title"],["src","../../../assets/icon-svg/dashboard/topic.svg",1,"fs-20"],[1,"fs-12","text-ellipsis"],["src","../../../assets/icon-svg/dashboard/category.svg",1,"fs-20"],["src","../../../assets/icon-svg/dashboard/template.svg",1,"fs-20"],[1,"mt-0","mb-2"],[1,"d-flex","flex-wrap"],["mode","ios","size","small","color","dark","fill","outline",1,"mt-0","ml-0","mr-2","mb-2",3,"title"],["slot","start","src","../../../assets/icon/viewer/tag.svg",1,"fs-20"],[1,"fs-14"],["slot","start","src","../../../assets/icon/viewer/topic.svg",1,"fs-20"],["slot","start","src","../../../assets/icon/viewer/category.svg",1,"fs-20"],["slot","start","src","../../../assets/icon/viewer/directory.svg",1,"fs-20"],[1,"mr-2","mb-2","media-related-item"],[3,"href","title"],["lines","none","detail","false","button","true",3,"click","title"],[3,"ionInfinite"]],template:function(e,a){1&e&&(i.nrm(0,"app-header"),i.j41(1,"ion-content")(2,"ion-refresher",1),i.bIt("ionRefresh",function(c){return a.onIonRefresher(c)}),i.nrm(3,"ion-refresher-content"),i.k0s(),i.j41(4,"div",2)(5,"h4",3),i.EFF(6,"T\xe0i nguy\xean h\u1ecdc t\u1eadp trong t\u1ea7m tay"),i.k0s(),i.j41(7,"div",4),i.nrm(8,"ion-icon",5),i.j41(9,"div",6)(10,"ion-searchbar",7),i.bIt("ionChange",function(c){return a.searchChange(c)}),i.k0s()(),i.DNE(11,ui,2,1),i.k0s()(),i.DNE(12,hi,12,2,"div",8)(13,Ui,38,17)(14,Yi,2,0,"ion-infinite-scroll",9),i.k0s()),2&e&&(i.R7$(10),i.Y8G("debounce",1e3)("value",a.filter.search),i.R7$(),i.vxM(11,a.envUI_Config.is_ai_image?11:-1),i.R7$(),i.vxM(12,a.medias.length?12:a.media?13:-1),i.R7$(2),i.Y8G("ngIf",a.paging.active&&a.medias.length))},dependencies:[R.bT,s.mC,s.Jm,s.b_,s.I9,s.ZB,s.W9,s.iq,s.KW,s.Ax,s.Hp,s.uz,s.he,s.To,s.Ki,s.S1,s.w2,s.Zx,s.Gw,si.l,ci.m,mi.D9],styles:['.searchbox[_ngcontent-%COMP%]{overflow:hidden;border-radius:.75rem;border:1px solid #8F9BB3;background:#fff}.searchbox[_ngcontent-%COMP%]   ion-searchbar[_ngcontent-%COMP%]{width:100%;height:40px;--background: transparent;--box-shadow: none}.searchbox[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{height:2.5rem}.searchbox[_ngcontent-%COMP%]   ion-button.btn-ai-image[_ngcontent-%COMP%]{width:2.5rem;--padding-top: 0;--padding-bottom: 0;--padding-start: 0;--padding-end: 0}.searchbox[_ngcontent-%COMP%]   ion-button.btn-search[_ngcontent-%COMP%]{width:2.5rem;--padding-top: 0;--padding-bottom: 0;--padding-start: 0;--padding-end: 0}.media-view[_ngcontent-%COMP%]   .view-box[style][_ngcontent-%COMP%]:not([style=""]){border-radius:.75rem;background:var(--ion-background-color);box-shadow:4px 4px 12px #0101011a}.media-view[_ngcontent-%COMP%]   .view-box[style][_ngcontent-%COMP%]:not([style=""]):before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;z-index:1;opacity:.16;background-image:var(--bg-img);background-repeat:no-repeat;background-position:center center;background-size:cover}.media-view[_ngcontent-%COMP%]   .view-box[style][_ngcontent-%COMP%]:not([style=""]) > *[_ngcontent-%COMP%]{position:relative;z-index:2}.media-view[_ngcontent-%COMP%]   .img-box[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;line-height:0;overflow:hidden;border-radius:.75rem;box-shadow:0 0 0 1px #fff;display:flex;align-items:center;justify-content:center}.media-view[_ngcontent-%COMP%]   .img-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .media-view[_ngcontent-%COMP%]   .img-box[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{border-radius:.25rem;overflow:hidden;box-shadow:0 0 12px #0101011a}.media-view[_ngcontent-%COMP%]   .img-box[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;right:0;bottom:0;z-index:2147483647;background:transparent;-webkit-user-select:none;user-select:none}.media-view[_ngcontent-%COMP%]   .iframe-box[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;line-height:0;overflow:hidden;border-radius:.75rem;background:var(--ion-background-color);box-shadow:4px 4px 12px #01010133}.media-view[_ngcontent-%COMP%]   .iframe-box[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{display:block;width:100%;height:100%;padding:0;margin:0;border:0;outline:none;background-color:#fff}.media-info[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin:0}.media-info[_ngcontent-%COMP%]   ion-button[color=dark][_ngcontent-%COMP%]::part(native){border-color:var(--ion-color-medium-tint)}.media-info[_ngcontent-%COMP%]   .btn-download[_ngcontent-%COMP%]{min-width:3rem;height:3rem;--padding-top: 0;--padding-bottom: 0;--padding-start: 0;--padding-end: 0}.media-info[_ngcontent-%COMP%]   .btn-share[_ngcontent-%COMP%]{min-width:3rem;width:3rem;height:3rem;--padding-top: 0;--padding-bottom: 0;--padding-start: 0;--padding-end: 0}.media-introduce[_ngcontent-%COMP%]   ion-chip[_ngcontent-%COMP%]{margin:0;--background: transparent}.media-introduce[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin:0}.media-tag[_ngcontent-%COMP%]   ion-button[color=dark][_ngcontent-%COMP%]::part(native){border-color:var(--ion-color-medium-tint)}.media-related[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-top: 0;--padding-bottom: 0;--padding-start: 0;--padding-end: 0;--inner-padding-top: 0;--inner-padding-bottom: 0;--inner-padding-start: 0;--inner-padding-end: 0;--border-width: 1px;--border-color: var(--ion-color-medium-tint);--border-radius: .5rem}.media-related[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]{--size: 9rem;--border-radius: .375rem;margin:0}.media-related[_ngcontent-%COMP%]   .media-related-item[_ngcontent-%COMP%]{position:relative}.media-related[_ngcontent-%COMP%]   .media-related-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:absolute;top:0;left:0;display:inline-block;max-width:100%;line-height:20px;padding:0 5px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:14px;color:#fff}.list-media[_ngcontent-%COMP%]{min-height:200px}.list-media[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{width:156px;margin:0;box-shadow:none}.list-media[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:156px;height:156px;padding:5px;border-radius:6px;object-fit:contain;overflow:hidden;border:1px solid #E7F0EF;background:#fff;cursor:pointer;transition:padding .3s ease-in-out}.list-media[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-img.svgedit[_ngcontent-%COMP%]{padding:45px}.list-media[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{position:relative}.list-media[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-img.audio[_ngcontent-%COMP%]:after{content:"";display:block;position:absolute;width:42px;height:42px;top:50%;left:50%;transform:translate(-50%,-50%);background-image:url(video-2.54e0cad43aa51646.svg);background-repeat:no-repeat;background-position:center center;background-size:cover}.list-media[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-img.video[_ngcontent-%COMP%]:after{content:"";display:block;position:absolute;width:42px;height:42px;top:50%;left:50%;transform:translate(-50%,-50%);background-image:url(video-2.54e0cad43aa51646.svg);background-repeat:no-repeat;background-position:center center;background-size:cover}.list-media[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-img.animation[_ngcontent-%COMP%]:after{content:"";display:block;position:absolute;width:42px;height:42px;top:50%;left:50%;transform:translate(-50%,-50%);background-image:url(video-2.54e0cad43aa51646.svg);background-repeat:no-repeat;background-position:center center;background-size:cover}.list-media[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]:hover   ion-img[_ngcontent-%COMP%]{padding:0}.list-media[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:0;color:#333}.list-media[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:24px;line-height:24px}.list-media[_ngcontent-%COMP%]   .media-type[_ngcontent-%COMP%]{display:none;padding:2px 4px;border-radius:6px;background:#33333380;color:#fff;text-align:center;font-size:13px;font-style:normal;text-transform:uppercase;font-weight:700;line-height:22px}.list-media[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none}.list-media[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   .media-type[_ngcontent-%COMP%]{display:block}']}),d})()}];let Hi=(()=>{var t;class d{}return(t=d).\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.$C({type:t}),t.\u0275inj=i.G2t({imports:[o.iI.forChild(Si),o.iI]}),d})();var Ji=r(3890);let Wi=(()=>{var t;class d{}return(t=d).\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.$C({type:t}),t.\u0275inj=i.G2t({imports:[R.MD,D.YN,s.bv,Hi,Ji.x]}),d})()},3753:(Y,O,r)=>{r.d(O,{t:()=>Q});var R=r(467),D=r(8671),s=r(2635),o=r(4438),C=r(6637),L=r(177),S=r(31);function H(m,M){1&m&&(o.qex(0),o.j41(1,"ion-content")(2,"div",2)(3,"div",3),o.nrm(4,"ion-spinner",4),o.k0s()()(),o.bVm())}function E(m,M){if(1&m){const _=o.RV6();o.qex(0),o.j41(1,"ion-item",9),o.bIt("click",function(){const f=o.eBV(_).$implicit,k=o.XpG(3);return o.Njj(k.filterChange(f.lookup_value))}),o.j41(2,"ion-label"),o.EFF(3),o.k0s()(),o.bVm()}if(2&m){const _=M.$implicit,p=o.XpG(3);o.R7$(),o.BMQ("color",_.lookup_value==p.selectedId?"primary":""),o.R7$(2),o.JRh(_.lookup_title)}}function J(m,M){if(1&m&&(o.j41(0,"ion-list",7),o.DNE(1,E,4,2,"ng-container",8),o.k0s()),2&m){const _=o.XpG(2);o.R7$(),o.Y8G("ngForOf",_.lookups)}}function W(m,M){1&m&&(o.j41(0,"div",3)(1,"i"),o.EFF(2),o.nI1(3,"translate"),o.k0s()()),2&m&&(o.R7$(2),o.JRh(o.bMT(3,1,"DataNotFound")))}function z(m,M){if(1&m){const _=o.RV6();o.qex(0),o.j41(1,"ion-item",9),o.bIt("click",function(){const f=o.eBV(_).$implicit,k=o.XpG(3);return o.Njj(k.filterChange(f.lookup_value))}),o.j41(2,"ion-label",10),o.EFF(3),o.k0s()(),o.bVm()}if(2&m){const _=M.$implicit,p=o.XpG(3);o.R7$(),o.BMQ("color",_.lookup_value==p.selectedId?"primary":""),o.R7$(),o.Y8G("color",_.color),o.R7$(),o.JRh(_.lookup_title)}}function N(m,M){if(1&m&&(o.qex(0),o.nrm(1,"hr"),o.j41(2,"ion-list",7),o.DNE(3,z,4,3,"ng-container",8),o.k0s(),o.bVm()),2&m){const _=o.XpG(2);o.R7$(3),o.Y8G("ngForOf",_.lookups_d2)}}function K(m,M){if(1&m&&(o.qex(0),o.DNE(1,J,2,1,"ion-list",5)(2,W,4,3,"div",6)(3,N,4,1,"ng-container",1),o.bVm()),2&m){const _=o.XpG();o.R7$(),o.Y8G("ngIf",_.lookups.length),o.R7$(),o.Y8G("ngIf",!_.lookups.length),o.R7$(),o.Y8G("ngIf",_.lookups_d2.length)}}let Q=(()=>{var m;class M{constructor(p){this.popoverController=p,this.selectedId=0,this.lookup_key="",this.lookups_d2=[],this.dataInit={loading:!0},this.lookups=[]}ngOnInit(){var p=this;(0,R.A)(function*(){p.user=yield(0,s.Nk)(),p.loadLookup()})()}loadLookup(){var p;(0,D.$)({loading:f=>{this.dataInit.loading=f},params:{userid:null===(p=this.user)||void 0===p?void 0:p.userid,lookup_key:this.lookup_key},callback:f=>{this.lookups=f||[]}})}filterChange(p){var f;this.popoverController.dismiss(null!==(f=this.lookups.find(k=>k.lookup_value==p))&&void 0!==f?f:this.lookups_d2.find(k=>k.lookup_value==p),"confirm")}}return(m=M).\u0275fac=function(p){return new(p||m)(o.rXU(C.IE))},m.\u0275cmp=o.VBU({type:m,selectors:[["app-popover-lookup"]],inputs:{selectedId:"selectedId",lookup_key:"lookup_key",lookups_d2:"lookups_d2"},decls:3,vars:2,consts:[[1,"menu-lookup","overflow-auto"],[4,"ngIf"],[1,"d-flex","w-100","h-100","align-items-center","justify-content-center"],[1,"px-3","py-1"],["name","dots","color","dark",1,"align-middle"],["lines","full",4,"ngIf"],["class","px-3 py-1",4,"ngIf"],["lines","full"],[4,"ngFor","ngForOf"],["button","","detail","false",3,"click"],[3,"color"]],template:function(p,f){1&p&&(o.j41(0,"div",0),o.DNE(1,H,5,0,"ng-container",1)(2,K,4,3,"ng-container",1),o.k0s()),2&p&&(o.R7$(),o.Y8G("ngIf",f.dataInit.loading),o.R7$(),o.Y8G("ngIf",!f.dataInit.loading))},dependencies:[L.Sq,L.bT,C.W9,C.uz,C.he,C.nf,C.w2,S.D9],styles:[".menu-lookup[_ngcontent-%COMP%]{width:240px;max-height:480px;border-top:3px solid #5F6CE1}hr[_ngcontent-%COMP%]{margin:0}"]}),M})()},4668:(Y,O,r)=>{r.d(O,{z:()=>R});const R={ONLY_ME:10400,ONLY_MEMBER:10401,EVERYONE_HAS_LINK:10402}}}]);