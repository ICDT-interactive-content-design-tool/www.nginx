"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5623],{9316:(R,P,t)=>{t.d(P,{p:()=>u});const u=(0,t(5083).F3)("Device",{web:()=>t.e(8622).then(t.bind(t,8622)).then(m=>new m.DeviceWeb)})},9946:(R,P,t)=>{t.d(P,{LZ:()=>U,NS:()=>u,Wm:()=>b,_5:()=>m,bI:()=>r,il:()=>k,qi:()=>f,wQ:()=>o});var s=t(5972);function u(a){a.params=a.params||{},(0,s.hm)({url:"api/User/Detail",params:{userid:a.params.userid||null},success:n=>{"function"==typeof a.callback&&a.callback(n.data||null)},error:n=>{"function"==typeof a.callback&&a.callback(),console.error(n)},loading:a.loading,loadingController:a.loadingController})}function m(a){a.params=a.params||{},(0,s.Ll)({url:"api/User/SignIn",params:{emailaddr:a.params.emailaddr||null,pwd:a.params.pwd||null},success:n=>{"function"==typeof a.callback&&a.callback(n.data||null)},error:n=>{"function"==typeof a.callback&&a.callback(),console.error(a,n)},loading:a.loading,loadingController:a.loadingController})}function f(a){a.params=a.params||{},(0,s.Ll)({url:"api/User/SignUp",params:{firstname:a.params.firstname||null,lastname:a.params.lastname||null,emailaddr:a.params.emailaddr||null,pwd:a.params.pwd||null},success:n=>{"function"==typeof a.callback&&a.callback(n.data||null)},error:n=>{"function"==typeof a.callback&&a.callback(),console.error(a,n)},loading:a.loading,loadingController:a.loadingController})}function o(a){a.params=a.params||{},(0,s.Ll)({url:"api/User/Active",params:{emailaddr:a.params.emailaddr||null,activationcode:a.params.activationcode||null},success:n=>{"function"==typeof a.callback&&a.callback(n.data||null)},error:n=>{"function"==typeof a.callback&&a.callback(),console.error(a,n)},loading:a.loading,loadingController:a.loadingController})}function r(a){a.params=a.params||{},(0,s.Ll)({url:"api/User/ChangePassword",params:{emailaddr:a.params.emailaddr||null,pwd:a.params.pwd||null,forgotpwdcode:a.params.forgotpwdcode||null,newpwd:a.params.newpwd||null},success:n=>{"function"==typeof a.callback&&a.callback(n.data||null)},error:n=>{"function"==typeof a.callback&&a.callback(),console.error(a,n)},loading:a.loading,loadingController:a.loadingController})}function b(a){a.params=a.params||{},(0,s.Ll)({url:"api/User/UpdateInfo",params:{userid:a.params.userid||null,firstname:a.params.firstname||null,lastname:a.params.lastname||null,emailaddr:a.params.emailaddr||null,mobilecountrycode:a.params.mobilecountrycode||null,mobile:a.params.mobile||null,introduce:a.params.introduce||null},success:n=>{"function"==typeof a.callback&&a.callback(n.data||null)},error:n=>{"function"==typeof a.callback&&a.callback(),console.error(a,n)},loading:a.loading,loadingController:a.loadingController})}function k(a){a.params=a.params||{},(0,s.Ll)({url:"api/users/forgotpassword",params:{emailaddr:a.params.emailaddr||null},success:n=>{if("function"==typeof a.callback){var e=n.data||{};e.returncode=null!=e.returncode?e.returncode:e.ReturnCode,e.returnmsg=null!=e.returnmsg?e.returnmsg:e.ReturnMsg,e.id=null!=e.id?e.id:e.AccountID,a.callback(e)}},error:n=>{"function"==typeof a.callback&&a.callback(),console.error(a,n)},loading:a.loading,loadingController:a.loadingController})}function U(a){a.params=a.params||{},(0,s.Ll)({url:"api/User/UpdatePhoto",params:{userid:a.params.userid||null,profilephoto:a.params.avatar||null},success:n=>{"function"==typeof a.callback&&a.callback(n.data||null)},error:n=>{"function"==typeof a.callback&&a.callback(),console.error(a,n)},loading:a.loading,loadingController:a.loadingController})}},2635:(R,P,t)=>{t.d(P,{N$:()=>k,Nk:()=>o,kD:()=>b,xy:()=>r});var s=t(467),u=t(369),m=t(5972);const f=new u.w({name:"_userDB",driverOrder:[u.C.IndexedDB,u.C.LocalStorage]}),o=function(){var a=(0,s.A)(function*(n){yield f.create();try{var e=(yield f.get("user-local"))||{};return"function"==typeof(null==n?void 0:n.callback)&&n.callback(Object.assign({},e||{})),e}catch(_){"function"==typeof(null==n?void 0:n.callback)&&n.callback(),console.error(_)}return{}});return function(e){return a.apply(this,arguments)}}(),r=function(){var a=(0,s.A)(function*(n){yield f.create(),n.params=n.params||{};try{var e=Object.assign({},n.params);yield f.set("user-local",e),"function"==typeof n.callback&&n.callback(Object.assign({},e||{}))}catch(_){"function"==typeof n.callback&&n.callback(),console.error(_)}});return function(e){return a.apply(this,arguments)}}(),b=function(){var a=(0,s.A)(function*(n){return n&&(n.params={}),r(null!=n?n:{})});return function(e){return a.apply(this,arguments)}}(),k=function(){var a=(0,s.A)(function*(n,e){let _=yield(0,m.AC)();if(e){let M=[];n.params.profilephoto&&M.push(new Promise((v,y)=>{let p=new Image;p.onload=()=>{n.params.url_profilephoto=p.src,v(1)},p.onerror=()=>{n.params.url_profilephoto="assets/image/user-avatar-default.png",v(0)},p.src=_.readfileuploadurl+n.params.profilephoto})),n.params.banner&&M.push(new Promise((v,y)=>{let p=new Image;p.onload=()=>{n.params.url_banner=p.src,v(1)},p.onerror=()=>{n.params.url_banner="assets/image/user-banner-default.png",v(0)},p.src=_.readfileuploadurl+n.params.banner})),M.length>0?Promise.all(M).then(()=>{r(n)}):r(n)}else o({callback:M=>{if(M){let v=[];n.params.profilephoto&&v.push(new Promise((y,p)=>{let C=new Image;C.onload=()=>{n.params.url_profilephoto=C.src,y(1)},C.onerror=()=>{n.params.url_profilephoto="assets/image/user-avatar-default.png",y(0)},C.src=_.readfileuploadurl+n.params.profilephoto})),n.params.banner&&v.push(new Promise((y,p)=>{let C=new Image;C.onload=()=>{n.params.url_banner=C.src,y(1)},C.onerror=()=>{n.params.url_banner="assets/image/user-banner-default.png",y(0)},C.src=_.readfileuploadurl+n.params.banner})),v.length>0?Promise.all(v).then(()=>{r({params:Object.assign({},M,n.params),callback:n.callback})}):r({params:Object.assign({},M,n.params),callback:n.callback})}else"function"==typeof n.callback&&n.callback()}})});return function(e,_){return a.apply(this,arguments)}}()},5623:(R,P,t)=>{t.r(P),t.d(P,{UserActivePageModule:()=>E});var s=t(177),u=t(9417),m=t(6637),f=t(3658),o=t(467),r=t(9316),b=t(5972),k=t(9946),U=t(2635),O=t(8833),a=t(5414),n=t(5312),e=t(4438),_=t(345),M=t(31);const v=()=>({standalone:!0});function y(l,g){if(1&l){const i=e.RV6();e.qex(0),e.j41(1,"h4"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"p",8)(5,"span"),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.nrm(8,"br"),e.j41(9,"span"),e.EFF(10),e.nI1(11,"translate"),e.j41(12,"a")(13,"b"),e.EFF(14),e.k0s()(),e.j41(15,"span",9),e.EFF(16),e.nI1(17,"translate"),e.k0s()(),e.nrm(18,"br"),e.j41(19,"span"),e.EFF(20),e.nI1(21,"translate"),e.k0s()(),e.j41(22,"p",10)(23,"button",11),e.bIt("click",function(){e.eBV(i);const d=e.XpG();return e.Njj(d.goToSignIn())}),e.EFF(24),e.nI1(25,"translate"),e.k0s()(),e.bVm()}if(2&l){const i=e.XpG();e.R7$(2),e.JRh(e.bMT(3,7,"AccountActivationSuccessful")),e.R7$(4),e.SpI("",e.bMT(7,9,"WelcomeTo")," Tabca,"),e.R7$(4),e.SpI("",e.bMT(11,11,"Account")," "),e.R7$(4),e.JRh(i.dataForm.emailaddr),e.R7$(2),e.JRh(e.bMT(17,13,"AlreadyActivated")),e.R7$(4),e.JRh(e.bMT(21,15,"LogInNowToExperienceTheProduct")),e.R7$(4),e.JRh(e.bMT(25,17,"LogIn"))}}function p(l,g){if(1&l&&(e.j41(0,"option",21),e.EFF(1),e.k0s()),2&l){const i=g.$implicit;e.Y8G("value",i.madonvi),e.R7$(),e.JRh(i.tendv)}}function C(l,g){if(1&l){const i=e.RV6();e.j41(0,"div",14)(1,"label"),e.EFF(2),e.nI1(3,"translate"),e.j41(4,"span"),e.EFF(5,"*"),e.k0s()(),e.j41(6,"select",19),e.bIt("ngModelChange",function(d){e.eBV(i);const h=e.XpG(2);return e.Njj(h.changeDonVi(d))}),e.DNE(7,p,2,2,"option",20),e.k0s()()}if(2&l){const i=e.XpG(2);e.R7$(2),e.SpI("",e.bMT(3,4,"Unit")," "),e.R7$(4),e.Y8G("ngModel",i.dataForm.madonvi)("ngModelOptions",e.lJ4(6,v)),e.R7$(),e.Y8G("ngForOf",i.configs)}}function A(l,g){if(1&l&&(e.j41(0,"p",22)(1,"span"),e.EFF(2),e.k0s()()),2&l){const i=e.XpG(2);e.R7$(2),e.JRh(i.dataRes.returnmsg)}}function F(l,g){if(1&l){const i=e.RV6();e.qex(0),e.j41(1,"h1"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"form",12),e.bIt("submit",function(d){e.eBV(i);const h=e.XpG();return e.Njj(h.formSubmit(d))}),e.DNE(5,C,8,7,"div",13),e.j41(6,"div",14)(7,"label"),e.EFF(8),e.nI1(9,"translate"),e.j41(10,"span"),e.EFF(11,"*"),e.k0s()(),e.nrm(12,"input",15),e.k0s(),e.j41(13,"div",16)(14,"button",17),e.EFF(15),e.nI1(16,"translate"),e.k0s()()(),e.DNE(17,A,3,1,"p",18),e.bVm()}if(2&l){const i=e.XpG();e.R7$(2),e.JRh(e.bMT(3,6,"ActiveAccount")),e.R7$(3),e.Y8G("ngIf",i.configs.length>1),e.R7$(3),e.SpI("",e.bMT(9,8,"Email")," "),e.R7$(4),e.Y8G("ngModel",i.dataForm.emailaddr),e.R7$(3),e.JRh(e.bMT(16,10,"Confirm")),e.R7$(2),e.Y8G("ngIf",i.dataRes)}}const I=[{path:"",component:(()=>{var l;class g{constructor(c,d,h,x){this.router=c,this.activatedRoute=d,this.titleService=h,this.toastController=x,this.appsettings={},this.configs=[],this.dataForm={},h.setTitle("K\xedch ho\u1ea1t t\xe0i kho\u1ea3n")}ngOnInit(){var c=this;if(this.dataForm.emailaddr=this.activatedRoute.snapshot.queryParamMap.get("email")||"",this.dataForm.activationcode=this.activatedRoute.snapshot.queryParamMap.get("code")||"",!this.dataForm.emailaddr||!this.dataForm.activationcode)return this.backToHome();(0,o.A)(function*(){(0,U.kD)({}),yield(0,b.jQ)(),c.appsettings=yield(0,b.AC)(),c.dataForm.madonvi=c.appsettings.madonvi;let d=yield r.p.getId();c.dataForm.devicekey=null==d?void 0:d.identifier,c.configs=(yield(0,b.zu)())||[],c.configs&&c.configs.length?1==c.configs.length&&(c.dataForm.madonvi=c.configs[0].madonvi):c.dataForm.madonvi=n.c.default_donvi,c.dataForm.madonvi&&c.formSubmit()})()}backToHome(){window.location.replace(O._.LANDING_PAGE)}goToSignIn(){window.location.replace(O._.LANDING_PAGE+"?require=signin")}changeDonVi(c){var d=this;return(0,o.A)(function*(){d.dataForm.madonvi=c})()}formSubmit(c){var d=this;return(0,o.A)(function*(){null==c||c.preventDefault(),d.dataForm.emailaddr&&d.dataForm.activationcode&&(yield(0,b.MS)(d.dataForm.madonvi),(0,k.wQ)({params:d.dataForm,callback:h=>{(0,a.c)(d.toastController,{},h).then(x=>{x.onDidDismiss().then(w=>{0==(null==h?void 0:h.returncode)&&window.location.replace(O._.LANDING_PAGE+"?require=signin")}),x.present()})}}))})()}}return(l=g).\u0275fac=function(c){return new(c||l)(e.rXU(f.Ix),e.rXU(f.nX),e.rXU(_.hE),e.rXU(m.K_))},l.\u0275cmp=e.VBU({type:l,selectors:[["app-user-active"]],decls:9,vars:2,consts:[["scroll-x","false","scroll-y","false"],["slot","fixed","vertical","top","horizontal","start"],["size","small",3,"click"],["name","arrow-back-outline"],[1,"container-main","overflow-auto","d-flex","w-100","h-100","align-items-center","justify-content-center"],[1,"container-form"],["src","../../../assets/image/logo.svg","alt","Tabca"],[4,"ngIf"],[1,"text-left"],[1,"text-lowercase"],[1,"mt-4","mb-3"],["type","button",1,"btn","btn-sign-in",3,"click"],[3,"submit"],["class","form-group",4,"ngIf"],[1,"form-group"],["type","email","name","emailaddr","minlength","{6}","maxlength","{32}","required","","autofocus","","placeholder","your-email@email.com","readonly","",1,"form-control",3,"ngModel"],[1,"form-group","mt-5"],["type","submit",1,"btn"],["class","text-danger",4,"ngIf"],["interface","popover","justify","end",1,"custom-select",3,"ngModelChange","ngModel","ngModelOptions"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"text-danger"]],template:function(c,d){1&c&&(e.j41(0,"ion-content",0)(1,"ion-fab",1)(2,"ion-fab-button",2),e.bIt("click",function(){return d.backToHome()}),e.nrm(3,"ion-icon",3),e.k0s()(),e.j41(4,"div",4)(5,"div",5),e.nrm(6,"img",6),e.DNE(7,y,26,19,"ng-container",7)(8,F,18,12,"ng-container",7),e.k0s()()()),2&c&&(e.R7$(7),e.Y8G("ngIf",0==(null==d.dataRes?null:d.dataRes.returncode)),e.R7$(),e.Y8G("ngIf",0!=(null==d.dataRes?null:d.dataRes.returncode)))},dependencies:[s.Sq,s.bT,u.qT,u.xH,u.y7,u.me,u.wz,u.BC,u.cb,u.YS,u.xh,u.tU,u.vS,u.cV,m.W9,m.Q8,m.YW,m.iq,M.D9],styles:[".container-main[_ngcontent-%COMP%]{padding:.5rem;background-image:url(bg-join-and-share.d53a3207da518edb.png);background-repeat:no-repeat;background-size:cover;background-position:center center}.container-form[_ngcontent-%COMP%]{width:420px;padding:2rem 2rem 1rem;margin:auto;border-radius:10px;background:#fff;box-shadow:0 0 20px #00000026}.container-form[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:60px}.container-form[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{margin:1rem 0 2rem;font-size:32px;font-weight:700;line-height:40px}.container-form[_ngcontent-%COMP%] > h4[_ngcontent-%COMP%]{margin:1rem 0 .5rem;font-size:20px;font-weight:500;line-height:26px}.container-form[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]{color:#1f1f39;font-size:14px}.container-form[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{text-align:center}.container-form[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#858597}.container-form[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3243c7;cursor:pointer}.container-form[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]   button.btn-sign-in[_ngcontent-%COMP%]{width:100%;height:50px;border-radius:12px;color:#fff;background:#3243c7;background:linear-gradient(90deg,#6d42e7 4.11%,#ea5fc1);border:0;outline:none;box-shadow:none}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{margin-bottom:5px;color:#333}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#ff3131}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%] > select[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:100%;height:50px;border-radius:12px;border:.5px solid #B8B8D2;background-color:#e8f0fe;outline:none;box-shadow:none}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:100%;height:50px;border-radius:12px;color:#fff;background:#3243c7;background:linear-gradient(90deg,#6d42e7 4.11%,#ea5fc1);border:0;outline:none;box-shadow:none}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .custom-control[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{vertical-align:sub}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3243c7;cursor:pointer}form[_ngcontent-%COMP%]   .for-got-pwd[_ngcontent-%COMP%]{margin-top:-.5rem;text-align:right}"]}),g})()}];let T=(()=>{var l;class g{}return(l=g).\u0275fac=function(c){return new(c||l)},l.\u0275mod=e.$C({type:l}),l.\u0275inj=e.G2t({imports:[f.iI.forChild(I),f.iI]}),g})();var j=t(3890);let E=(()=>{var l;class g{}return(l=g).\u0275fac=function(c){return new(c||l)},l.\u0275mod=e.$C({type:l}),l.\u0275inj=e.G2t({imports:[s.MD,u.YN,m.bv,T,j.x]}),g})()},5414:(R,P,t)=>{t.d(P,{c:()=>u});var s=t(467);const u=function(){var m=(0,s.A)(function*(f,o,r){var b,k,U;r&&(o.message||(o.message=null!==(U=null==r?void 0:r.returnmsg)&&void 0!==U?U:0==(null==r?void 0:r.returncode)?"Th\xe0nh c\xf4ng!":null!=r&&r.returncode?`L\u1ed7i: #${null==r?void 0:r.returncode}`:"H\u1ec7 th\u1ed1ng kh\xf4ng c\xf3 ph\u1ea3n h\u1ed3i!"),o.icon||(o.icon=0==(null==r?void 0:r.returncode)?"checkmark-circle-sharp":null!=r&&r.returncode?"alert-circle-outline":"close-circle-sharp"),o.color||(o.color=0==(null==r?void 0:r.returncode)?"success":null!=r&&r.returncode?"warning":"danger"));return o.position||(o.position="bottom"),o.icon||(o.icon="bulb-outline"),o.color||(o.color="secondary"),o.duration=null!==(b=o.duration)&&void 0!==b?b:3e3,o.animated=null===(k=o.animated)||void 0===k||k,o.buttons=[{icon:"close-outline",side:"end",role:"cancel"}],yield f.create(o)});return function(o,r,b){return m.apply(this,arguments)}}()}}]);