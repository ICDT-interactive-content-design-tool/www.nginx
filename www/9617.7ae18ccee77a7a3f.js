"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9617],{9316:(x,w,r)=>{r.d(w,{p:()=>s});const s=(0,r(5083).F3)("Device",{web:()=>r.e(8622).then(r.bind(r,8622)).then(v=>new v.DeviceWeb)})},1850:(x,w,r)=>{r.d(w,{qG:()=>n});const n=(0,r(5083).F3)("NativeBiometric",{web:()=>r.e(2587).then(r.bind(r,2587)).then(l=>new l.NativeBiometricWeb)})},9946:(x,w,r)=>{r.d(w,{LZ:()=>d,NS:()=>s,Wm:()=>R,_5:()=>v,bI:()=>N,il:()=>F,qi:()=>n,wQ:()=>l});var f=r(5972);function s(e){e.params=e.params||{},(0,f.hm)({url:"api/User/Detail",params:{userid:e.params.userid||null},success:t=>{"function"==typeof e.callback&&e.callback(t.data||null)},error:t=>{"function"==typeof e.callback&&e.callback(),console.error(t)},loading:e.loading,loadingController:e.loadingController})}function v(e){e.params=e.params||{},(0,f.Ll)({url:"api/User/SignIn",params:{emailaddr:e.params.emailaddr||null,pwd:e.params.pwd||null},success:t=>{"function"==typeof e.callback&&e.callback(t.data||null)},error:t=>{"function"==typeof e.callback&&e.callback(),console.error(e,t)},loading:e.loading,loadingController:e.loadingController})}function n(e){e.params=e.params||{},(0,f.Ll)({url:"api/User/SignUp",params:{firstname:e.params.firstname||null,lastname:e.params.lastname||null,emailaddr:e.params.emailaddr||null,pwd:e.params.pwd||null},success:t=>{"function"==typeof e.callback&&e.callback(t.data||null)},error:t=>{"function"==typeof e.callback&&e.callback(),console.error(e,t)},loading:e.loading,loadingController:e.loadingController})}function l(e){e.params=e.params||{},(0,f.Ll)({url:"api/User/Active",params:{emailaddr:e.params.emailaddr||null,activationcode:e.params.activationcode||null},success:t=>{"function"==typeof e.callback&&e.callback(t.data||null)},error:t=>{"function"==typeof e.callback&&e.callback(),console.error(e,t)},loading:e.loading,loadingController:e.loadingController})}function N(e){e.params=e.params||{},(0,f.Ll)({url:"api/User/ChangePassword",params:{emailaddr:e.params.emailaddr||null,pwd:e.params.pwd||null,forgotpwdcode:e.params.forgotpwdcode||null,newpwd:e.params.newpwd||null},success:t=>{"function"==typeof e.callback&&e.callback(t.data||null)},error:t=>{"function"==typeof e.callback&&e.callback(),console.error(e,t)},loading:e.loading,loadingController:e.loadingController})}function R(e){e.params=e.params||{},(0,f.Ll)({url:"api/User/UpdateInfo",params:{userid:e.params.userid||null,firstname:e.params.firstname||null,lastname:e.params.lastname||null,emailaddr:e.params.emailaddr||null,mobilecountrycode:e.params.mobilecountrycode||null,mobile:e.params.mobile||null,introduce:e.params.introduce||null},success:t=>{"function"==typeof e.callback&&e.callback(t.data||null)},error:t=>{"function"==typeof e.callback&&e.callback(),console.error(e,t)},loading:e.loading,loadingController:e.loadingController})}function F(e){e.params=e.params||{},(0,f.Ll)({url:"api/users/forgotpassword",params:{emailaddr:e.params.emailaddr||null},success:t=>{if("function"==typeof e.callback){var h=t.data||{};h.returncode=null!=h.returncode?h.returncode:h.ReturnCode,h.returnmsg=null!=h.returnmsg?h.returnmsg:h.ReturnMsg,h.id=null!=h.id?h.id:h.AccountID,e.callback(h)}},error:t=>{"function"==typeof e.callback&&e.callback(),console.error(e,t)},loading:e.loading,loadingController:e.loadingController})}function d(e){e.params=e.params||{},(0,f.Ll)({url:"api/User/UpdatePhoto",params:{userid:e.params.userid||null,profilephoto:e.params.avatar||null},success:t=>{"function"==typeof e.callback&&e.callback(t.data||null)},error:t=>{"function"==typeof e.callback&&e.callback(),console.error(e,t)},loading:e.loading,loadingController:e.loadingController})}},9617:(x,w,r)=>{r.d(w,{F:()=>K});var f=r(467),s=r(5972),v=r(2635),n=r(8833),l=r(6191),N=r(6571),R=r(7868),F=r(1850),d=r(4393),y=r(9316),e=r(4438),t=r(6637),h=r(177),U=r(31);function p(k,j){if(1&k){const D=e.RV6();e.j41(0,"ion-item",8)(1,"ion-label"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"ion-toggle",11),e.bIt("click",function(i){e.eBV(D);const C=e.XpG();return e.Njj(C.clickBiometric(i))}),e.k0s()()}if(2&k){const D=e.XpG();e.R7$(2),e.JRh(e.bMT(3,2,"Biometrics")),e.R7$(2),e.Y8G("checked",D.dataSetting.Biometric)}}let c=(()=>{var k;class j{constructor(M,i){this.platform=M,this.modalController=i,this.isfullscreen=!1,this.dataSetting={};var C=this.platform.platforms();C.includes("mobile")&&!C.includes("mobileweb")&&F.qG.isAvailable({useFallback:!0}).then(E=>{console.log("NativeBiometric.isAvailable",E),this.biometricAvailable=!!E.isAvailable})}ngOnInit(){this.isfullscreen=window.document.body.classList.contains("modal-fullscreen"),(0,d.FC)({callback:M=>{M&&(this.dataSetting=M)}})}toggleFullScreen(){this.isfullscreen?window.document.body.classList.remove("modal-fullscreen"):window.document.body.classList.add("modal-fullscreen"),this.isfullscreen=window.document.body.classList.contains("modal-fullscreen")}close(){return this.modalController.dismiss(null,"cancel")}changeNotify(M){return(0,f.A)(function*(){(0,d.T9)({params:{Notify:M.detail.checked}})})()}clickBiometric(M){var i=this;return(0,f.A)(function*(){i.dataSetting.Biometric?F.qG.verifyIdentity({subtitle:"T\u1eaft b\u1ea3o v\u1ec7 \u1ee9ng d\u1ee5ng v\u1edbi sinh tr\u1eafc h\u1ecdc",useFallback:!0,maxAttempts:5}).then(function(){var E=(0,f.A)(function*(L){console.info("NativeBiometric.verifyIdentity",L),F.qG.deleteCredentials({server:"www.tabca.vn"}).then(()=>{(0,d.T9)({params:{Biometric:!1}}),i.dataSetting.Biometric=!1}).catch(A=>{throw A})});return function(L){return E.apply(this,arguments)}}()).catch(E=>{i.dataSetting.Biometric=!0,console.log("NativeBiometric.verifyIdentity",E)}):F.qG.verifyIdentity({subtitle:"K\xedch ho\u1ea1t b\u1ea3o v\u1ec7 \u1ee9ng d\u1ee5ng v\u1edbi sinh tr\u1eafc h\u1ecdc",useFallback:!0,maxAttempts:5}).then(function(){var E=(0,f.A)(function*(L){var A;console.info("NativeBiometric.verifyIdentity",L),F.qG.setCredentials({server:"www.tabca.vn",username:"tabca",password:null===(A=yield y.p.getId())||void 0===A?void 0:A.identifier}).then(()=>{(0,d.T9)({params:{Biometric:!0}}),i.dataSetting.Biometric=!0}).catch(G=>{throw G})});return function(L){return E.apply(this,arguments)}}()).catch(E=>{i.dataSetting.Biometric=!1,console.log("NativeBiometric.verifyIdentity",E)})})()}}return(k=j).\u0275fac=function(M){return new(M||k)(e.rXU(t.OD),e.rXU(t.W3))},k.\u0275cmp=e.VBU({type:k,selectors:[["app-modal-setting"]],decls:19,vars:9,consts:[["slot","end"],["color","dark",1,"d-none","d-md-block",3,"click"],[3,"src"],["color","dark",3,"click"],["src","../../../assets/icon/16x16/close.svg"],[1,"ion-no-padding"],[1,"py-3"],["mode","ios","lines","none"],["color","light","mode","md"],[3,"ionChange","checked"],["color","light","mode","md",4,"ngIf"],[3,"click","checked"]],template:function(M,i){1&M&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",1),e.bIt("click",function(){return i.toggleFullScreen()}),e.nrm(4,"ion-icon",2),e.k0s(),e.j41(5,"ion-button",3),e.bIt("click",function(){return i.close()}),e.nrm(6,"ion-icon",4),e.k0s()(),e.j41(7,"ion-title"),e.EFF(8),e.nI1(9,"translate"),e.k0s()()(),e.j41(10,"ion-content",5)(11,"div",6)(12,"ion-list",7)(13,"ion-item",8)(14,"ion-label"),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"ion-toggle",9),e.bIt("ionChange",function(E){return i.changeNotify(E)}),e.k0s()(),e.DNE(18,p,5,4,"ion-item",10),e.k0s()()()),2&M&&(e.R7$(4),e.Y8G("src",i.isfullscreen?"assets/icon/16x16/fullscreen-exit.svg":"assets/icon/16x16/fullscreen.svg"),e.R7$(4),e.JRh(e.bMT(9,5,"Setting")),e.R7$(7),e.JRh(e.bMT(16,7,"Notify")),e.R7$(2),e.Y8G("checked",i.dataSetting.Notify),e.R7$(),e.Y8G("ngIf",i.biometricAvailable))},dependencies:[h.bT,t.Jm,t.QW,t.W9,t.eU,t.iq,t.uz,t.he,t.nf,t.BC,t.BY,t.ai,t.hB,U.D9]}),j})();var b=r(6757),O=r(6171),S=r(1038),J=r(9946),B=r(5414),W=r(5312),Y=r(8420);function X(k,j){if(1&k&&(e.j41(0,"ion-item",17)(1,"ion-label"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&k){const D=e.XpG();e.Y8G("href",D.APP_ROUTE.PRICING),e.R7$(2),e.JRh(e.bMT(3,2,"AccountUpgrade"))}}let K=(()=>{var k;class j{constructor(M,i,C){this.modalController=M,this.toastController=i,this.loadingController=C,this.APP_ROUTE=n._,this.envUI_Config=W.c.ui_config,this.response={}}ngOnInit(){var M=this;(0,f.A)(function*(){var i;M.user=yield(0,v.Nk)(),(0,R.N4)({loading:C=>M.response.loading=C,params:{userid:null===(i=M.user)||void 0===i?void 0:i.userid},callback:C=>{M.response.productpackageapplied=C}})})()}close(){this.modalController.dismiss()}signOut(){return(0,f.A)(function*(){yield(0,s.jQ)(),yield(0,d.SD)(),(0,v.xy)({callback:()=>{window.location.replace(n._.LANDING_PAGE)}})})()}changeAvatar(M){var i=this;return(0,f.A)(function*(){(0,b.$)({modalController:i.modalController,toastController:i.toastController},function(){var C=(0,f.A)(function*(E){if(E.length){let L=yield i.modalController.create({component:O.A,componentProps:{file:E[0]},backdropDismiss:!0,keyboardClose:!0});L.onDidDismiss().then(A=>{"submit"==A.role&&A.data&&(0,S.v)({loadingController:i.loadingController,params:{file:A.data,subFolder:"avatar",fileType:"image"},callback:a=>{var o;0==(null==a?void 0:a.ReturnCode)?(0,J.LZ)({loadingController:i.loadingController,params:{userid:null===(o=i.user)||void 0===o?void 0:o.userid,avatar:`${a.path}/${a.file.name}`},callback:m=>{0==(null==m?void 0:m.returncode)?i.user&&(i.user.profilephoto=`${a.path}/${a.file.name}`,(0,v.N$)({params:i.user,callback:u=>{i.user=u}})):(0,B.c)(i.toastController,{},m).then(u=>u.present())}}):(0,B.c)(i.toastController,{},{returncode:null==a?void 0:a.ReturnCode,returnmsg:null==a?void 0:a.ReturnName}).then(m=>{m.present()})}})}),L.present()}});return function(E){return C.apply(this,arguments)}}())})()}presentModalUserChangeInfo(M){var i=this;return(0,f.A)(function*(){const C=yield i.modalController.create({component:l.q,componentProps:{user:i.user},mode:"md",cssClass:"ion-modal ion-modal-change-info",backdropDismiss:!0,keyboardClose:!0});C.onDidDismiss().then(function(){var E=(0,f.A)(function*(L){"confirm"==L.role&&(0,v.N$)({params:L.data,callback:A=>{i.user=A}})});return function(L){return E.apply(this,arguments)}}()),C.present()})()}presentModalUserChangePwd(M){var i=this;return(0,f.A)(function*(){(yield i.modalController.create({component:N.x,componentProps:{user:i.user},mode:"md",cssClass:"ion-modal ion-modal-change-pwd",backdropDismiss:!0,keyboardClose:!0})).present()})()}presentModalSetting(M){var i=this;return(0,f.A)(function*(){(yield i.modalController.create({component:c,mode:"md",cssClass:"ion-modal",backdropDismiss:!0,keyboardClose:!0})).present()})()}}return(k=j).\u0275fac=function(M){return new(M||k)(e.rXU(t.W3),e.rXU(t.K_),e.rXU(t.Xi))},k.\u0275cmp=e.VBU({type:k,selectors:[["app-modal-menu-user"]],decls:121,vars:78,consts:[["slot","end"],["color","dark",3,"click"],["src","../../../assets/icon/16x16/close.svg"],[1,"ion-no-padding"],[1,"h-100","d-flex","flex-column"],[1,"flex-grow-1"],[1,"cursor-pointer",3,"click"],["onerror","errorAvatar(this)",3,"src"],[1,"user-name","text-ellipsis","my-3"],[1,"text-center","mt-0","mb-1"],[1,"text-center","text-muted"],["mode","ios"],["button","","detail","true","detail-icon","chevron-forward-outline",3,"href"],["button","","detail","true","detail-icon","chevron-forward-outline",3,"click"],["button","","detail","true","detail-icon","log-out-outline",3,"click"],["color","danger"],["button","","detail","false","detail-icon","chevron-forward-outline",3,"href"],["button","","detail","true","detail-icon","arrow-up-circle-outline",3,"href"],["button","","detail","false"],["button","","detail","true","detail-icon","download-outline",3,"href"],[1,"copyright"],["href","https://lacviet.vn","target","_blank"]],template:function(M,i){if(1&M&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",1),e.bIt("click",function(){return i.close()}),e.nrm(4,"ion-icon",2),e.k0s()()()(),e.j41(5,"ion-content",3)(6,"div",4)(7,"div",5)(8,"ion-thumbnail",6),e.bIt("click",function(E){return i.changeAvatar(E)}),e.nrm(9,"img",7),e.k0s(),e.j41(10,"div",8)(11,"h5",9)(12,"b"),e.EFF(13),e.k0s()(),e.j41(14,"div",10),e.EFF(15),e.k0s()(),e.j41(16,"ion-list",11)(17,"ion-list-header")(18,"ion-label")(19,"b"),e.EFF(20),e.nI1(21,"translate"),e.k0s()()(),e.j41(22,"ion-item",12)(23,"ion-label"),e.EFF(24),e.nI1(25,"translate"),e.k0s()(),e.j41(26,"ion-item",13),e.bIt("click",function(E){return i.presentModalUserChangeInfo(E)}),e.j41(27,"ion-label"),e.EFF(28),e.nI1(29,"translate"),e.k0s()(),e.j41(30,"ion-item",13),e.bIt("click",function(E){return i.presentModalUserChangePwd(E)}),e.j41(31,"ion-label"),e.EFF(32),e.nI1(33,"translate"),e.k0s()(),e.j41(34,"ion-item",14),e.bIt("click",function(){return i.signOut()}),e.j41(35,"ion-label",15),e.EFF(36),e.nI1(37,"translate"),e.k0s()()(),e.j41(38,"ion-list",11)(39,"ion-list-header")(40,"ion-label")(41,"b"),e.EFF(42),e.nI1(43,"translate"),e.k0s()()(),e.j41(44,"ion-item",12)(45,"ion-label"),e.EFF(46),e.nI1(47,"translate"),e.k0s()(),e.j41(48,"ion-item",12)(49,"ion-label"),e.EFF(50),e.nI1(51,"translate"),e.k0s()()(),e.j41(52,"ion-list",11)(53,"ion-list-header")(54,"ion-label")(55,"b"),e.EFF(56),e.nI1(57,"translate"),e.k0s()()(),e.j41(58,"ion-item",16)(59,"ion-label"),e.EFF(60),e.nI1(61,"translate"),e.k0s(),e.j41(62,"ion-badge"),e.EFF(63),e.k0s()(),e.DNE(64,X,4,4,"ion-item",17),e.k0s(),e.j41(65,"ion-list",11)(66,"ion-list-header")(67,"ion-label")(68,"b"),e.EFF(69),e.nI1(70,"translate"),e.k0s()()(),e.j41(71,"ion-item",13),e.bIt("click",function(E){return i.presentModalSetting(E)}),e.j41(72,"ion-label"),e.EFF(73),e.nI1(74,"translate"),e.k0s()(),e.j41(75,"ion-item",18)(76,"ion-label"),e.EFF(77),e.nI1(78,"translate"),e.k0s(),e.nrm(79,"app-select-language"),e.k0s()(),e.j41(80,"ion-list",11)(81,"ion-list-header")(82,"ion-label")(83,"b"),e.EFF(84),e.nI1(85,"translate"),e.k0s()()(),e.j41(86,"ion-item",12)(87,"ion-label"),e.EFF(88),e.nI1(89,"translate"),e.k0s()(),e.j41(90,"ion-item",19)(91,"ion-label"),e.EFF(92),e.nI1(93,"translate"),e.k0s()()(),e.j41(94,"ion-list",11)(95,"ion-list-header")(96,"ion-label")(97,"b"),e.EFF(98),e.nI1(99,"translate"),e.k0s()()(),e.j41(100,"ion-item",12)(101,"ion-label"),e.EFF(102),e.nI1(103,"translate"),e.k0s()(),e.j41(104,"ion-item",12)(105,"ion-label"),e.EFF(106),e.nI1(107,"translate"),e.k0s()(),e.j41(108,"ion-item",12)(109,"ion-label"),e.EFF(110),e.nI1(111,"translate"),e.k0s()(),e.j41(112,"ion-item",12)(113,"ion-label"),e.EFF(114),e.nI1(115,"translate"),e.k0s()()()(),e.j41(116,"div")(117,"div",20),e.EFF(118,"\xa9 Copyright 2024 by "),e.j41(119,"a",21),e.EFF(120,"L\u1ea1c Vi\u1ec7t"),e.k0s()()()()()),2&M){let C;e.R7$(9),e.Y8G("src",null!==(C=null==i.user?null:i.user.url_profilephoto)&&void 0!==C?C:"../../../assets/image/user-avatar-default.png",e.B4B),e.R7$(4),e.JRh(null==i.user?null:i.user.fullname),e.R7$(2),e.JRh(null==i.user?null:i.user.emailaddr),e.R7$(5),e.JRh(e.bMT(21,36,"Account")),e.R7$(2),e.Y8G("href",i.APP_ROUTE.USER),e.R7$(2),e.JRh(e.bMT(25,38,"AccountInfo")),e.R7$(4),e.JRh(e.bMT(29,40,"ChangeInfo")),e.R7$(4),e.JRh(e.bMT(33,42,"ChangePassword")),e.R7$(4),e.JRh(e.bMT(37,44,"SignOut")),e.R7$(6),e.JRh(e.bMT(43,46,"MyData")),e.R7$(2),e.Y8G("href",i.APP_ROUTE.DASHBOARD_LECTURE),e.R7$(2),e.JRh(e.bMT(47,48,"Lecture")),e.R7$(2),e.Y8G("href",i.APP_ROUTE.DASHBOARD_MATERIAL),e.R7$(2),e.JRh(e.bMT(51,50,"Material")),e.R7$(6),e.JRh(e.bMT(57,52,"Membership")),e.R7$(2),e.Y8G("href",i.APP_ROUTE.USER_MEMBERSHIP),e.R7$(2),e.JRh(e.bMT(61,54,"MemberInfo")),e.R7$(3),e.JRh(null==i.response.productpackageapplied?null:i.response.productpackageapplied.productpackage_key),e.R7$(),e.vxM(64,i.envUI_Config.is_pricing?64:-1),e.R7$(5),e.JRh(e.bMT(70,56,"General")),e.R7$(4),e.JRh(e.bMT(74,58,"Setting")),e.R7$(4),e.JRh(e.bMT(78,60,"Language")),e.R7$(7),e.JRh(e.bMT(85,62,"ForUser")),e.R7$(2),e.Y8G("href",i.APP_ROUTE.HELP),e.R7$(2),e.JRh(e.bMT(89,64,"UseGuide")),e.R7$(2),e.Y8G("href",i.APP_ROUTE.HOME_DOWNLOAD_APP),e.R7$(2),e.JRh(e.bMT(93,66,"DownloadAppTabca")),e.R7$(6),e.JRh(e.bMT(99,68,"ForTabca")),e.R7$(2),e.Y8G("href",i.APP_ROUTE.ABOUT_US),e.R7$(2),e.JRh(e.bMT(103,70,"AboutUs")),e.R7$(2),e.Y8G("href",i.APP_ROUTE.POLICIES_AND_REGULATIONS),e.R7$(2),e.JRh(e.bMT(107,72,"PoliciesAndRegulations")),e.R7$(2),e.Y8G("href",i.APP_ROUTE.SALES_AND_PAYMENT_POLICIES),e.R7$(2),e.JRh(e.bMT(111,74,"SalesAndPaymentPolicies")),e.R7$(2),e.Y8G("href",i.APP_ROUTE.TERMS_OF_USE),e.R7$(2),e.JRh(e.bMT(115,76,"TermsOfUse"))}},dependencies:[t.In,t.Jm,t.QW,t.W9,t.eU,t.iq,t.uz,t.he,t.nf,t.AF,t.Zx,t.ai,Y.Q,U.D9],styles:["ion-header[_ngcontent-%COMP%]{box-shadow:none}ion-header[_ngcontent-%COMP%]:after{display:none}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{box-shadow:none}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{height:40px;margin:1rem 0 1rem 1rem}ion-thumbnail[_ngcontent-%COMP%]{--size: 140px;--border-radius: 50%;margin:auto}.user-name[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]:first-child{visibility:hidden}.user-name[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{fill:#4d4f60;font-size:16px}.copyright[_ngcontent-%COMP%]{padding:1rem 0 .5rem;color:#666;text-align:center;font-size:.75rem;font-weight:400;line-height:1.5rem}.copyright[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:inherit;text-decoration-line:underline}"]}),j})()},6171:(x,w,r)=>{r.d(w,{A:()=>F});var f=r(6757),s=r(4438),v=r(6637),n=r(177),l=r(9362),N=r(31);function R(d,y){if(1&d){const e=s.RV6();s.qex(0),s.j41(1,"div")(2,"image-cropper",6),s.bIt("imageCropped",function(h){s.eBV(e);const U=s.XpG();return s.Njj(U.imageCropped(h))})("imageLoaded",function(h){s.eBV(e);const U=s.XpG();return s.Njj(U.imageLoaded(h))})("cropperReady",function(){s.eBV(e);const h=s.XpG();return s.Njj(h.cropperReady())})("loadImageFailed",function(){s.eBV(e);const h=s.XpG();return s.Njj(h.loadImageFailed())}),s.k0s()(),s.bVm()}if(2&d){const e=s.XpG();s.R7$(2),s.Y8G("imageFile",e.file)("maintainAspectRatio",!0)("aspectRatio",1)("format",e.croppedImageFormat)}}let F=(()=>{var d;class y{constructor(t){this.modalController=t,this.croppedImageFormat="png"}ngOnInit(){}close(){this.modalController.dismiss()}submit(){this.croppedImage?(0,f.h)(this.croppedImage,this.croppedImageFormat,t=>{t?this.modalController.dismiss(t,"submit"):this.close()}):this.close()}imageCropped(t){var h;this.croppedImage=null!==(h=t.objectUrl)&&void 0!==h?h:void 0}imageLoaded(t){}cropperReady(){}loadImageFailed(){}}return(d=y).\u0275fac=function(t){return new(t||d)(s.rXU(v.W3))},d.\u0275cmp=s.VBU({type:d,selectors:[["app-modal-photo-cropper"]],inputs:{file:"file"},decls:15,vars:7,consts:[[1,"h-100","d-flex","align-items-center","justify-content-center"],[4,"ngIf"],[1,"container","px-2","py-3","d-flex","align-items-stretch","justify-content-around"],[1,"flex-grow-1","mx-1"],["color","medium","shape","round","fill","outline","expand","block",3,"click"],["color","primary","shape","round","expand","block",3,"click"],[3,"imageCropped","imageLoaded","cropperReady","loadImageFailed","imageFile","maintainAspectRatio","aspectRatio","format"]],template:function(t,h){1&t&&(s.j41(0,"ion-content")(1,"div",0),s.DNE(2,R,3,4,"ng-container",1),s.k0s()(),s.j41(3,"ion-footer")(4,"div",2)(5,"div",3)(6,"ion-button",4),s.bIt("click",function(){return h.close()}),s.j41(7,"ion-label"),s.EFF(8),s.nI1(9,"translate"),s.k0s()()(),s.j41(10,"div",3)(11,"ion-button",5),s.bIt("click",function(){return h.submit()}),s.j41(12,"ion-label"),s.EFF(13),s.nI1(14,"translate"),s.k0s()()()()()),2&t&&(s.R7$(2),s.Y8G("ngIf",h.file),s.R7$(6),s.JRh(s.bMT(9,3,"Cancel")),s.R7$(5),s.JRh(s.bMT(14,5,"Complete")))},dependencies:[n.bT,v.Jm,v.W9,v.M0,v.he,l._D,N.D9]}),y})()},6191:(x,w,r)=>{r.d(w,{q:()=>e});var f=r(467),s=r(9946),v=r(5862),n=r(4438),l=r(6637),N=r(177),R=r(9417),F=r(31);const d=()=>({standalone:!0});function y(t,h){if(1&t&&(n.j41(0,"div",8)(1,"div",14),n.EFF(2),n.k0s()()),2&t){const U=n.XpG();n.R7$(2),n.JRh(U.response.returnmsg)}}let e=(()=>{var t;class h{constructor(p,c,b){this.modalController=p,this.toastController=c,this.loadingController=b,this.isfullscreen=!1,this.dataForm={},this.configs=[]}ngOnInit(){var p,c,b;this.isfullscreen=window.document.body.classList.contains("modal-fullscreen"),this.dataForm.userid=null===(p=this.user)||void 0===p?void 0:p.userid,this.dataForm.fullname=null===(c=this.user)||void 0===c?void 0:c.fullname,this.dataForm.emailaddr=null===(b=this.user)||void 0===b?void 0:b.emailaddr}toggleFullScreen(){this.isfullscreen?window.document.body.classList.remove("modal-fullscreen"):window.document.body.classList.add("modal-fullscreen"),this.isfullscreen=window.document.body.classList.contains("modal-fullscreen")}close(){return this.modalController.dismiss(null,"cancel")}switchModal(p){return this.modalController.dismiss({modalName:p,dataForm:this.dataForm},"switch")}changeFullName(p){this.dataForm.fullname=p}keypressFullName(p){(p.keyCode||p.which||p.charCode||0)==v.r_I.Enter&&this.formSubmit(p)}formSubmit(p){var c=this;return(0,f.A)(function*(){var b;if(p.preventDefault(),!c.dataForm.fullname)return;let O=null===(b=c.dataForm.fullname)||void 0===b?void 0:b.split(" ");c.dataForm.firstname=null==O?void 0:O.pop(),c.dataForm.lastname=null==O?void 0:O.join(" "),(0,s.Wm)({loadingController:c.loadingController,params:c.dataForm,callback:S=>{c.response=S,0==(null==S?void 0:S.returncode)&&c.modalController.dismiss(c.dataForm,"confirm")}})})()}}return(t=h).\u0275fac=function(p){return new(p||t)(n.rXU(l.W3),n.rXU(l.K_),n.rXU(l.Xi))},t.\u0275cmp=n.VBU({type:t,selectors:[["app-modal-user-change-info"]],inputs:{user:"user"},decls:35,vars:24,consts:[["slot","end"],["color","dark",1,"d-none","d-md-block",3,"click"],[3,"src"],["color","dark",3,"click"],["src","../../../assets/icon/16x16/close.svg"],[1,"container-form"],["src","../../../../assets/image/logo.svg","alt","Tabca"],[3,"submit"],[1,"form-group"],["type","text","name","fullname","minlength","{6}","maxlength","{32}","required","","autofocus","",1,"form-control",3,"keypress","ngModelChange","placeholder","ngModel","ngModelOptions"],[1,"form-group","mb-5"],["type","email","name","emailaddr","minlength","{6}","maxlength","{32}","required","","autofocus","","readonly","",1,"form-control",3,"placeholder","ngModel"],["class","form-group",4,"ngIf"],["type","submit",1,"btn"],[1,"text-danger","text-center"]],template:function(p,c){1&p&&(n.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",1),n.bIt("click",function(){return c.toggleFullScreen()}),n.nrm(4,"ion-icon",2),n.k0s(),n.j41(5,"ion-button",3),n.bIt("click",function(){return c.close()}),n.nrm(6,"ion-icon",4),n.k0s()()()(),n.j41(7,"ion-content")(8,"div",5),n.nrm(9,"img",6),n.j41(10,"h1"),n.EFF(11),n.nI1(12,"translate"),n.k0s(),n.j41(13,"form",7),n.bIt("submit",function(O){return c.formSubmit(O)}),n.j41(14,"div",8)(15,"label"),n.EFF(16),n.nI1(17,"translate"),n.j41(18,"span"),n.EFF(19,"*"),n.k0s()(),n.j41(20,"input",9),n.nI1(21,"translate"),n.bIt("keypress",function(O){return c.keypressFullName(O)})("ngModelChange",function(O){return c.changeFullName(O)}),n.k0s()(),n.j41(22,"div",10)(23,"label"),n.EFF(24),n.nI1(25,"translate"),n.j41(26,"span"),n.EFF(27,"*"),n.k0s()(),n.nrm(28,"input",11),n.nI1(29,"translate"),n.k0s(),n.DNE(30,y,3,1,"div",12),n.j41(31,"div",8)(32,"button",13),n.EFF(33),n.nI1(34,"translate"),n.k0s()()()()()),2&p&&(n.R7$(4),n.Y8G("src",c.isfullscreen?"assets/icon/16x16/fullscreen-exit.svg":"assets/icon/16x16/fullscreen.svg"),n.R7$(7),n.JRh(n.bMT(12,11,"ChangeInfo")),n.R7$(5),n.SpI("",n.bMT(17,13,"YourName")," "),n.R7$(4),n.FS9("placeholder",n.bMT(21,15,"EnterYourName")),n.Y8G("ngModel",c.dataForm.fullname)("ngModelOptions",n.lJ4(23,d)),n.R7$(4),n.SpI("",n.bMT(25,17,"Email")," "),n.R7$(4),n.FS9("placeholder",n.bMT(29,19,"EnterEmail")),n.Y8G("ngModel",c.dataForm.emailaddr),n.R7$(2),n.Y8G("ngIf",c.response),n.R7$(3),n.JRh(n.bMT(34,21,"Confirm")))},dependencies:[N.bT,R.qT,R.me,R.BC,R.cb,R.YS,R.xh,R.tU,R.vS,R.cV,l.Jm,l.QW,l.W9,l.eU,l.iq,l.ai,F.D9],styles:["ion-header[_ngcontent-%COMP%]{box-shadow:none}ion-header[_ngcontent-%COMP%]:after{display:none}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{box-shadow:none}.container-form[_ngcontent-%COMP%]{max-width:420px;padding:0 1rem;margin:auto}.container-form[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:3rem}.container-form[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{margin:1rem 0 2rem;font-size:32px;font-weight:700;line-height:40px}.container-form[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]{color:#1f1f39;font-size:14px}.container-form[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{text-align:center}.container-form[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#858597}.container-form[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3243c7;cursor:pointer}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{margin-bottom:5px;color:#333}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#ff3131}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%] > select[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:100%;height:50px;border-radius:12px;border:.5px solid #B8B8D2;background:#e8f0fe;outline:none;box-shadow:none}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:100%;height:50px;border-radius:12px;color:#fff;background:#3243c7;background:linear-gradient(90deg,#6d42e7 4.11%,#ea5fc1);border:0;outline:none;box-shadow:none}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .custom-control[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{vertical-align:sub}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3243c7;cursor:pointer}form[_ngcontent-%COMP%]   .for-got-pwd[_ngcontent-%COMP%]{margin-top:-.5rem;text-align:right}"]}),h})()},6571:(x,w,r)=>{r.d(w,{x:()=>e});var f=r(467),s=r(9946),v=r(5862),n=r(4438),l=r(6637),N=r(177),R=r(9417),F=r(31);const d=()=>({standalone:!0});function y(t,h){if(1&t&&(n.j41(0,"div",8)(1,"div",16),n.EFF(2),n.k0s()()),2&t){const U=n.XpG();n.R7$(2),n.JRh(U.response.returnmsg)}}let e=(()=>{var t;class h{constructor(p,c,b){this.modalController=p,this.toastController=c,this.loadingController=b,this.isfullscreen=!1,this.dataForm={}}ngOnInit(){var p;this.isfullscreen=window.document.body.classList.contains("modal-fullscreen"),this.dataForm.emailaddr=null===(p=this.user)||void 0===p?void 0:p.emailaddr}toggleFullScreen(){this.isfullscreen?window.document.body.classList.remove("modal-fullscreen"):window.document.body.classList.add("modal-fullscreen"),this.isfullscreen=window.document.body.classList.contains("modal-fullscreen")}close(){return this.modalController.dismiss(null,"cancel")}switchModal(p){return this.modalController.dismiss({modalName:p,dataForm:this.dataForm},"switch")}changePwd(p){this.dataForm.pwd=p}changeNewPwd(p){this.dataForm.newpwd=p}changeNewPwd2(p){this.dataForm.newpwd2=p}keypressPwd(p){(p.keyCode||p.which||p.charCode||0)==v.r_I.Enter&&this.formSubmit(p)}formSubmit(p){var c=this;return(0,f.A)(function*(){p.preventDefault(),c.dataForm.emailaddr&&c.dataForm.pwd&&c.dataForm.newpwd&&c.dataForm.newpwd==c.dataForm.newpwd2&&(0,s.bI)({loadingController:c.loadingController,params:c.dataForm,callback:b=>{c.response=b,b&&0==b.returncode&&c.close()}})})()}}return(t=h).\u0275fac=function(p){return new(p||t)(n.rXU(l.W3),n.rXU(l.K_),n.rXU(l.Xi))},t.\u0275cmp=n.VBU({type:t,selectors:[["app-modal-user-change-pwd"]],inputs:{user:"user"},decls:48,vars:35,consts:[["slot","end"],["color","dark",1,"d-none","d-md-block",3,"click"],[3,"src"],["color","dark",3,"click"],["src","../../../assets/icon/16x16/close.svg"],[1,"container-form"],["src","../../../../assets/image/logo.svg","alt","Tabca"],[3,"submit"],[1,"form-group"],["type","email","name","emailaddr","minlength","{6}","maxlength","{32}","required","","autofocus","","readonly","",1,"form-control",3,"placeholder","ngModel"],["type","password","name","pwd","minlength","{6}","maxlength","{32}","required","","placeholder","******",1,"form-control",3,"ngModelChange","ngModel","ngModelOptions"],["type","password","name","newpwd","minlength","{6}","maxlength","{32}","required","","placeholder","******",1,"form-control",3,"ngModelChange","ngModel","ngModelOptions"],[1,"form-group","mb-5"],["type","password","name","newpwd2","minlength","{6}","maxlength","{32}","required","","placeholder","******",1,"form-control",3,"keypress","ngModelChange","ngModel","ngModelOptions"],["class","form-group",4,"ngIf"],["type","submit",1,"btn"],[1,"text-danger","text-center"]],template:function(p,c){1&p&&(n.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",1),n.bIt("click",function(){return c.toggleFullScreen()}),n.nrm(4,"ion-icon",2),n.k0s(),n.j41(5,"ion-button",3),n.bIt("click",function(){return c.close()}),n.nrm(6,"ion-icon",4),n.k0s()()()(),n.j41(7,"ion-content")(8,"div",5),n.nrm(9,"img",6),n.j41(10,"h1"),n.EFF(11),n.nI1(12,"translate"),n.k0s(),n.j41(13,"form",7),n.bIt("submit",function(O){return c.formSubmit(O)}),n.j41(14,"div",8)(15,"label"),n.EFF(16),n.nI1(17,"translate"),n.j41(18,"span"),n.EFF(19,"*"),n.k0s()(),n.nrm(20,"input",9),n.nI1(21,"translate"),n.k0s(),n.j41(22,"div",8)(23,"label"),n.EFF(24),n.nI1(25,"translate"),n.j41(26,"span"),n.EFF(27,"*"),n.k0s()(),n.j41(28,"input",10),n.bIt("ngModelChange",function(O){return c.changePwd(O)}),n.k0s()(),n.j41(29,"div",8)(30,"label"),n.EFF(31),n.nI1(32,"translate"),n.j41(33,"span"),n.EFF(34,"*"),n.k0s()(),n.j41(35,"input",11),n.bIt("ngModelChange",function(O){return c.changeNewPwd(O)}),n.k0s()(),n.j41(36,"div",12)(37,"label"),n.EFF(38),n.nI1(39,"translate"),n.j41(40,"span"),n.EFF(41,"*"),n.k0s()(),n.j41(42,"input",13),n.bIt("keypress",function(O){return c.keypressPwd(O)})("ngModelChange",function(O){return c.changeNewPwd2(O)}),n.k0s()(),n.DNE(43,y,3,1,"div",14),n.j41(44,"div",8)(45,"button",15),n.EFF(46),n.nI1(47,"translate"),n.k0s()()()()()),2&p&&(n.R7$(4),n.Y8G("src",c.isfullscreen?"assets/icon/16x16/fullscreen-exit.svg":"assets/icon/16x16/fullscreen.svg"),n.R7$(7),n.JRh(n.bMT(12,18,"UpdatePassword")),n.R7$(5),n.SpI("",n.bMT(17,20,"Email")," "),n.R7$(4),n.FS9("placeholder",n.bMT(21,22,"EnterEmail")),n.Y8G("ngModel",c.dataForm.emailaddr),n.R7$(4),n.SpI("",n.bMT(25,24,"OldPassword")," "),n.R7$(4),n.Y8G("ngModel",c.dataForm.pwd)("ngModelOptions",n.lJ4(32,d)),n.R7$(3),n.SpI("",n.bMT(32,26,"NewPassword")," "),n.R7$(4),n.Y8G("ngModel",c.dataForm.newpwd)("ngModelOptions",n.lJ4(33,d)),n.R7$(3),n.SpI("",n.bMT(39,28,"ConfirmPassword")," "),n.R7$(4),n.HbH(c.dataForm.newpwd&&c.dataForm.newpwd2?c.dataForm.newpwd==c.dataForm.newpwd2?"is-valid":"is-invalid":""),n.Y8G("ngModel",c.dataForm.newpwd2)("ngModelOptions",n.lJ4(34,d)),n.R7$(),n.Y8G("ngIf",c.response),n.R7$(3),n.JRh(n.bMT(47,30,"SetNewPassword")))},dependencies:[N.bT,R.qT,R.me,R.BC,R.cb,R.YS,R.xh,R.tU,R.vS,R.cV,l.Jm,l.QW,l.W9,l.eU,l.iq,l.ai,F.D9],styles:["ion-header[_ngcontent-%COMP%]{box-shadow:none}ion-header[_ngcontent-%COMP%]:after{display:none}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{box-shadow:none}.container-form[_ngcontent-%COMP%]{max-width:420px;padding:0 1rem;margin:auto}.container-form[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:3rem}.container-form[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{margin:1rem 0 2rem;font-size:32px;font-weight:700;line-height:40px}.container-form[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]{color:#1f1f39;font-size:14px}.container-form[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{text-align:center}.container-form[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#858597}.container-form[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3243c7;cursor:pointer}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{margin-bottom:5px;color:#333}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#ff3131}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%] > select[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:100%;height:50px;border-radius:12px;outline:none;box-shadow:none}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:100%;height:50px;border-radius:12px;color:#fff;background:#3243c7;background:linear-gradient(90deg,#6d42e7 4.11%,#ea5fc1);border:0;outline:none;box-shadow:none}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .custom-control[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{vertical-align:sub}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3243c7;cursor:pointer}form[_ngcontent-%COMP%]   .for-got-pwd[_ngcontent-%COMP%]{margin-top:-.5rem;text-align:right}"]}),h})()},6757:(x,w,r)=>{r.d(w,{$:()=>G,h:()=>A});var f=r(467),s=r(5083),v=function(a){return a.Prompt="PROMPT",a.Camera="CAMERA",a.Photos="PHOTOS",a}(v||{}),n=function(a){return a.Rear="REAR",a.Front="FRONT",a}(n||{}),l=function(a){return a.Uri="uri",a.Base64="base64",a.DataUrl="dataUrl",a}(l||{});class N extends s.E_{getPhoto(o){var m=this;return(0,f.A)(function*(){return new Promise(function(){var u=(0,f.A)(function*(g,_){if(o.webUseInput||o.source===v.Photos)m.fileInputExperience(o,g,_);else if(o.source===v.Prompt){let P=document.querySelector("pwa-action-sheet");P||(P=document.createElement("pwa-action-sheet"),document.body.appendChild(P)),P.header=o.promptLabelHeader||"Photo",P.cancelable=!1,P.options=[{title:o.promptLabelPhoto||"From Photos"},{title:o.promptLabelPicture||"Take Picture"}],P.addEventListener("onSelection",function(){var I=(0,f.A)(function*(T){0===T.detail?m.fileInputExperience(o,g,_):m.cameraExperience(o,g,_)});return function(T){return I.apply(this,arguments)}}())}else m.cameraExperience(o,g,_)});return function(g,_){return u.apply(this,arguments)}}())})()}pickImages(o){var m=this;return(0,f.A)(function*(){return new Promise(function(){var u=(0,f.A)(function*(g,_){m.multipleFileInputExperience(g,_)});return function(g,_){return u.apply(this,arguments)}}())})()}cameraExperience(o,m,u){var g=this;return(0,f.A)(function*(){if(customElements.get("pwa-camera-modal")){const _=document.createElement("pwa-camera-modal");_.facingMode=o.direction===n.Front?"user":"environment",document.body.appendChild(_);try{yield _.componentOnReady(),_.addEventListener("onPhoto",function(){var P=(0,f.A)(function*(I){const T=I.detail;null===T?u(new s.I9("User cancelled photos app")):T instanceof Error?u(T):m(yield g._getCameraPhoto(T,o)),_.dismiss(),document.body.removeChild(_)});return function(I){return P.apply(this,arguments)}}()),_.present()}catch{g.fileInputExperience(o,m,u)}}else console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements."),g.fileInputExperience(o,m,u)})()}fileInputExperience(o,m,u){let g=document.querySelector("#_capacitor-camera-input");const _=()=>{var P;null===(P=g.parentNode)||void 0===P||P.removeChild(g)};g||(g=document.createElement("input"),g.id="_capacitor-camera-input",g.type="file",g.hidden=!0,document.body.appendChild(g),g.addEventListener("change",P=>{const I=g.files[0];let T="jpeg";if("image/png"===I.type?T="png":"image/gif"===I.type&&(T="gif"),"dataUrl"===o.resultType||"base64"===o.resultType){const $=new FileReader;$.addEventListener("load",()=>{if("dataUrl"===o.resultType)m({dataUrl:$.result,format:T});else if("base64"===o.resultType){const V=$.result.split(",")[1];m({base64String:V,format:T})}_()}),$.readAsDataURL(I)}else m({webPath:URL.createObjectURL(I),format:T}),_()}),g.addEventListener("cancel",P=>{u(new s.I9("User cancelled photos app")),_()})),g.accept="image/*",g.capture=!0,o.source===v.Photos||o.source===v.Prompt?g.removeAttribute("capture"):o.direction===n.Front?g.capture="user":o.direction===n.Rear&&(g.capture="environment"),g.click()}multipleFileInputExperience(o,m){let u=document.querySelector("#_capacitor-camera-input-multiple");const g=()=>{var _;null===(_=u.parentNode)||void 0===_||_.removeChild(u)};u||(u=document.createElement("input"),u.id="_capacitor-camera-input-multiple",u.type="file",u.hidden=!0,u.multiple=!0,document.body.appendChild(u),u.addEventListener("change",_=>{const P=[];for(let I=0;I<u.files.length;I++){const T=u.files[I];let $="jpeg";"image/png"===T.type?$="png":"image/gif"===T.type&&($="gif"),P.push({webPath:URL.createObjectURL(T),format:$})}o({photos:P}),g()}),u.addEventListener("cancel",_=>{m(new s.I9("User cancelled photos app")),g()})),u.accept="image/*",u.click()}_getCameraPhoto(o,m){return new Promise((u,g)=>{const _=new FileReader,P=o.type.split("/")[1];"uri"===m.resultType?u({webPath:URL.createObjectURL(o),format:P,saved:!1}):(_.readAsDataURL(o),_.onloadend=()=>{const I=_.result;u("dataUrl"===m.resultType?{dataUrl:I,format:P,saved:!1}:{base64String:I.split(",")[1],format:P,saved:!1})},_.onerror=I=>{g(I)})})}checkPermissions(){var o=this;return(0,f.A)(function*(){if(typeof navigator>"u"||!navigator.permissions)throw o.unavailable("Permissions API not available in this browser");try{return{camera:(yield window.navigator.permissions.query({name:"camera"})).state,photos:"granted"}}catch{throw o.unavailable("Camera permissions are not available in this browser")}})()}requestPermissions(){var o=this;return(0,f.A)(function*(){throw o.unimplemented("Not implemented on web.")})()}pickLimitedLibraryPhotos(){var o=this;return(0,f.A)(function*(){throw o.unavailable("Not implemented on web.")})()}getLimitedLibraryPhotos(){var o=this;return(0,f.A)(function*(){throw o.unavailable("Not implemented on web.")})()}}new N;const F=(0,s.F3)("Camera",{web:()=>new N});var d=r(4438),y=r(6637),e=r(177),t=r(31);const h=()=>["ios","android"],U=()=>["web","ios","android"];function p(a,o){if(1&a){const m=d.RV6();d.j41(0,"ion-item",3),d.bIt("click",function(){d.eBV(m);const g=d.XpG();return d.Njj(g.submit("camera"))}),d.nrm(1,"ion-icon",4),d.j41(2,"ion-label"),d.EFF(3),d.nI1(4,"translate"),d.k0s()()}2&a&&(d.R7$(3),d.JRh(d.bMT(4,1,"TakePhoto")))}function c(a,o){if(1&a){const m=d.RV6();d.j41(0,"ion-item",3),d.bIt("click",function(){d.eBV(m);const g=d.XpG();return d.Njj(g.submit("library"))}),d.nrm(1,"ion-icon",5),d.j41(2,"ion-label"),d.EFF(3),d.nI1(4,"translate"),d.k0s()()}2&a&&(d.R7$(3),d.JRh(d.bMT(4,1,"ChooseFromLibrary")))}let b=(()=>{var a;class o{constructor(u){this.modalController=u,this.platform=s.Ii.getPlatform()}ngOnInit(){}submit(u){this.modalController.dismiss(u,"submit")}}return(a=o).\u0275fac=function(u){return new(u||a)(d.rXU(y.W3))},a.\u0275cmp=d.VBU({type:a,selectors:[["app-modal-photo"]],decls:4,vars:4,consts:[[1,"container"],["lines","none",1,"py-3"],["button","",3,"click",4,"ngIf"],["button","",3,"click"],["slot","start","color","primary","name","camera-outline"],["slot","start","color","primary","name","images-outline"]],template:function(u,g){1&u&&(d.j41(0,"div",0)(1,"ion-list",1),d.DNE(2,p,5,3,"ion-item",2)(3,c,5,3,"ion-item",2),d.k0s()()),2&u&&(d.R7$(2),d.Y8G("ngIf",d.lJ4(2,h).includes(g.platform)),d.R7$(),d.Y8G("ngIf",d.lJ4(3,U).includes(g.platform)))},dependencies:[e.bT,y.iq,y.uz,y.he,y.nf,t.D9],styles:[".container[_ngcontent-%COMP%]{min-width:20rem;max-width:30rem}"]}),o})();var O=r(5414),S=r(6348),Y=/^http(s)?:\/\//i,X=/^blob:http(s)?:\/\//i,K=/^data:[^;]+;base64,/i;const A=(a,o,m)=>{fetch(a).then(u=>u.arrayBuffer()).then(u=>{var g,_,P;if((a=>a&&null!==a.match(Y))(a))_=o||(null!==(P=a.split(".").pop())&&void 0!==P?P:""),g=S.lookup(o);else if((a=>a&&null!==a.match(X))(a))_=o,g=S.lookup(o);else if(function(a){return a&&null!==a.match(K)}(a)){var I,T;g=null!==(I=(null!==(T=a.match(/^data:([^;]+);base64,/i))&&void 0!==T?T:[])[1])&&void 0!==I?I:"",_=o||S.extension(g)}if(g&&_)return new File([u],`${Math.round(999999999*Math.random())}.${_}`,{type:g});m()}).then(u=>{m(u)}).catch(u=>{m()})},G=function(){var a=(0,f.A)(function*(o,m){let u=yield o.modalController.create({component:b,cssClass:"ion-modal-auto ion-modal-bottom",backdropDismiss:!0,keyboardClose:!0});u.onDidDismiss().then(g=>{if("submit"==g.role)switch(g.data){case"camera":(a=>{F.checkPermissions().then(o=>{"granted"==o.camera?a.success():"denied"==o.camera?a.error("B\u1ea1n \u0111\xe3 t\u1eeb ch\u1ed1i \u1ee9ng d\u1ee5ng truy c\u1eadp ch\u1ee9c n\u0103ng n\xe0y, h\xe3y b\u1eadt l\u1ea1i n\xf3 trong ph\u1ea7n c\xe0i \u0111\u1eb7t \u1ee9ng d\u1ee5ng tr\xean thi\u1ebft b\u1ecb!"):("prompt"==o.camera||"prompt-with-rationale"==o.camera)&&F.requestPermissions().then(m=>{"granted"==m.camera?a.success():"denied"==m.camera&&a.error("B\u1ea1n \u0111\xe3 t\u1eeb ch\u1ed1i \u1ee9ng d\u1ee5ng truy c\u1eadp ch\u1ee9c n\u0103ng n\xe0y, h\xe3y b\u1eadt l\u1ea1i n\xf3 trong ph\u1ea7n c\xe0i \u0111\u1eb7t \u1ee9ng d\u1ee5ng tr\xean thi\u1ebft b\u1ecb!")}).catch(m=>{a.error("Something is wrong!")})}).catch(o=>{a.error("Something is wrong!")})})({success:()=>{(a=>{F.getPhoto({quality:100,source:v.Camera,resultType:l.DataUrl}).then(o=>{o.dataUrl&&A(o.dataUrl,o.format,m=>{m&&a([m])})}).catch(o=>{console.error("getPhoto catch",o)})})(m)},error:_=>{o.toastController&&(0,O.c)(o.toastController,{color:"info",message:_}).then(P=>P.present())}});break;case"library":(a=>{F.checkPermissions().then(o=>{"granted"==o.photos?a.success():"denied"==o.photos?a.error("B\u1ea1n \u0111\xe3 t\u1eeb ch\u1ed1i \u1ee9ng d\u1ee5ng truy c\u1eadp ch\u1ee9c n\u0103ng n\xe0y, h\xe3y b\u1eadt l\u1ea1i n\xf3 trong ph\u1ea7n c\xe0i \u0111\u1eb7t \u1ee9ng d\u1ee5ng tr\xean thi\u1ebft b\u1ecb!"):("prompt"==o.photos||"prompt-with-rationale"==o.photos)&&F.requestPermissions().then(m=>{"granted"==m.photos?a.success():"denied"==m.photos&&a.error("B\u1ea1n \u0111\xe3 t\u1eeb ch\u1ed1i \u1ee9ng d\u1ee5ng truy c\u1eadp ch\u1ee9c n\u0103ng n\xe0y, h\xe3y b\u1eadt l\u1ea1i n\xf3 trong ph\u1ea7n c\xe0i \u0111\u1eb7t \u1ee9ng d\u1ee5ng tr\xean thi\u1ebft b\u1ecb!")}).catch(m=>{a.error("Something is wrong!")})}).catch(o=>{a.error("Something is wrong!")})})({success:()=>{(a=>{F.getPhoto({quality:100,source:v.Photos,resultType:l.DataUrl}).then(o=>{o.dataUrl&&A(o.dataUrl,o.format,m=>{m&&a([m])})}).catch(o=>{console.error("getPhoto catch",o)})})(m)},error:_=>{o.toastController&&(0,O.c)(o.toastController,{color:"info",message:_}).then(P=>P.present())}})}}),u.present()});return function(m,u){return a.apply(this,arguments)}}()}}]);