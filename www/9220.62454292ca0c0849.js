"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9220],{9316:(w,P,l)=>{l.d(P,{p:()=>d});const d=(0,l(5083).F3)("Device",{web:()=>l.e(8622).then(l.bind(l,8622)).then(u=>new u.DeviceWeb)})},2806:(w,P,l)=>{l.d(P,{FC:()=>u,FL:()=>i,LC:()=>O,PS:()=>d,Q$:()=>c,QQ:()=>C,Tt:()=>y,Xd:()=>M,hv:()=>h,r_:()=>E});const i={RESIZE_GROUP:"icdt-resize-g",SELECT_GROUP:"icdt-select-g",SCAN_GROUP:"icdt-scan-g",CREATE_GROUP:"icdt-create-g",INTERACTIVE_GROUP:"icdt-interactive-g",INDEX_GROUP:"icdt-index-g",BACKGROUND_GROUP:"icdt-background-g",TEST_GROUP:"icdt-test-g"},d={POINTER:0,HAND:1,PEN:2,SHAPE:3,FOREIGNOBJECT:6,IMAGE:7,TEXT:4,ERASER:5,INDEX:8},u={DRAW:1,HIGHTLIGH:2,INTERACTIVE:3},h={GROUP:0,CIRCLE:1,ELLIPSE:2,LINE:5,RECT:3,POLYGON:4,FOREIGNOBJECT:6,IMAGE:9,TEXT:7,TSPAN:10,PATH:8,POLYLINE:11},c={TRIANGLE_ISOSCELES:3,TRIANGLE_EQUILATERAL:31,RECTANGLE:4,PENTAGON:5,HEXAGON:6,BOOKMARK:101,COMMENT:102,CROSS:104,ARROW_ONEWAY:201,ARROW_TWOWAY:202,STAR_FOUR:304,STAR_FIVE:305,STAR_SIX:306},O=[{name:"tam gi\xe1c vu\xf4ng",type:c.TRIANGLE_ISOSCELES,ratios:[[0,0],[1,1],[0,1]]},{name:"tam gi\xe1c c\xe2n",type:c.TRIANGLE_EQUILATERAL,ratios:[[.5,0],[0,1],[1,1]]},{name:"h\xecnh ch\u1eef nh\u1eadt",type:c.RECTANGLE,ratios:[[0,0],[1,0],[1,1],[0,1]]},{name:"h\xecnh ng\u0169 gi\xe1c \u0111\u1ec1u",type:c.PENTAGON,ratios:[[.5,0],[1,.4],[.8,1],[.2,1],[0,.4]]},{name:"h\xecnh l\u1ee5c gi\xe1c \u0111\u1ec1u",type:c.HEXAGON,ratios:[[.5,0],[1,.25],[1,.75],[.5,1],[0,.75],[0,.25]]},{name:"khung \u0111\xe1nh d\u1ea5u v\u1ecb tr\xed",type:c.BOOKMARK,ratios:[[0,0],[1,0],[1,.8],[.5,1],[0,.8]]},{name:"khung \u0111\xe1nh tr\xf2 chuy\u1ec7n",type:c.COMMENT,ratios:[[0,0],[1,0],[1,.9],[.3,.9],[.2,1],[.1,.9],[0,.9]]},{name:"h\xecnh ch\u1eef th\u1eadp",type:c.CROSS,ratios:[[0,.3],[.3,.3],[.3,0],[.7,0],[.7,.3],[1,.3],[1,.7],[.7,.7],[.7,1],[.3,1],[.3,.7],[0,.7]]},{name:"h\xecnh m\u0169i t\xean 1 chi\u1ec1u",type:c.ARROW_ONEWAY,ratios:[[0,.2],[.8,.2],[.8,0],[1,.5],[.8,1],[.8,.8],[0,.8]]},{name:"h\xecnh m\u0169i t\xean 2 chi\u1ec1u",type:c.ARROW_TWOWAY,ratios:[[.2,0],[.2,.2],[.8,.2],[.8,0],[1,.5],[.8,1],[.8,.8],[.2,.8],[.2,1],[0,.5]]},{name:"h\xecnh ng\xf4i sao 4 c\xe1nh",type:c.STAR_FOUR,ratios:[[.5,0],[.65,.35],[1,.5],[.65,.65],[.5,1],[.35,.65],[0,.5],[.35,.35]]},{name:"h\xecnh ng\xf4i sao 5 c\xe1nh",type:c.STAR_FIVE,ratios:[[.5,0],[.625,.4],[1,.4],[.675,.625],[.8,1],[.5,.775],[.2,1],[.325,.625],[0,.4],[.375,.4]]},{name:"h\xecnh ng\xf4i sao 6 c\xe1nh",type:c.STAR_SIX,ratios:[[.5,0],[.667,.25],[1,.25],[.5+.334,.5],[1,.75],[.667,.75],[.5,1],[.334,.75],[0,.75],[.167,.5],[0,.25],[.334,.25]]}],M={IMAGE:1,HTML:2,AUDIO:3,VIDEO:4},C={TEXT:900,IMAGE:901,AUDIO:902,VIDEO:903,LINK:904,ZIP:905,HTML:906,TRACK:907,OFFICE:908,WORD:916,EXCEL:917,POWERPOINT:918,PDF:909,PHET:910,IMAGE_ANIMATION:911,SCORM:912},y={ONEDRIVE:1e3,GOOGLEDRIVE:1001,YOUTUBE:1002,SCORM:1003,PHET:1005,OTHER:1004},E={Digit1:49,Digit2:50,Digit3:51,Digit4:52,Digit5:53,Digit6:54,Digit7:55,Digit8:56,Digit9:57,Digit0:48,KeyA:65,KeyB:66,KeyC:67,KeyD:68,KeyE:69,KeyF:70,KeyG:71,KeyH:72,KeyI:73,KeyJ:74,KeyK:75,KeyL:76,KeyM:77,KeyN:78,KeyO:79,KeyP:80,KeyQ:81,KeyR:82,KeyS:83,KeyT:84,KeyU:85,KeyV:86,KeyW:87,KeyX:88,KeyY:89,KeyZ:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,Insert:45,Delete:46,Home:36,End:35,PageUp:33,PageDown:34,ArrowUp:38,ArrowDown:40,ArrowLeft:37,ArrowRight:39,Escape:27,Tab:9,Backspace:8,Enter:13,Space:32,BracketLeft:219,BracketRight:221,Minus:189,Equal:187}},9946:(w,P,l)=>{l.d(P,{LZ:()=>y,NS:()=>d,Wm:()=>M,_5:()=>u,bI:()=>O,il:()=>C,qi:()=>h,wQ:()=>c});var i=l(5972);function d(e){e.params=e.params||{},(0,i.hm)({url:"api/User/Detail",params:{userid:e.params.userid||null},success:a=>{"function"==typeof e.callback&&e.callback(a.data||null)},error:a=>{"function"==typeof e.callback&&e.callback(),console.error(a)},loading:e.loading,loadingController:e.loadingController})}function u(e){e.params=e.params||{},(0,i.Ll)({url:"api/User/SignIn",params:{emailaddr:e.params.emailaddr||null,pwd:e.params.pwd||null},success:a=>{"function"==typeof e.callback&&e.callback(a.data||null)},error:a=>{"function"==typeof e.callback&&e.callback(),console.error(e,a)},loading:e.loading,loadingController:e.loadingController})}function h(e){e.params=e.params||{},(0,i.Ll)({url:"api/User/SignUp",params:{firstname:e.params.firstname||null,lastname:e.params.lastname||null,emailaddr:e.params.emailaddr||null,pwd:e.params.pwd||null},success:a=>{"function"==typeof e.callback&&e.callback(a.data||null)},error:a=>{"function"==typeof e.callback&&e.callback(),console.error(e,a)},loading:e.loading,loadingController:e.loadingController})}function c(e){e.params=e.params||{},(0,i.Ll)({url:"api/User/Active",params:{emailaddr:e.params.emailaddr||null,activationcode:e.params.activationcode||null},success:a=>{"function"==typeof e.callback&&e.callback(a.data||null)},error:a=>{"function"==typeof e.callback&&e.callback(),console.error(e,a)},loading:e.loading,loadingController:e.loadingController})}function O(e){e.params=e.params||{},(0,i.Ll)({url:"api/User/ChangePassword",params:{emailaddr:e.params.emailaddr||null,pwd:e.params.pwd||null,forgotpwdcode:e.params.forgotpwdcode||null,newpwd:e.params.newpwd||null},success:a=>{"function"==typeof e.callback&&e.callback(a.data||null)},error:a=>{"function"==typeof e.callback&&e.callback(),console.error(e,a)},loading:e.loading,loadingController:e.loadingController})}function M(e){e.params=e.params||{},(0,i.Ll)({url:"api/User/UpdateInfo",params:{userid:e.params.userid||null,firstname:e.params.firstname||null,lastname:e.params.lastname||null,emailaddr:e.params.emailaddr||null,mobilecountrycode:e.params.mobilecountrycode||null,mobile:e.params.mobile||null,introduce:e.params.introduce||null},success:a=>{"function"==typeof e.callback&&e.callback(a.data||null)},error:a=>{"function"==typeof e.callback&&e.callback(),console.error(e,a)},loading:e.loading,loadingController:e.loadingController})}function C(e){e.params=e.params||{},(0,i.Ll)({url:"api/users/forgotpassword",params:{emailaddr:e.params.emailaddr||null},success:a=>{if("function"==typeof e.callback){var s=a.data||{};s.returncode=null!=s.returncode?s.returncode:s.ReturnCode,s.returnmsg=null!=s.returnmsg?s.returnmsg:s.ReturnMsg,s.id=null!=s.id?s.id:s.AccountID,e.callback(s)}},error:a=>{"function"==typeof e.callback&&e.callback(),console.error(e,a)},loading:e.loading,loadingController:e.loadingController})}function y(e){e.params=e.params||{},(0,i.Ll)({url:"api/User/UpdatePhoto",params:{userid:e.params.userid||null,profilephoto:e.params.avatar||null},success:a=>{"function"==typeof e.callback&&e.callback(a.data||null)},error:a=>{"function"==typeof e.callback&&e.callback(),console.error(e,a)},loading:e.loading,loadingController:e.loadingController})}},9220:(w,P,l)=>{l.r(P),l.d(P,{UserSetPwdPageModule:()=>A});var i=l(177),d=l(9417),u=l(6637),h=l(3658),c=l(467),O=l(9316),M=l(2806),C=l(5972),y=l(9946),E=l(2635),e=l(8833),a=l(5414),s=l(5312),n=l(4438),b=l(345),T=l(31);const R=()=>({standalone:!0});function v(o,f){if(1&o&&(n.j41(0,"option",17),n.EFF(1),n.k0s()),2&o){const g=f.$implicit;n.Y8G("value",g.madonvi),n.R7$(),n.JRh(g.tendv)}}function F(o,f){if(1&o){const g=n.RV6();n.j41(0,"div",9)(1,"label"),n.EFF(2),n.nI1(3,"translate"),n.j41(4,"span"),n.EFF(5,"*"),n.k0s()(),n.j41(6,"select",15),n.bIt("ngModelChange",function(t){n.eBV(g);const m=n.XpG();return n.Njj(m.changeDonVi(t))}),n.DNE(7,v,2,2,"option",16),n.k0s()()}if(2&o){const g=n.XpG();n.R7$(2),n.SpI("",n.bMT(3,4,"Unit")," "),n.R7$(4),n.Y8G("ngModel",g.dataForm.madonvi)("ngModelOptions",n.lJ4(6,R)),n.R7$(),n.Y8G("ngForOf",g.configs)}}const I=[{path:"",component:(()=>{var o;class f{constructor(r,t,m,p){this.router=r,this.activatedRoute=t,this.titleService=m,this.toastController=p,this.appsettings={},this.configs=[],this.dataForm={},this.inputPwdType="password",m.setTitle("\u0110\u1eb7t m\u1eadt kh\u1ea9u m\u1edbi")}ngOnInit(){var r=this;if(this.dataForm.emailaddr=this.activatedRoute.snapshot.queryParamMap.get("email")||"",this.dataForm.forgotpwdcode=this.activatedRoute.snapshot.queryParamMap.get("code")||"",!this.dataForm.emailaddr||!this.dataForm.forgotpwdcode)return this.backToHome();(0,c.A)(function*(){(0,E.kD)({}),yield(0,C.jQ)(),r.appsettings=yield(0,C.AC)(),r.dataForm.madonvi=r.appsettings.madonvi;let t=yield O.p.getId();r.dataForm.devicekey=null==t?void 0:t.identifier,r.configs=(yield(0,C.zu)())||[],r.configs&&r.configs.length?1==r.configs.length&&(r.dataForm.madonvi=r.configs[0].madonvi):r.dataForm.madonvi=s.c.default_donvi})()}backToHome(){window.location.replace(e._.LANDING_PAGE)}changeDonVi(r){var t=this;return(0,c.A)(function*(){t.dataForm.madonvi=r})()}changeNewPwd(r){this.dataForm.newpwd=r}changeNewPwd2(r){this.dataForm.newpwd2=r}keypressPwd(r){(r.keyCode||r.which||r.charCode||0)==M.r_.Enter&&this.formSubmit(r)}formSubmit(r){var t=this;return(0,c.A)(function*(){r.preventDefault(),t.dataForm.emailaddr&&t.dataForm.forgotpwdcode&&t.dataForm.newpwd&&t.dataForm.newpwd==t.dataForm.newpwd2&&(yield(0,C.MS)(t.dataForm.madonvi),(0,y.bI)({params:t.dataForm,callback:m=>{(0,a.c)(t.toastController,{},m).then(p=>p.present()),0==(null==m?void 0:m.returncode)&&setTimeout(()=>{window.location.replace(e._.LANDING_PAGE+"?require=signin")},3e3)}}))})()}}return(o=f).\u0275fac=function(r){return new(r||o)(n.rXU(h.Ix),n.rXU(h.nX),n.rXU(b.hE),n.rXU(u.K_))},o.\u0275cmp=n.VBU({type:o,selectors:[["app-user-set-pwd"]],decls:37,vars:25,consts:[["scroll-x","false","scroll-y","false"],["slot","fixed","vertical","top","horizontal","start"],["size","small",3,"click"],["name","arrow-back-outline"],[1,"container-main","overflow-auto","d-flex","w-100","h-100","align-items-center","justify-content-center"],[1,"container-form"],["src","../../../assets/image/logo.svg","alt","Tabca"],[3,"submit"],["class","form-group",4,"ngIf"],[1,"form-group"],["type","email","name","emailaddr","minlength","{6}","maxlength","{32}","required","","autofocus","","placeholder","your-email@email.com","readonly","",1,"form-control",3,"ngModel"],["type","password","name","newpwd","minlength","{6}","maxlength","{32}","required","","placeholder","******",1,"form-control",3,"ngModelChange","ngModel","ngModelOptions"],["type","password","name","newpwd2","minlength","{6}","maxlength","{32}","required","","placeholder","******",1,"form-control",3,"keypress","ngModelChange","ngModel","ngModelOptions"],[1,"form-group","mt-5"],["type","submit",1,"btn"],["interface","popover","justify","end",1,"custom-select",3,"ngModelChange","ngModel","ngModelOptions"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(r,t){1&r&&(n.j41(0,"ion-content",0)(1,"ion-fab",1)(2,"ion-fab-button",2),n.bIt("click",function(){return t.backToHome()}),n.nrm(3,"ion-icon",3),n.k0s()(),n.j41(4,"div",4)(5,"div",5),n.nrm(6,"img",6),n.j41(7,"h1"),n.EFF(8),n.nI1(9,"translate"),n.k0s(),n.j41(10,"form",7),n.bIt("submit",function(p){return t.formSubmit(p)}),n.DNE(11,F,8,7,"div",8),n.j41(12,"div",9)(13,"label"),n.EFF(14),n.nI1(15,"translate"),n.j41(16,"span"),n.EFF(17,"*"),n.k0s()(),n.nrm(18,"input",10),n.k0s(),n.j41(19,"div",9)(20,"label"),n.EFF(21),n.nI1(22,"translate"),n.j41(23,"span"),n.EFF(24,"*"),n.k0s()(),n.j41(25,"input",11),n.bIt("ngModelChange",function(p){return t.changeNewPwd(p)}),n.k0s()(),n.j41(26,"div",9)(27,"label"),n.EFF(28),n.nI1(29,"translate"),n.j41(30,"span"),n.EFF(31,"*"),n.k0s()(),n.j41(32,"input",12),n.bIt("keypress",function(p){return t.keypressPwd(p)})("ngModelChange",function(p){return t.changeNewPwd2(p)}),n.k0s()(),n.j41(33,"div",13)(34,"button",14),n.EFF(35),n.nI1(36,"translate"),n.k0s()()()()()()),2&r&&(n.R7$(8),n.JRh(n.bMT(9,13,"UpdatePassword")),n.R7$(3),n.Y8G("ngIf",t.configs.length>1),n.R7$(3),n.SpI("",n.bMT(15,15,"Email")," "),n.R7$(4),n.Y8G("ngModel",t.dataForm.emailaddr),n.R7$(3),n.SpI("",n.bMT(22,17,"NewPassword")," "),n.R7$(4),n.Y8G("ngModel",t.dataForm.newpwd)("ngModelOptions",n.lJ4(23,R)),n.R7$(3),n.SpI("",n.bMT(29,19,"ConfirmPassword")," "),n.R7$(4),n.HbH(t.dataForm.newpwd&&t.dataForm.newpwd2?t.dataForm.newpwd==t.dataForm.newpwd2?"is-valid":"is-invalid":""),n.Y8G("ngModel",t.dataForm.newpwd2)("ngModelOptions",n.lJ4(24,R)),n.R7$(3),n.JRh(n.bMT(36,21,"SetNewPassword")))},dependencies:[i.Sq,i.bT,d.qT,d.xH,d.y7,d.me,d.wz,d.BC,d.cb,d.YS,d.xh,d.tU,d.vS,d.cV,u.W9,u.Q8,u.YW,u.iq,T.D9],styles:[".container-main[_ngcontent-%COMP%]{padding:.5rem;background-image:url(bg-join-and-share.d53a3207da518edb.png);background-repeat:no-repeat;background-size:cover;background-position:center center}.container-form[_ngcontent-%COMP%]{width:420px;padding:2rem 2rem 1rem;margin:auto;border-radius:10px;background:#fff;box-shadow:0 0 20px #00000026}.container-form[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:3rem}.container-form[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{margin:1rem 0 2rem;font-size:32px;font-weight:700;line-height:40px}.container-form[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]{color:#1f1f39;font-size:14px}.container-form[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{text-align:center}.container-form[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#858597}.container-form[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3243c7;cursor:pointer}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{margin-bottom:5px;color:#333}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#ff3131}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%] > select[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:100%;height:50px;border-radius:12px;border:.5px solid #B8B8D2;background-color:#e8f0fe;outline:none;box-shadow:none}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:100%;height:50px;border-radius:12px;color:#fff;background:#3243c7;background:linear-gradient(90deg,#6d42e7 4.11%,#ea5fc1);border:0;outline:none;box-shadow:none}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .custom-control[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{vertical-align:sub}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3243c7;cursor:pointer}form[_ngcontent-%COMP%]   .for-got-pwd[_ngcontent-%COMP%]{margin-top:-.5rem;text-align:right}"]}),f})()}];let U=(()=>{var o;class f{}return(o=f).\u0275fac=function(r){return new(r||o)},o.\u0275mod=n.$C({type:o}),o.\u0275inj=n.G2t({imports:[h.iI.forChild(I),h.iI]}),f})();var S=l(3890);let A=(()=>{var o;class f{}return(o=f).\u0275fac=function(r){return new(r||o)},o.\u0275mod=n.$C({type:o}),o.\u0275inj=n.G2t({imports:[i.MD,d.YN,u.bv,U,S.x]}),f})()}}]);